var pC=Object.defineProperty;var mC=(t,e,n)=>e in t?pC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wn=(t,e,n)=>mC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var h$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _3={exports:{}},xg={},b3={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=Symbol.for("react.element"),yC=Symbol.for("react.portal"),vC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),SC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),IC=Symbol.for("react.lazy"),Ow=Symbol.iterator;function NC(t){return t===null||typeof t!="object"?null:(t=Ow&&t[Ow]||t["@@iterator"],typeof t=="function"?t:null)}var x3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S3=Object.assign,E3={};function dh(t,e,n){this.props=t,this.context=e,this.refs=E3,this.updater=n||x3}dh.prototype.isReactComponent={};dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A3(){}A3.prototype=dh.prototype;function jy(t,e,n){this.props=t,this.context=e,this.refs=E3,this.updater=n||x3}var Vy=jy.prototype=new A3;Vy.constructor=jy;S3(Vy,dh.prototype);Vy.isPureReactComponent=!0;var Fw=Array.isArray,I3=Object.prototype.hasOwnProperty,Uy={current:null},N3={key:!0,ref:!0,__self:!0,__source:!0};function T3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I3.call(e,r)&&!N3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yd,type:t,key:s,ref:o,props:i,_owner:Uy.current}}function TC(t,e){return{$$typeof:yd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function By(t){return typeof t=="object"&&t!==null&&t.$$typeof===yd}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jw=/\/+/g;function N0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function Vp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yd:case yC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+N0(o,0):r,Fw(i)?(n="",t!=null&&(n=t.replace(jw,"$&/")+"/"),Vp(i,e,n,"",function(u){return u})):i!=null&&(By(i)&&(i=TC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+N0(s,a);o+=Vp(s,e,n,l,i)}else if(l=NC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+N0(s,a++),o+=Vp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ip(t,e,n){if(t==null)return t;var r=[],i=0;return Vp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ui={current:null},Up={transition:null},PC={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:Up,ReactCurrentOwner:Uy};function C3(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:ip,forEach:function(t,e,n){ip(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ip(t,function(){e++}),e},toArray:function(t){return ip(t,function(e){return e})||[]},only:function(t){if(!By(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=dh;Ht.Fragment=vC;Ht.Profiler=_C;Ht.PureComponent=jy;Ht.StrictMode=wC;Ht.Suspense=EC;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;Ht.act=C3;Ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)I3.call(e,l)&&!N3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yd,type:t.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(t){return t={$$typeof:xC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bC,_context:t},t.Consumer=t};Ht.createElement=T3;Ht.createFactory=function(t){var e=T3.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:SC,render:t}};Ht.isValidElement=By;Ht.lazy=function(t){return{$$typeof:IC,_payload:{_status:-1,_result:t},_init:kC}};Ht.memo=function(t,e){return{$$typeof:AC,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=Up.transition;Up.transition={};try{t()}finally{Up.transition=e}};Ht.unstable_act=C3;Ht.useCallback=function(t,e){return Ui.current.useCallback(t,e)};Ht.useContext=function(t){return Ui.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return Ui.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return Ui.current.useEffect(t,e)};Ht.useId=function(){return Ui.current.useId()};Ht.useImperativeHandle=function(t,e,n){return Ui.current.useImperativeHandle(t,e,n)};Ht.useInsertionEffect=function(t,e){return Ui.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return Ui.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return Ui.current.useMemo(t,e)};Ht.useReducer=function(t,e,n){return Ui.current.useReducer(t,e,n)};Ht.useRef=function(t){return Ui.current.useRef(t)};Ht.useState=function(t){return Ui.current.useState(t)};Ht.useSyncExternalStore=function(t,e,n){return Ui.current.useSyncExternalStore(t,e,n)};Ht.useTransition=function(){return Ui.current.useTransition()};Ht.version="18.3.1";b3.exports=Ht;var se=b3.exports;const ar=gC(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=se,LC=Symbol.for("react.element"),DC=Symbol.for("react.fragment"),MC=Object.prototype.hasOwnProperty,OC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FC={key:!0,ref:!0,__self:!0,__source:!0};function k3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MC.call(e,r)&&!FC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LC,type:t,key:s,ref:o,props:i,_owner:OC.current}}xg.Fragment=DC;xg.jsx=k3;xg.jsxs=k3;_3.exports=xg;var L=_3.exports,P3={exports:{}},As={},R3={exports:{}},L3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ce){var _e=Z.length;Z.push(ce);e:for(;0<_e;){var be=_e-1>>>1,V=Z[be];if(0<i(V,ce))Z[be]=ce,Z[_e]=V,_e=be;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],_e=Z.pop();if(_e!==ce){Z[0]=_e;e:for(var be=0,V=Z.length,W=V>>>1;be<W;){var J=2*(be+1)-1,ne=Z[J],ie=J+1,ae=Z[ie];if(0>i(ne,_e))ie<V&&0>i(ae,ne)?(Z[be]=ae,Z[ie]=_e,be=ie):(Z[be]=ne,Z[J]=_e,be=J);else if(ie<V&&0>i(ae,_e))Z[be]=ae,Z[ie]=_e,be=ie;else break e}}return ce}function i(Z,ce){var _e=Z.sortIndex-ce.sortIndex;return _e!==0?_e:Z.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,g=3,m=!1,b=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Z){for(var ce=n(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=Z)r(u),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=n(u)}}function O(Z){if(x=!1,I(Z),!b)if(n(l)!==null)b=!0,ge(Q);else{var ce=n(u);ce!==null&&ye(O,ce.startTime-Z)}}function Q(Z,ce){b=!1,x&&(x=!1,_(C),C=-1),m=!0;var _e=g;try{for(I(ce),d=n(l);d!==null&&(!(d.expirationTime>ce)||Z&&!S());){var be=d.callback;if(typeof be=="function"){d.callback=null,g=d.priorityLevel;var V=be(d.expirationTime<=ce);ce=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),I(ce)}else r(l);d=n(l)}if(d!==null)var W=!0;else{var J=n(u);J!==null&&ye(O,J.startTime-ce),W=!1}return W}finally{d=null,g=_e,m=!1}}var te=!1,j=null,C=-1,N=5,F=-1;function S(){return!(t.unstable_now()-F<N)}function P(){if(j!==null){var Z=t.unstable_now();F=Z;var ce=!0;try{ce=j(!0,Z)}finally{ce?R():(te=!1,j=null)}}else te=!1}var R;if(typeof A=="function")R=function(){A(P)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ue=X.port2;X.port1.onmessage=P,R=function(){ue.postMessage(null)}}else R=function(){k(P,0)};function ge(Z){j=Z,te||(te=!0,R())}function ye(Z,ce){C=k(function(){Z(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ge(Q))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var ce=3;break;default:ce=g}var _e=g;g=ce;try{return Z()}finally{g=_e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var _e=g;g=Z;try{return ce()}finally{g=_e}},t.unstable_scheduleCallback=function(Z,ce,_e){var be=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?be+_e:be):_e=be,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=_e+V,Z={id:c++,callback:ce,priorityLevel:Z,startTime:_e,expirationTime:V,sortIndex:-1},_e>be?(Z.sortIndex=_e,e(u,Z),n(l)===null&&Z===n(u)&&(x?(_(C),C=-1):x=!0,ye(O,_e-be))):(Z.sortIndex=V,e(l,Z),b||m||(b=!0,ge(Q))),Z},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Z){var ce=g;return function(){var _e=g;g=ce;try{return Z.apply(this,arguments)}finally{g=_e}}}})(L3);R3.exports=L3;var jC=R3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=se,Es=jC;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D3=new Set,Mf={};function Uu(t,e){Qc(t,e),Qc(t+"Capture",e)}function Qc(t,e){for(Mf[t]=e,t=0;t<e.length;t++)D3.add(e[t])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K1=Object.prototype.hasOwnProperty,UC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},Uw={};function BC(t){return K1.call(Uw,t)?!0:K1.call(Vw,t)?!1:UC.test(t)?Uw[t]=!0:(Vw[t]=!0,!1)}function zC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qC(t,e,n,r){if(e===null||typeof e>"u"||zC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ri[t]=new Bi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ri[e]=new Bi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ri[t]=new Bi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ri[t]=new Bi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ri[t]=new Bi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ri[t]=new Bi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ri[t]=new Bi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ri[t]=new Bi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ri[t]=new Bi(t,5,!1,t.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function qy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zy,qy);ri[e]=new Bi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zy,qy);ri[e]=new Bi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zy,qy);ri[e]=new Bi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ri[t]=new Bi(t,1,!1,t.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ri[t]=new Bi(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,r){var i=ri.hasOwnProperty(e)?ri[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qC(e,n,i,r)&&(n=null),r||i===null?BC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fa=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),vc=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Y1=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Q1=Symbol.for("react.suspense"),X1=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),ll=Symbol.for("react.lazy"),F3=Symbol.for("react.offscreen"),Bw=Symbol.iterator;function $h(t){return t===null||typeof t!="object"?null:(t=Bw&&t[Bw]||t["@@iterator"],typeof t=="function"?t:null)}var Jn=Object.assign,T0;function rf(t){if(T0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T0=e&&e[1]||""}return`
`+T0+t}var C0=!1;function k0(t,e){if(!t||C0)return"";C0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{C0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rf(t):""}function $C(t){switch(t.tag){case 5:return rf(t.type);case 16:return rf("Lazy");case 13:return rf("Suspense");case 19:return rf("SuspenseList");case 0:case 2:case 15:return t=k0(t.type,!1),t;case 11:return t=k0(t.type.render,!1),t;case 1:return t=k0(t.type,!0),t;default:return""}}function J1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wc:return"Fragment";case vc:return"Portal";case Y1:return"Profiler";case Hy:return"StrictMode";case Q1:return"Suspense";case X1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O3:return(t.displayName||"Context")+".Consumer";case M3:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gy:return e=t.displayName||null,e!==null?e:J1(t.type)||"Memo";case ll:e=t._payload,t=t._init;try{return J1(t(e))}catch{}}return null}function HC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J1(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ol(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WC(t){var e=j3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function op(t){t._valueTracker||(t._valueTracker=WC(t))}function V3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Z1(t,e){var n=e.checked;return Jn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ol(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U3(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function e2(t,e){U3(t,e);var n=Ol(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?t2(t,e.type,n):e.hasOwnProperty("defaultValue")&&t2(t,e.type,Ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function t2(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sf=Array.isArray;function Rc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ol(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return Jn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Fe(92));if(sf(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ol(n)}}function B3(t,e){var n=Ol(e.value),r=Ol(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ap,q3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ap.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Of(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GC=["Webkit","ms","Moz","O"];Object.keys(mf).forEach(function(t){GC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mf[e]=mf[t]})});function $3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mf.hasOwnProperty(t)&&mf[t]?(""+e).trim():e+"px"}function H3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KC=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i2(t,e){if(e){if(KC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function s2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=null;function Ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a2=null,Lc=null,Dc=null;function Ww(t){if(t=_d(t)){if(typeof a2!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=Ng(e),a2(t.stateNode,t.type,e))}}function W3(t){Lc?Dc?Dc.push(t):Dc=[t]:Lc=t}function G3(){if(Lc){var t=Lc,e=Dc;if(Dc=Lc=null,Ww(t),e)for(t=0;t<e.length;t++)Ww(e[t])}}function K3(t,e){return t(e)}function Y3(){}var P0=!1;function Q3(t,e,n){if(P0)return t(e,n);P0=!0;try{return K3(t,e,n)}finally{P0=!1,(Lc!==null||Dc!==null)&&(Y3(),G3())}}function Ff(t,e){var n=t.stateNode;if(n===null)return null;var r=Ng(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var l2=!1;if(Na)try{var Hh={};Object.defineProperty(Hh,"passive",{get:function(){l2=!0}}),window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{l2=!1}function YC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gf=!1,bm=null,xm=!1,u2=null,QC={onError:function(t){gf=!0,bm=t}};function XC(t,e,n,r,i,s,o,a,l){gf=!1,bm=null,YC.apply(QC,arguments)}function JC(t,e,n,r,i,s,o,a,l){if(XC.apply(this,arguments),gf){if(gf){var u=bm;gf=!1,bm=null}else throw Error(Fe(198));xm||(xm=!0,u2=u)}}function Bu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gw(t){if(Bu(t)!==t)throw Error(Fe(188))}function ZC(t){var e=t.alternate;if(!e){if(e=Bu(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gw(i),t;if(s===r)return Gw(i),e;s=s.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function J3(t){return t=ZC(t),t!==null?Z3(t):null}function Z3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z3(t);if(e!==null)return e;t=t.sibling}return null}var eS=Es.unstable_scheduleCallback,Kw=Es.unstable_cancelCallback,ek=Es.unstable_shouldYield,tk=Es.unstable_requestPaint,gr=Es.unstable_now,nk=Es.unstable_getCurrentPriorityLevel,Yy=Es.unstable_ImmediatePriority,tS=Es.unstable_UserBlockingPriority,Sm=Es.unstable_NormalPriority,rk=Es.unstable_LowPriority,nS=Es.unstable_IdlePriority,Sg=null,Uo=null;function ik(t){if(Uo&&typeof Uo.onCommitFiberRoot=="function")try{Uo.onCommitFiberRoot(Sg,t,void 0,(t.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:ak,sk=Math.log,ok=Math.LN2;function ak(t){return t>>>=0,t===0?32:31-(sk(t)/ok|0)|0}var lp=64,up=4194304;function of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Em(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=of(a):(s&=o,s!==0&&(r=of(s)))}else o=n&~i,o!==0?r=of(o):s!==0&&(r=of(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fo(e),i=1<<n,r|=t[n],e&=~i;return r}function lk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function c2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rS(){var t=lp;return lp<<=1,!(lp&4194240)&&(lp=64),t}function R0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fo(e),t[e]=n}function ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var bn=0;function iS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sS,Xy,oS,aS,lS,h2=!1,cp=[],bl=null,xl=null,Sl=null,jf=new Map,Vf=new Map,cl=[],hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(t,e){switch(t){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(e.pointerId)}}function Wh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_d(e),e!==null&&Xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fk(t,e,n,r,i){switch(e){case"focusin":return bl=Wh(bl,t,e,n,r,i),!0;case"dragenter":return xl=Wh(xl,t,e,n,r,i),!0;case"mouseover":return Sl=Wh(Sl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jf.set(s,Wh(jf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vf.set(s,Wh(Vf.get(s)||null,t,e,n,r,i)),!0}return!1}function uS(t){var e=fu(t.target);if(e!==null){var n=Bu(e);if(n!==null){if(e=n.tag,e===13){if(e=X3(n),e!==null){t.blockedOn=e,lS(t.priority,function(){oS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);o2=r,n.target.dispatchEvent(r),o2=null}else return e=_d(n),e!==null&&Xy(e),t.blockedOn=n,!1;e.shift()}return!0}function Qw(t,e,n){Bp(t)&&n.delete(e)}function dk(){h2=!1,bl!==null&&Bp(bl)&&(bl=null),xl!==null&&Bp(xl)&&(xl=null),Sl!==null&&Bp(Sl)&&(Sl=null),jf.forEach(Qw),Vf.forEach(Qw)}function Gh(t,e){t.blockedOn===e&&(t.blockedOn=null,h2||(h2=!0,Es.unstable_scheduleCallback(Es.unstable_NormalPriority,dk)))}function Uf(t){function e(i){return Gh(i,t)}if(0<cp.length){Gh(cp[0],t);for(var n=1;n<cp.length;n++){var r=cp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bl!==null&&Gh(bl,t),xl!==null&&Gh(xl,t),Sl!==null&&Gh(Sl,t),jf.forEach(e),Vf.forEach(e),n=0;n<cl.length;n++)r=cl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cl.length&&(n=cl[0],n.blockedOn===null);)uS(n),n.blockedOn===null&&cl.shift()}var Mc=Fa.ReactCurrentBatchConfig,Am=!0;function pk(t,e,n,r){var i=bn,s=Mc.transition;Mc.transition=null;try{bn=1,Jy(t,e,n,r)}finally{bn=i,Mc.transition=s}}function mk(t,e,n,r){var i=bn,s=Mc.transition;Mc.transition=null;try{bn=4,Jy(t,e,n,r)}finally{bn=i,Mc.transition=s}}function Jy(t,e,n,r){if(Am){var i=f2(t,e,n,r);if(i===null)z0(t,e,r,Im,n),Yw(t,r);else if(fk(i,t,e,n,r))r.stopPropagation();else if(Yw(t,r),e&4&&-1<hk.indexOf(t)){for(;i!==null;){var s=_d(i);if(s!==null&&sS(s),s=f2(t,e,n,r),s===null&&z0(t,e,r,Im,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else z0(t,e,r,null,n)}}var Im=null;function f2(t,e,n,r){if(Im=null,t=Ky(r),t=fu(t),t!==null)if(e=Bu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Im=t,null}function cS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nk()){case Yy:return 1;case tS:return 4;case Sm:case rk:return 16;case nS:return 536870912;default:return 16}default:return 16}}var gl=null,Zy=null,zp=null;function hS(){if(zp)return zp;var t,e=Zy,n=e.length,r,i="value"in gl?gl.value:gl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zp=i.slice(t,1<r?1-r:void 0)}function qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hp(){return!0}function Xw(){return!1}function Is(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hp:Xw,this.isPropagationStopped=Xw,this}return Jn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),e}var ph={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=Is(ph),wd=Jn({},ph,{view:0,detail:0}),gk=Is(wd),L0,D0,Kh,Eg=Jn({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kh&&(Kh&&t.type==="mousemove"?(L0=t.screenX-Kh.screenX,D0=t.screenY-Kh.screenY):D0=L0=0,Kh=t),L0)},movementY:function(t){return"movementY"in t?t.movementY:D0}}),Jw=Is(Eg),yk=Jn({},Eg,{dataTransfer:0}),vk=Is(yk),wk=Jn({},wd,{relatedTarget:0}),M0=Is(wk),_k=Jn({},ph,{animationName:0,elapsedTime:0,pseudoElement:0}),bk=Is(_k),xk=Jn({},ph,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sk=Is(xk),Ek=Jn({},ph,{data:0}),Zw=Is(Ek),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nk[t])?!!e[t]:!1}function tv(){return Tk}var Ck=Jn({},wd,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kk=Is(Ck),Pk=Jn({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Is(Pk),Rk=Jn({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),Lk=Is(Rk),Dk=Jn({},ph,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mk=Is(Dk),Ok=Jn({},Eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=Is(Ok),jk=[9,13,27,32],nv=Na&&"CompositionEvent"in window,yf=null;Na&&"documentMode"in document&&(yf=document.documentMode);var Vk=Na&&"TextEvent"in window&&!yf,fS=Na&&(!nv||yf&&8<yf&&11>=yf),t_=" ",n_=!1;function dS(t,e){switch(t){case"keyup":return jk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _c=!1;function Uk(t,e){switch(t){case"compositionend":return pS(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function Bk(t,e){if(_c)return t==="compositionend"||!nv&&dS(t,e)?(t=hS(),zp=Zy=gl=null,_c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fS&&e.locale!=="ko"?null:e.data;default:return null}}var zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zk[t.type]:e==="textarea"}function mS(t,e,n,r){W3(r),e=Nm(e,"onChange"),0<e.length&&(n=new ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vf=null,Bf=null;function qk(t){IS(t,0)}function Ag(t){var e=Sc(t);if(V3(e))return t}function $k(t,e){if(t==="change")return e}var gS=!1;if(Na){var O0;if(Na){var F0="oninput"in document;if(!F0){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),F0=typeof i_.oninput=="function"}O0=F0}else O0=!1;gS=O0&&(!document.documentMode||9<document.documentMode)}function s_(){vf&&(vf.detachEvent("onpropertychange",yS),Bf=vf=null)}function yS(t){if(t.propertyName==="value"&&Ag(Bf)){var e=[];mS(e,Bf,t,Ky(t)),Q3(qk,e)}}function Hk(t,e,n){t==="focusin"?(s_(),vf=e,Bf=n,vf.attachEvent("onpropertychange",yS)):t==="focusout"&&s_()}function Wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ag(Bf)}function Gk(t,e){if(t==="click")return Ag(e)}function Kk(t,e){if(t==="input"||t==="change")return Ag(e)}function Yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var go=typeof Object.is=="function"?Object.is:Yk;function zf(t,e){if(go(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!K1.call(e,i)||!go(t[i],e[i]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=o_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o_(n)}}function vS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wS(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qk(t){var e=wS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vS(n.ownerDocument.documentElement,n)){if(r!==null&&rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a_(n,s);var o=a_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xk=Na&&"documentMode"in document&&11>=document.documentMode,bc=null,d2=null,wf=null,p2=!1;function l_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p2||bc==null||bc!==_m(r)||(r=bc,"selectionStart"in r&&rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wf&&zf(wf,r)||(wf=r,r=Nm(d2,"onSelect"),0<r.length&&(e=new ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bc)))}function fp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xc={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},j0={},_S={};Na&&(_S=document.createElement("div").style,"AnimationEvent"in window||(delete xc.animationend.animation,delete xc.animationiteration.animation,delete xc.animationstart.animation),"TransitionEvent"in window||delete xc.transitionend.transition);function Ig(t){if(j0[t])return j0[t];if(!xc[t])return t;var e=xc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _S)return j0[t]=e[n];return t}var bS=Ig("animationend"),xS=Ig("animationiteration"),SS=Ig("animationstart"),ES=Ig("transitionend"),AS=new Map,u_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(t,e){AS.set(t,e),Uu(e,[t])}for(var V0=0;V0<u_.length;V0++){var U0=u_[V0],Jk=U0.toLowerCase(),Zk=U0[0].toUpperCase()+U0.slice(1);Gl(Jk,"on"+Zk)}Gl(bS,"onAnimationEnd");Gl(xS,"onAnimationIteration");Gl(SS,"onAnimationStart");Gl("dblclick","onDoubleClick");Gl("focusin","onFocus");Gl("focusout","onBlur");Gl(ES,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);Uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eP=new Set("cancel close invalid load scroll toggle".split(" ").concat(af));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JC(r,e,void 0,t),t.currentTarget=null}function IS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;c_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;c_(i,a,u),s=l}}}if(xm)throw t=u2,xm=!1,u2=null,t}function zn(t,e){var n=e[w2];n===void 0&&(n=e[w2]=new Set);var r=t+"__bubble";n.has(r)||(NS(e,t,2,!1),n.add(r))}function B0(t,e,n){var r=0;e&&(r|=4),NS(n,t,r,e)}var dp="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[dp]){t[dp]=!0,D3.forEach(function(n){n!=="selectionchange"&&(eP.has(n)||B0(n,!1,t),B0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dp]||(e[dp]=!0,B0("selectionchange",!1,e))}}function NS(t,e,n,r){switch(cS(e)){case 1:var i=pk;break;case 4:i=mk;break;default:i=Jy}n=i.bind(null,e,n,t),i=void 0,!l2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function z0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Q3(function(){var u=s,c=Ky(n),d=[];e:{var g=AS.get(t);if(g!==void 0){var m=ev,b=t;switch(t){case"keypress":if(qp(n)===0)break e;case"keydown":case"keyup":m=kk;break;case"focusin":b="focus",m=M0;break;case"focusout":b="blur",m=M0;break;case"beforeblur":case"afterblur":m=M0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Lk;break;case bS:case xS:case SS:m=bk;break;case ES:m=Mk;break;case"scroll":m=gk;break;case"wheel":m=Fk;break;case"copy":case"cut":case"paste":m=Sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=e_}var x=(e&4)!==0,k=!x&&t==="scroll",_=x?g!==null?g+"Capture":null:g;x=[];for(var A=u,I;A!==null;){I=A;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,_!==null&&(O=Ff(A,_),O!=null&&x.push($f(A,O,I)))),k)break;A=A.return}0<x.length&&(g=new m(g,b,null,n,c),d.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==o2&&(b=n.relatedTarget||n.fromElement)&&(fu(b)||b[Ta]))break e;if((m||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?fu(b):null,b!==null&&(k=Bu(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(x=Jw,O="onMouseLeave",_="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(x=e_,O="onPointerLeave",_="onPointerEnter",A="pointer"),k=m==null?g:Sc(m),I=b==null?g:Sc(b),g=new x(O,A+"leave",m,n,c),g.target=k,g.relatedTarget=I,O=null,fu(c)===u&&(x=new x(_,A+"enter",b,n,c),x.target=I,x.relatedTarget=k,O=x),k=O,m&&b)t:{for(x=m,_=b,A=0,I=x;I;I=ac(I))A++;for(I=0,O=_;O;O=ac(O))I++;for(;0<A-I;)x=ac(x),A--;for(;0<I-A;)_=ac(_),I--;for(;A--;){if(x===_||_!==null&&x===_.alternate)break t;x=ac(x),_=ac(_)}x=null}else x=null;m!==null&&h_(d,g,m,x,!1),b!==null&&k!==null&&h_(d,k,b,x,!0)}}e:{if(g=u?Sc(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var Q=$k;else if(r_(g))if(gS)Q=Kk;else{Q=Wk;var te=Hk}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(Q=Gk);if(Q&&(Q=Q(t,u))){mS(d,Q,n,c);break e}te&&te(t,g,u),t==="focusout"&&(te=g._wrapperState)&&te.controlled&&g.type==="number"&&t2(g,"number",g.value)}switch(te=u?Sc(u):window,t){case"focusin":(r_(te)||te.contentEditable==="true")&&(bc=te,d2=u,wf=null);break;case"focusout":wf=d2=bc=null;break;case"mousedown":p2=!0;break;case"contextmenu":case"mouseup":case"dragend":p2=!1,l_(d,n,c);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":l_(d,n,c)}var j;if(nv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _c?dS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fS&&n.locale!=="ko"&&(_c||C!=="onCompositionStart"?C==="onCompositionEnd"&&_c&&(j=hS()):(gl=c,Zy="value"in gl?gl.value:gl.textContent,_c=!0)),te=Nm(u,C),0<te.length&&(C=new Zw(C,t,null,n,c),d.push({event:C,listeners:te}),j?C.data=j:(j=pS(n),j!==null&&(C.data=j)))),(j=Vk?Uk(t,n):Bk(t,n))&&(u=Nm(u,"onBeforeInput"),0<u.length&&(c=new Zw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=j))}IS(d,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ff(t,n),s!=null&&r.unshift($f(t,s,i)),s=Ff(t,e),s!=null&&r.push($f(t,s,i))),t=t.return}return r}function ac(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ff(n,s),l!=null&&o.unshift($f(n,l,a))):i||(l=Ff(n,s),l!=null&&o.push($f(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tP=/\r\n?/g,nP=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(tP,`
`).replace(nP,"")}function pp(t,e,n){if(e=f_(e),f_(t)!==e&&n)throw Error(Fe(425))}function Tm(){}var m2=null,g2=null;function y2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v2=typeof setTimeout=="function"?setTimeout:void 0,rP=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,iP=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(sP)}:v2;function sP(t){setTimeout(function(){throw t})}function q0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uf(e)}function El(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mh=Math.random().toString(36).slice(2),Fo="__reactFiber$"+mh,Hf="__reactProps$"+mh,Ta="__reactContainer$"+mh,w2="__reactEvents$"+mh,oP="__reactListeners$"+mh,aP="__reactHandles$"+mh;function fu(t){var e=t[Fo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ta]||n[Fo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p_(t);t!==null;){if(n=t[Fo])return n;t=p_(t)}return e}t=n,n=t.parentNode}return null}function _d(t){return t=t[Fo]||t[Ta],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function Ng(t){return t[Hf]||null}var _2=[],Ec=-1;function Kl(t){return{current:t}}function Hn(t){0>Ec||(t.current=_2[Ec],_2[Ec]=null,Ec--)}function Vn(t,e){Ec++,_2[Ec]=t.current,t.current=e}var Fl={},Ai=Kl(Fl),Ji=Kl(!1),Iu=Fl;function Xc(t,e){var n=t.type.contextTypes;if(!n)return Fl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zi(t){return t=t.childContextTypes,t!=null}function Cm(){Hn(Ji),Hn(Ai)}function m_(t,e,n){if(Ai.current!==Fl)throw Error(Fe(168));Vn(Ai,e),Vn(Ji,n)}function TS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,HC(t)||"Unknown",i));return Jn({},n,r)}function km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fl,Iu=Ai.current,Vn(Ai,t),Vn(Ji,Ji.current),!0}function g_(t,e,n){var r=t.stateNode;if(!r)throw Error(Fe(169));n?(t=TS(t,e,Iu),r.__reactInternalMemoizedMergedChildContext=t,Hn(Ji),Hn(Ai),Vn(Ai,t)):Hn(Ji),Vn(Ji,n)}var ma=null,Tg=!1,$0=!1;function CS(t){ma===null?ma=[t]:ma.push(t)}function lP(t){Tg=!0,CS(t)}function Yl(){if(!$0&&ma!==null){$0=!0;var t=0,e=bn;try{var n=ma;for(bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ma=null,Tg=!1}catch(i){throw ma!==null&&(ma=ma.slice(t+1)),eS(Yy,Yl),i}finally{bn=e,$0=!1}}return null}var Ac=[],Ic=0,Pm=null,Rm=0,Us=[],Bs=0,Nu=null,wa=1,_a="";function au(t,e){Ac[Ic++]=Rm,Ac[Ic++]=Pm,Pm=t,Rm=e}function kS(t,e,n){Us[Bs++]=wa,Us[Bs++]=_a,Us[Bs++]=Nu,Nu=t;var r=wa;t=_a;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var s=32-fo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-fo(e)+i|n<<i|r,_a=s+t}else wa=1<<s|n<<i|r,_a=t}function iv(t){t.return!==null&&(au(t,1),kS(t,1,0))}function sv(t){for(;t===Pm;)Pm=Ac[--Ic],Ac[Ic]=null,Rm=Ac[--Ic],Ac[Ic]=null;for(;t===Nu;)Nu=Us[--Bs],Us[Bs]=null,_a=Us[--Bs],Us[Bs]=null,wa=Us[--Bs],Us[Bs]=null}var xs=null,ws=null,Gn=!1,lo=null;function PS(t,e){var n=Hs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,ws=El(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nu!==null?{id:wa,overflow:_a}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,ws=null,!0):!1;default:return!1}}function b2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x2(t){if(Gn){var e=ws;if(e){var n=e;if(!y_(t,e)){if(b2(t))throw Error(Fe(418));e=El(n.nextSibling);var r=xs;e&&y_(t,e)?PS(r,n):(t.flags=t.flags&-4097|2,Gn=!1,xs=t)}}else{if(b2(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,Gn=!1,xs=t}}}function v_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function mp(t){if(t!==xs)return!1;if(!Gn)return v_(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!y2(t.type,t.memoizedProps)),e&&(e=ws)){if(b2(t))throw RS(),Error(Fe(418));for(;e;)PS(t,e),e=El(e.nextSibling)}if(v_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ws=El(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ws=null}}else ws=xs?El(t.stateNode.nextSibling):null;return!0}function RS(){for(var t=ws;t;)t=El(t.nextSibling)}function Jc(){ws=xs=null,Gn=!1}function ov(t){lo===null?lo=[t]:lo.push(t)}var uP=Fa.ReactCurrentBatchConfig;function Yh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,t))}return t}function gp(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w_(t){var e=t._init;return e(t._payload)}function LS(t){function e(_,A){if(t){var I=_.deletions;I===null?(_.deletions=[A],_.flags|=16):I.push(A)}}function n(_,A){if(!t)return null;for(;A!==null;)e(_,A),A=A.sibling;return null}function r(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function i(_,A){return _=Tl(_,A),_.index=0,_.sibling=null,_}function s(_,A,I){return _.index=I,t?(I=_.alternate,I!==null?(I=I.index,I<A?(_.flags|=2,A):I):(_.flags|=2,A)):(_.flags|=1048576,A)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,A,I,O){return A===null||A.tag!==6?(A=X0(I,_.mode,O),A.return=_,A):(A=i(A,I),A.return=_,A)}function l(_,A,I,O){var Q=I.type;return Q===wc?c(_,A,I.props.children,O,I.key):A!==null&&(A.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ll&&w_(Q)===A.type)?(O=i(A,I.props),O.ref=Yh(_,A,I),O.return=_,O):(O=Qp(I.type,I.key,I.props,null,_.mode,O),O.ref=Yh(_,A,I),O.return=_,O)}function u(_,A,I,O){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=J0(I,_.mode,O),A.return=_,A):(A=i(A,I.children||[]),A.return=_,A)}function c(_,A,I,O,Q){return A===null||A.tag!==7?(A=xu(I,_.mode,O,Q),A.return=_,A):(A=i(A,I),A.return=_,A)}function d(_,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=X0(""+A,_.mode,I),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sp:return I=Qp(A.type,A.key,A.props,null,_.mode,I),I.ref=Yh(_,null,A),I.return=_,I;case vc:return A=J0(A,_.mode,I),A.return=_,A;case ll:var O=A._init;return d(_,O(A._payload),I)}if(sf(A)||$h(A))return A=xu(A,_.mode,I,null),A.return=_,A;gp(_,A)}return null}function g(_,A,I,O){var Q=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return Q!==null?null:a(_,A,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case sp:return I.key===Q?l(_,A,I,O):null;case vc:return I.key===Q?u(_,A,I,O):null;case ll:return Q=I._init,g(_,A,Q(I._payload),O)}if(sf(I)||$h(I))return Q!==null?null:c(_,A,I,O,null);gp(_,I)}return null}function m(_,A,I,O,Q){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(I)||null,a(A,_,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case sp:return _=_.get(O.key===null?I:O.key)||null,l(A,_,O,Q);case vc:return _=_.get(O.key===null?I:O.key)||null,u(A,_,O,Q);case ll:var te=O._init;return m(_,A,I,te(O._payload),Q)}if(sf(O)||$h(O))return _=_.get(I)||null,c(A,_,O,Q,null);gp(A,O)}return null}function b(_,A,I,O){for(var Q=null,te=null,j=A,C=A=0,N=null;j!==null&&C<I.length;C++){j.index>C?(N=j,j=null):N=j.sibling;var F=g(_,j,I[C],O);if(F===null){j===null&&(j=N);break}t&&j&&F.alternate===null&&e(_,j),A=s(F,A,C),te===null?Q=F:te.sibling=F,te=F,j=N}if(C===I.length)return n(_,j),Gn&&au(_,C),Q;if(j===null){for(;C<I.length;C++)j=d(_,I[C],O),j!==null&&(A=s(j,A,C),te===null?Q=j:te.sibling=j,te=j);return Gn&&au(_,C),Q}for(j=r(_,j);C<I.length;C++)N=m(j,_,C,I[C],O),N!==null&&(t&&N.alternate!==null&&j.delete(N.key===null?C:N.key),A=s(N,A,C),te===null?Q=N:te.sibling=N,te=N);return t&&j.forEach(function(S){return e(_,S)}),Gn&&au(_,C),Q}function x(_,A,I,O){var Q=$h(I);if(typeof Q!="function")throw Error(Fe(150));if(I=Q.call(I),I==null)throw Error(Fe(151));for(var te=Q=null,j=A,C=A=0,N=null,F=I.next();j!==null&&!F.done;C++,F=I.next()){j.index>C?(N=j,j=null):N=j.sibling;var S=g(_,j,F.value,O);if(S===null){j===null&&(j=N);break}t&&j&&S.alternate===null&&e(_,j),A=s(S,A,C),te===null?Q=S:te.sibling=S,te=S,j=N}if(F.done)return n(_,j),Gn&&au(_,C),Q;if(j===null){for(;!F.done;C++,F=I.next())F=d(_,F.value,O),F!==null&&(A=s(F,A,C),te===null?Q=F:te.sibling=F,te=F);return Gn&&au(_,C),Q}for(j=r(_,j);!F.done;C++,F=I.next())F=m(j,_,C,F.value,O),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?C:F.key),A=s(F,A,C),te===null?Q=F:te.sibling=F,te=F);return t&&j.forEach(function(P){return e(_,P)}),Gn&&au(_,C),Q}function k(_,A,I,O){if(typeof I=="object"&&I!==null&&I.type===wc&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case sp:e:{for(var Q=I.key,te=A;te!==null;){if(te.key===Q){if(Q=I.type,Q===wc){if(te.tag===7){n(_,te.sibling),A=i(te,I.props.children),A.return=_,_=A;break e}}else if(te.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ll&&w_(Q)===te.type){n(_,te.sibling),A=i(te,I.props),A.ref=Yh(_,te,I),A.return=_,_=A;break e}n(_,te);break}else e(_,te);te=te.sibling}I.type===wc?(A=xu(I.props.children,_.mode,O,I.key),A.return=_,_=A):(O=Qp(I.type,I.key,I.props,null,_.mode,O),O.ref=Yh(_,A,I),O.return=_,_=O)}return o(_);case vc:e:{for(te=I.key;A!==null;){if(A.key===te)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){n(_,A.sibling),A=i(A,I.children||[]),A.return=_,_=A;break e}else{n(_,A);break}else e(_,A);A=A.sibling}A=J0(I,_.mode,O),A.return=_,_=A}return o(_);case ll:return te=I._init,k(_,A,te(I._payload),O)}if(sf(I))return b(_,A,I,O);if($h(I))return x(_,A,I,O);gp(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(n(_,A.sibling),A=i(A,I),A.return=_,_=A):(n(_,A),A=X0(I,_.mode,O),A.return=_,_=A),o(_)):n(_,A)}return k}var Zc=LS(!0),DS=LS(!1),Lm=Kl(null),Dm=null,Nc=null,av=null;function lv(){av=Nc=Dm=null}function uv(t){var e=Lm.current;Hn(Lm),t._currentValue=e}function S2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oc(t,e){Dm=t,av=Nc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qi=!0),t.firstContext=null)}function Ks(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},Nc===null){if(Dm===null)throw Error(Fe(308));Nc=t,Dm.dependencies={lanes:0,firstContext:t}}else Nc=Nc.next=t;return e}var du=null;function cv(t){du===null?du=[t]:du.push(t)}function MS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ca(t,r)}function Ca(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ul=!1;function hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Al(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ln&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ca(t,n)}return i=r.interleaved,i===null?(e.next=e,cv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ca(t,n)}function $p(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}function __(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mm(t,e,n,r){var i=t.updateQueue;ul=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(g=e,m=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(m,d,g);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(m,d,g):b,g==null)break e;d=Jn({},d,g);break e;case 2:ul=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cu|=o,t.lanes=o,t.memoizedState=d}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var bd={},Bo=Kl(bd),Wf=Kl(bd),Gf=Kl(bd);function pu(t){if(t===bd)throw Error(Fe(174));return t}function fv(t,e){switch(Vn(Gf,e),Vn(Wf,t),Vn(Bo,bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:r2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=r2(e,t)}Hn(Bo),Vn(Bo,e)}function eh(){Hn(Bo),Hn(Wf),Hn(Gf)}function FS(t){pu(Gf.current);var e=pu(Bo.current),n=r2(e,t.type);e!==n&&(Vn(Wf,t),Vn(Bo,n))}function dv(t){Wf.current===t&&(Hn(Bo),Hn(Wf))}var Yn=Kl(0);function Om(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H0=[];function pv(){for(var t=0;t<H0.length;t++)H0[t]._workInProgressVersionPrimary=null;H0.length=0}var Hp=Fa.ReactCurrentDispatcher,W0=Fa.ReactCurrentBatchConfig,Tu=0,Qn=null,Pr=null,Br=null,Fm=!1,_f=!1,Kf=0,cP=0;function mi(){throw Error(Fe(321))}function mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!go(t[n],e[n]))return!1;return!0}function gv(t,e,n,r,i,s){if(Tu=s,Qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hp.current=t===null||t.memoizedState===null?pP:mP,t=n(r,i),_f){s=0;do{if(_f=!1,Kf=0,25<=s)throw Error(Fe(301));s+=1,Br=Pr=null,e.updateQueue=null,Hp.current=gP,t=n(r,i)}while(_f)}if(Hp.current=jm,e=Pr!==null&&Pr.next!==null,Tu=0,Br=Pr=Qn=null,Fm=!1,e)throw Error(Fe(300));return t}function yv(){var t=Kf!==0;return Kf=0,t}function Mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Qn.memoizedState=Br=t:Br=Br.next=t,Br}function Ys(){if(Pr===null){var t=Qn.alternate;t=t!==null?t.memoizedState:null}else t=Pr.next;var e=Br===null?Qn.memoizedState:Br.next;if(e!==null)Br=e,Pr=t;else{if(t===null)throw Error(Fe(310));Pr=t,t={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Br===null?Qn.memoizedState=Br=t:Br=Br.next=t}return Br}function Yf(t,e){return typeof e=="function"?e(t):e}function G0(t){var e=Ys(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=Pr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Tu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qn.lanes|=c,Cu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,go(r,e.memoizedState)||(Qi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qn.lanes|=s,Cu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function K0(t){var e=Ys(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);go(s,e.memoizedState)||(Qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jS(){}function VS(t,e){var n=Qn,r=Ys(),i=e(),s=!go(r.memoizedState,i);if(s&&(r.memoizedState=i,Qi=!0),r=r.queue,vv(zS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Br!==null&&Br.memoizedState.tag&1){if(n.flags|=2048,Qf(9,BS.bind(null,n,r,i,e),void 0,null),qr===null)throw Error(Fe(349));Tu&30||US(n,e,i)}return i}function US(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BS(t,e,n,r){e.value=n,e.getSnapshot=r,qS(e)&&$S(t)}function zS(t,e,n){return n(function(){qS(e)&&$S(t)})}function qS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!go(t,n)}catch{return!0}}function $S(t){var e=Ca(t,1);e!==null&&po(e,t,1,-1)}function x_(t){var e=Mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:t},e.queue=t,t=t.dispatch=dP.bind(null,Qn,t),[e.memoizedState,t]}function Qf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HS(){return Ys().memoizedState}function Wp(t,e,n,r){var i=Mo();Qn.flags|=t,i.memoizedState=Qf(1|e,n,void 0,r===void 0?null:r)}function Cg(t,e,n,r){var i=Ys();r=r===void 0?null:r;var s=void 0;if(Pr!==null){var o=Pr.memoizedState;if(s=o.destroy,r!==null&&mv(r,o.deps)){i.memoizedState=Qf(e,n,s,r);return}}Qn.flags|=t,i.memoizedState=Qf(1|e,n,s,r)}function S_(t,e){return Wp(8390656,8,t,e)}function vv(t,e){return Cg(2048,8,t,e)}function WS(t,e){return Cg(4,2,t,e)}function GS(t,e){return Cg(4,4,t,e)}function KS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YS(t,e,n){return n=n!=null?n.concat([t]):null,Cg(4,4,KS.bind(null,e,t),n)}function wv(){}function QS(t,e){var n=Ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XS(t,e){var n=Ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JS(t,e,n){return Tu&21?(go(n,e)||(n=rS(),Qn.lanes|=n,Cu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qi=!0),t.memoizedState=n)}function hP(t,e){var n=bn;bn=n!==0&&4>n?n:4,t(!0);var r=W0.transition;W0.transition={};try{t(!1),e()}finally{bn=n,W0.transition=r}}function ZS(){return Ys().memoizedState}function fP(t,e,n){var r=Nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eE(t))tE(e,n);else if(n=MS(t,e,n,r),n!==null){var i=ji();po(n,t,r,i),nE(n,e,r)}}function dP(t,e,n){var r=Nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eE(t))tE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,go(a,o)){var l=e.interleaved;l===null?(i.next=i,cv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MS(t,e,i,r),n!==null&&(i=ji(),po(n,t,r,i),nE(n,e,r))}}function eE(t){var e=t.alternate;return t===Qn||e!==null&&e===Qn}function tE(t,e){_f=Fm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qy(t,n)}}var jm={readContext:Ks,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},pP={readContext:Ks,useCallback:function(t,e){return Mo().memoizedState=[t,e===void 0?null:e],t},useContext:Ks,useEffect:S_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wp(4194308,4,KS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wp(4,2,t,e)},useMemo:function(t,e){var n=Mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fP.bind(null,Qn,t),[r.memoizedState,t]},useRef:function(t){var e=Mo();return t={current:t},e.memoizedState=t},useState:x_,useDebugValue:wv,useDeferredValue:function(t){return Mo().memoizedState=t},useTransition:function(){var t=x_(!1),e=t[0];return t=hP.bind(null,t[1]),Mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qn,i=Mo();if(Gn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),qr===null)throw Error(Fe(349));Tu&30||US(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S_(zS.bind(null,r,s,t),[t]),r.flags|=2048,Qf(9,BS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mo(),e=qr.identifierPrefix;if(Gn){var n=_a,r=wa;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mP={readContext:Ks,useCallback:QS,useContext:Ks,useEffect:vv,useImperativeHandle:YS,useInsertionEffect:WS,useLayoutEffect:GS,useMemo:XS,useReducer:G0,useRef:HS,useState:function(){return G0(Yf)},useDebugValue:wv,useDeferredValue:function(t){var e=Ys();return JS(e,Pr.memoizedState,t)},useTransition:function(){var t=G0(Yf)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:jS,useSyncExternalStore:VS,useId:ZS,unstable_isNewReconciler:!1},gP={readContext:Ks,useCallback:QS,useContext:Ks,useEffect:vv,useImperativeHandle:YS,useInsertionEffect:WS,useLayoutEffect:GS,useMemo:XS,useReducer:K0,useRef:HS,useState:function(){return K0(Yf)},useDebugValue:wv,useDeferredValue:function(t){var e=Ys();return Pr===null?e.memoizedState=t:JS(e,Pr.memoizedState,t)},useTransition:function(){var t=K0(Yf)[0],e=Ys().memoizedState;return[t,e]},useMutableSource:jS,useSyncExternalStore:VS,useId:ZS,unstable_isNewReconciler:!1};function oo(t,e){if(t&&t.defaultProps){e=Jn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function E2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Jn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kg={isMounted:function(t){return(t=t._reactInternals)?Bu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Nl(t),s=Ea(r,i);s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,i),e!==null&&(po(e,t,i,r),$p(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Nl(t),s=Ea(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,i),e!==null&&(po(e,t,i,r),$p(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ji(),r=Nl(t),i=Ea(n,r);i.tag=2,e!=null&&(i.callback=e),e=Al(t,i,r),e!==null&&(po(e,t,r,n),$p(e,t,r))}};function E_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zf(n,r)||!zf(i,s):!0}function rE(t,e,n){var r=!1,i=Fl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ks(s):(i=Zi(e)?Iu:Ai.current,r=e.contextTypes,s=(r=r!=null)?Xc(t,i):Fl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kg.enqueueReplaceState(e,e.state,null)}function A2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ks(s):(s=Zi(e)?Iu:Ai.current,i.context=Xc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(E2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kg.enqueueReplaceState(i,i.state,null),Mm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function th(t,e){try{var n="",r=e;do n+=$C(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Y0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function I2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yP=typeof WeakMap=="function"?WeakMap:Map;function iE(t,e,n){n=Ea(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Um||(Um=!0,O2=r),I2(t,e)},n}function sE(t,e,n){n=Ea(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){I2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I2(t,e),typeof r!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PP.bind(null,t,e,n),e.then(t,t))}function N_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ea(-1,1),e.tag=2,Al(n,e,1))),n.lanes|=1),t)}var vP=Fa.ReactCurrentOwner,Qi=!1;function Oi(t,e,n,r){e.child=t===null?DS(e,null,n,r):Zc(e,t.child,n,r)}function C_(t,e,n,r,i){n=n.render;var s=e.ref;return Oc(e,i),r=gv(t,e,n,r,s,i),n=yv(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ka(t,e,i)):(Gn&&n&&iv(e),e.flags|=1,Oi(t,e,r,i),e.child)}function k_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oE(t,e,s,r,i)):(t=Qp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zf,n(o,r)&&t.ref===e.ref)return ka(t,e,i)}return e.flags|=1,t=Tl(s,r),t.ref=e.ref,t.return=e,e.child=t}function oE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zf(s,r)&&t.ref===e.ref)if(Qi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qi=!0);else return e.lanes=t.lanes,ka(t,e,i)}return N2(t,e,n,r,i)}function aE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Cc,ys),ys|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vn(Cc,ys),ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vn(Cc,ys),ys|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vn(Cc,ys),ys|=r;return Oi(t,e,i,n),e.child}function lE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N2(t,e,n,r,i){var s=Zi(n)?Iu:Ai.current;return s=Xc(e,s),Oc(e,i),n=gv(t,e,n,r,s,i),r=yv(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ka(t,e,i)):(Gn&&r&&iv(e),e.flags|=1,Oi(t,e,n,i),e.child)}function P_(t,e,n,r,i){if(Zi(n)){var s=!0;km(e)}else s=!1;if(Oc(e,i),e.stateNode===null)Gp(t,e),rE(e,n,r),A2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ks(u):(u=Zi(n)?Iu:Ai.current,u=Xc(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&A_(e,o,r,u),ul=!1;var g=e.memoizedState;o.state=g,Mm(e,r,o,i),l=e.memoizedState,a!==r||g!==l||Ji.current||ul?(typeof c=="function"&&(E2(e,n,c,r),l=e.memoizedState),(a=ul||E_(e,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:oo(e.type,a),o.props=u,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ks(l):(l=Zi(n)?Iu:Ai.current,l=Xc(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&A_(e,o,r,l),ul=!1,g=e.memoizedState,o.state=g,Mm(e,r,o,i);var b=e.memoizedState;a!==d||g!==b||Ji.current||ul?(typeof m=="function"&&(E2(e,n,m,r),b=e.memoizedState),(u=ul||E_(e,n,u,r,g,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return T2(t,e,n,r,s,i)}function T2(t,e,n,r,i,s){lE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g_(e,n,!1),ka(t,e,s);r=e.stateNode,vP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zc(e,t.child,null,s),e.child=Zc(e,null,a,s)):Oi(t,e,a,s),e.memoizedState=r.state,i&&g_(e,n,!0),e.child}function uE(t){var e=t.stateNode;e.pendingContext?m_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m_(t,e.context,!1),fv(t,e.containerInfo)}function R_(t,e,n,r,i){return Jc(),ov(i),e.flags|=256,Oi(t,e,n,r),e.child}var C2={dehydrated:null,treeContext:null,retryLane:0};function k2(t){return{baseLanes:t,cachePool:null,transitions:null}}function cE(t,e,n){var r=e.pendingProps,i=Yn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vn(Yn,i&1),t===null)return x2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lg(o,r,0,null),t=xu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=k2(n),e.memoizedState=C2,t):_v(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Tl(a,s):(s=xu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?k2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=C2,r}return s=t.child,t=s.sibling,r=Tl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=Lg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yp(t,e,n,r){return r!==null&&ov(r),Zc(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Y0(Error(Fe(422))),yp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lg({mode:"visible",children:r.children},i,0,null),s=xu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zc(e,t.child,null,o),e.child.memoizedState=k2(o),e.memoizedState=C2,s);if(!(e.mode&1))return yp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Fe(419)),r=Y0(s,r,void 0),yp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qi||a){if(r=qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ca(t,i),po(r,t,i,-1))}return Iv(),r=Y0(Error(Fe(421))),yp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ws=El(i.nextSibling),xs=e,Gn=!0,lo=null,t!==null&&(Us[Bs++]=wa,Us[Bs++]=_a,Us[Bs++]=Nu,wa=t.id,_a=t.overflow,Nu=e),e=_v(e,r.children),e.flags|=4096,e)}function L_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),S2(t.return,e,n)}function Q0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Oi(t,e,r.children,n),r=Yn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L_(t,n,e);else if(t.tag===19)L_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vn(Yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Om(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Q0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Om(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Q0(e,!0,n,null,s);break;case"together":Q0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=Tl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _P(t,e,n){switch(e.tag){case 3:uE(e),Jc();break;case 5:FS(e);break;case 1:Zi(e.type)&&km(e);break;case 4:fv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vn(Lm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vn(Yn,Yn.current&1),e.flags|=128,null):n&e.child.childLanes?cE(t,e,n):(Vn(Yn,Yn.current&1),t=ka(t,e,n),t!==null?t.sibling:null);Vn(Yn,Yn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(Yn,Yn.current),r)break;return null;case 22:case 23:return e.lanes=0,aE(t,e,n)}return ka(t,e,n)}var fE,P2,dE,pE;fE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P2=function(){};dE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pu(Bo.current);var s=null;switch(n){case"input":i=Z1(t,i),r=Z1(t,r),s=[];break;case"select":i=Jn({},i,{value:void 0}),r=Jn({},r,{value:void 0}),s=[];break;case"textarea":i=n2(t,i),r=n2(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tm)}i2(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&zn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qh(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bP(t,e,n){var r=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(e),null;case 1:return Zi(e.type)&&Cm(),gi(e),null;case 3:return r=e.stateNode,eh(),Hn(Ji),Hn(Ai),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lo!==null&&(V2(lo),lo=null))),P2(t,e),gi(e),null;case 5:dv(e);var i=pu(Gf.current);if(n=e.type,t!==null&&e.stateNode!=null)dE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return gi(e),null}if(t=pu(Bo.current),mp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fo]=e,r[Hf]=s,t=(e.mode&1)!==0,n){case"dialog":zn("cancel",r),zn("close",r);break;case"iframe":case"object":case"embed":zn("load",r);break;case"video":case"audio":for(i=0;i<af.length;i++)zn(af[i],r);break;case"source":zn("error",r);break;case"img":case"image":case"link":zn("error",r),zn("load",r);break;case"details":zn("toggle",r);break;case"input":zw(r,s),zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zn("invalid",r);break;case"textarea":$w(r,s),zn("invalid",r)}i2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),i=["children",""+a]):Mf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&zn("scroll",r)}switch(n){case"input":op(r),qw(r,s,!0);break;case"textarea":op(r),Hw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fo]=e,t[Hf]=r,fE(t,e,!1,!1),e.stateNode=t;e:{switch(o=s2(n,r),n){case"dialog":zn("cancel",t),zn("close",t),i=r;break;case"iframe":case"object":case"embed":zn("load",t),i=r;break;case"video":case"audio":for(i=0;i<af.length;i++)zn(af[i],t);i=r;break;case"source":zn("error",t),i=r;break;case"img":case"image":case"link":zn("error",t),zn("load",t),i=r;break;case"details":zn("toggle",t),i=r;break;case"input":zw(t,r),i=Z1(t,r),zn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jn({},r,{value:void 0}),zn("invalid",t);break;case"textarea":$w(t,r),i=n2(t,r),zn("invalid",t);break;default:i=r}i2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?H3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Of(t,l):typeof l=="number"&&Of(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&zn("scroll",t):l!=null&&$y(t,s,l,o))}switch(n){case"input":op(t),qw(t,r,!1);break;case"textarea":op(t),Hw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ol(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gi(e),null;case 6:if(t&&e.stateNode!=null)pE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(n=pu(Gf.current),pu(Bo.current),mp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fo]=e,(s=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:pp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fo]=e,e.stateNode=r}return gi(e),null;case 13:if(Hn(Yn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&ws!==null&&e.mode&1&&!(e.flags&128))RS(),Jc(),e.flags|=98560,s=!1;else if(s=mp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[Fo]=e}else Jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gi(e),s=!1}else lo!==null&&(V2(lo),lo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yn.current&1?Rr===0&&(Rr=3):Iv())),e.updateQueue!==null&&(e.flags|=4),gi(e),null);case 4:return eh(),P2(t,e),t===null&&qf(e.stateNode.containerInfo),gi(e),null;case 10:return uv(e.type._context),gi(e),null;case 17:return Zi(e.type)&&Cm(),gi(e),null;case 19:if(Hn(Yn),s=e.memoizedState,s===null)return gi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qh(s,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Om(t),o!==null){for(e.flags|=128,Qh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vn(Yn,Yn.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>nh&&(e.flags|=128,r=!0,Qh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Om(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gn)return gi(e),null}else 2*gr()-s.renderingStartTime>nh&&n!==1073741824&&(e.flags|=128,r=!0,Qh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,n=Yn.current,Vn(Yn,r?n&1|2:n&1),e):(gi(e),null);case 22:case 23:return Av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ys&1073741824&&(gi(e),e.subtreeFlags&6&&(e.flags|=8192)):gi(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function xP(t,e){switch(sv(e),e.tag){case 1:return Zi(e.type)&&Cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eh(),Hn(Ji),Hn(Ai),pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(Hn(Yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hn(Yn),null;case 4:return eh(),null;case 10:return uv(e.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var vp=!1,Si=!1,SP=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lr(t,e,r)}else n.current=null}function R2(t,e,n){try{n()}catch(r){lr(t,e,r)}}var D_=!1;function EP(t,e){if(m2=Am,t=wS(),rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,g=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(g2={focusedElem:t,selectionRange:n},Am=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,k=b.memoizedState,_=e.stateNode,A=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:oo(e.type,x),k);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(O){lr(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return b=D_,D_=!1,b}function bf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&R2(e,n,s)}i=i.next}while(i!==r)}}function Pg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function L2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mE(t){var e=t.alternate;e!==null&&(t.alternate=null,mE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fo],delete e[Hf],delete e[w2],delete e[oP],delete e[aP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gE(t){return t.tag===5||t.tag===3||t.tag===4}function M_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tm));else if(r!==4&&(t=t.child,t!==null))for(D2(t,e,n),t=t.sibling;t!==null;)D2(t,e,n),t=t.sibling}function M2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(M2(t,e,n),t=t.sibling;t!==null;)M2(t,e,n),t=t.sibling}var Jr=null,ao=!1;function il(t,e,n){for(n=n.child;n!==null;)yE(t,e,n),n=n.sibling}function yE(t,e,n){if(Uo&&typeof Uo.onCommitFiberUnmount=="function")try{Uo.onCommitFiberUnmount(Sg,n)}catch{}switch(n.tag){case 5:Si||Tc(n,e);case 6:var r=Jr,i=ao;Jr=null,il(t,e,n),Jr=r,ao=i,Jr!==null&&(ao?(t=Jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jr.removeChild(n.stateNode));break;case 18:Jr!==null&&(ao?(t=Jr,n=n.stateNode,t.nodeType===8?q0(t.parentNode,n):t.nodeType===1&&q0(t,n),Uf(t)):q0(Jr,n.stateNode));break;case 4:r=Jr,i=ao,Jr=n.stateNode.containerInfo,ao=!0,il(t,e,n),Jr=r,ao=i;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&R2(n,e,o),i=i.next}while(i!==r)}il(t,e,n);break;case 1:if(!Si&&(Tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lr(n,e,a)}il(t,e,n);break;case 21:il(t,e,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,il(t,e,n),Si=r):il(t,e,n);break;default:il(t,e,n)}}function O_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SP),e.forEach(function(r){var i=LP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function io(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jr=a.stateNode,ao=!1;break e;case 3:Jr=a.stateNode.containerInfo,ao=!0;break e;case 4:Jr=a.stateNode.containerInfo,ao=!0;break e}a=a.return}if(Jr===null)throw Error(Fe(160));yE(s,o,i),Jr=null,ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vE(e,t),e=e.sibling}function vE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(io(e,t),Ro(t),r&4){try{bf(3,t,t.return),Pg(3,t)}catch(x){lr(t,t.return,x)}try{bf(5,t,t.return)}catch(x){lr(t,t.return,x)}}break;case 1:io(e,t),Ro(t),r&512&&n!==null&&Tc(n,n.return);break;case 5:if(io(e,t),Ro(t),r&512&&n!==null&&Tc(n,n.return),t.flags&32){var i=t.stateNode;try{Of(i,"")}catch(x){lr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&U3(i,s),s2(a,o);var u=s2(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?H3(i,d):c==="dangerouslySetInnerHTML"?q3(i,d):c==="children"?Of(i,d):$y(i,c,d,u)}switch(a){case"input":e2(i,s);break;case"textarea":B3(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Rc(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?Rc(i,!!s.multiple,s.defaultValue,!0):Rc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hf]=s}catch(x){lr(t,t.return,x)}}break;case 6:if(io(e,t),Ro(t),r&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){lr(t,t.return,x)}}break;case 3:if(io(e,t),Ro(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uf(e.containerInfo)}catch(x){lr(t,t.return,x)}break;case 4:io(e,t),Ro(t);break;case 13:io(e,t),Ro(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sv=gr())),r&4&&O_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Si=(u=Si)||c,io(e,t),Si=u):io(e,t),Ro(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Qe=t,c=t.child;c!==null;){for(d=Qe=c;Qe!==null;){switch(g=Qe,m=g.child,g.tag){case 0:case 11:case 14:case 15:bf(4,g,g.return);break;case 1:Tc(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){lr(r,n,x)}}break;case 5:Tc(g,g.return);break;case 22:if(g.memoizedState!==null){j_(d);continue}}m!==null?(m.return=g,Qe=m):j_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$3("display",o))}catch(x){lr(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){lr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:io(e,t),Ro(t),r&4&&O_(t);break;case 21:break;default:io(e,t),Ro(t)}}function Ro(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gE(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Of(i,""),r.flags&=-33);var s=M_(t);M2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=M_(t);D2(t,a,o);break;default:throw Error(Fe(161))}}catch(l){lr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AP(t,e,n){Qe=t,wE(t)}function wE(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Si;a=vp;var u=Si;if(vp=o,(Si=l)&&!u)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?V_(i):l!==null?(l.return=o,Qe=l):V_(i);for(;s!==null;)Qe=s,wE(s),s=s.sibling;Qe=i,vp=a,Si=u}F_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):F_(t)}}function F_(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Si||Pg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Si)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Uf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Si||e.flags&512&&L2(e)}catch(g){lr(e,e.return,g)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function j_(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function V_(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pg(4,e)}catch(l){lr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lr(e,i,l)}}var s=e.return;try{L2(e)}catch(l){lr(e,s,l)}break;case 5:var o=e.return;try{L2(e)}catch(l){lr(e,o,l)}}}catch(l){lr(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var IP=Math.ceil,Vm=Fa.ReactCurrentDispatcher,bv=Fa.ReactCurrentOwner,Ws=Fa.ReactCurrentBatchConfig,ln=0,qr=null,br=null,ni=0,ys=0,Cc=Kl(0),Rr=0,Xf=null,Cu=0,Rg=0,xv=0,xf=null,Yi=null,Sv=0,nh=1/0,pa=null,Um=!1,O2=null,Il=null,wp=!1,yl=null,Bm=0,Sf=0,F2=null,Kp=-1,Yp=0;function ji(){return ln&6?gr():Kp!==-1?Kp:Kp=gr()}function Nl(t){return t.mode&1?ln&2&&ni!==0?ni&-ni:uP.transition!==null?(Yp===0&&(Yp=rS()),Yp):(t=bn,t!==0||(t=window.event,t=t===void 0?16:cS(t.type)),t):1}function po(t,e,n,r){if(50<Sf)throw Sf=0,F2=null,Error(Fe(185));vd(t,n,r),(!(ln&2)||t!==qr)&&(t===qr&&(!(ln&2)&&(Rg|=n),Rr===4&&hl(t,ni)),es(t,r),n===1&&ln===0&&!(e.mode&1)&&(nh=gr()+500,Tg&&Yl()))}function es(t,e){var n=t.callbackNode;uk(t,e);var r=Em(t,t===qr?ni:0);if(r===0)n!==null&&Kw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kw(n),e===1)t.tag===0?lP(U_.bind(null,t)):CS(U_.bind(null,t)),iP(function(){!(ln&6)&&Yl()}),n=null;else{switch(iS(r)){case 1:n=Yy;break;case 4:n=tS;break;case 16:n=Sm;break;case 536870912:n=nS;break;default:n=Sm}n=NE(n,_E.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _E(t,e){if(Kp=-1,Yp=0,ln&6)throw Error(Fe(327));var n=t.callbackNode;if(Fc()&&t.callbackNode!==n)return null;var r=Em(t,t===qr?ni:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zm(t,r);else{e=r;var i=ln;ln|=2;var s=xE();(qr!==t||ni!==e)&&(pa=null,nh=gr()+500,bu(t,e));do try{CP();break}catch(a){bE(t,a)}while(!0);lv(),Vm.current=s,ln=i,br!==null?e=0:(qr=null,ni=0,e=Rr)}if(e!==0){if(e===2&&(i=c2(t),i!==0&&(r=i,e=j2(t,i))),e===1)throw n=Xf,bu(t,0),hl(t,r),es(t,gr()),n;if(e===6)hl(t,r);else{if(i=t.current.alternate,!(r&30)&&!NP(i)&&(e=zm(t,r),e===2&&(s=c2(t),s!==0&&(r=s,e=j2(t,s))),e===1))throw n=Xf,bu(t,0),hl(t,r),es(t,gr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:lu(t,Yi,pa);break;case 3:if(hl(t,r),(r&130023424)===r&&(e=Sv+500-gr(),10<e)){if(Em(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ji(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=v2(lu.bind(null,t,Yi,pa),e);break}lu(t,Yi,pa);break;case 4:if(hl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IP(r/1960))-r,10<r){t.timeoutHandle=v2(lu.bind(null,t,Yi,pa),r);break}lu(t,Yi,pa);break;case 5:lu(t,Yi,pa);break;default:throw Error(Fe(329))}}}return es(t,gr()),t.callbackNode===n?_E.bind(null,t):null}function j2(t,e){var n=xf;return t.current.memoizedState.isDehydrated&&(bu(t,e).flags|=256),t=zm(t,e),t!==2&&(e=Yi,Yi=n,e!==null&&V2(e)),t}function V2(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function NP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!go(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hl(t,e){for(e&=~xv,e&=~Rg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fo(e),r=1<<n;t[n]=-1,e&=~r}}function U_(t){if(ln&6)throw Error(Fe(327));Fc();var e=Em(t,0);if(!(e&1))return es(t,gr()),null;var n=zm(t,e);if(t.tag!==0&&n===2){var r=c2(t);r!==0&&(e=r,n=j2(t,r))}if(n===1)throw n=Xf,bu(t,0),hl(t,e),es(t,gr()),n;if(n===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lu(t,Yi,pa),es(t,gr()),null}function Ev(t,e){var n=ln;ln|=1;try{return t(e)}finally{ln=n,ln===0&&(nh=gr()+500,Tg&&Yl())}}function ku(t){yl!==null&&yl.tag===0&&!(ln&6)&&Fc();var e=ln;ln|=1;var n=Ws.transition,r=bn;try{if(Ws.transition=null,bn=1,t)return t()}finally{bn=r,Ws.transition=n,ln=e,!(ln&6)&&Yl()}}function Av(){ys=Cc.current,Hn(Cc)}function bu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rP(n)),br!==null)for(n=br.return;n!==null;){var r=n;switch(sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:eh(),Hn(Ji),Hn(Ai),pv();break;case 5:dv(r);break;case 4:eh();break;case 13:Hn(Yn);break;case 19:Hn(Yn);break;case 10:uv(r.type._context);break;case 22:case 23:Av()}n=n.return}if(qr=t,br=t=Tl(t.current,null),ni=ys=e,Rr=0,Xf=null,xv=Rg=Cu=0,Yi=xf=null,du!==null){for(e=0;e<du.length;e++)if(n=du[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}du=null}return t}function bE(t,e){do{var n=br;try{if(lv(),Hp.current=jm,Fm){for(var r=Qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fm=!1}if(Tu=0,Br=Pr=Qn=null,_f=!1,Kf=0,bv.current=null,n===null||n.return===null){Rr=1,Xf=e,br=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ni,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=N_(o);if(m!==null){m.flags&=-257,T_(m,o,a,s,e),m.mode&1&&I_(s,u,e),e=m,l=u;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){I_(s,u,e),Iv();break e}l=Error(Fe(426))}}else if(Gn&&a.mode&1){var k=N_(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),T_(k,o,a,s,e),ov(th(l,a));break e}}s=l=th(l,a),Rr!==4&&(Rr=2),xf===null?xf=[s]:xf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=iE(s,l,e);__(s,_);break e;case 1:a=l;var A=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Il===null||!Il.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=sE(s,a,e);__(s,O);break e}}s=s.return}while(s!==null)}EE(n)}catch(Q){e=Q,br===n&&n!==null&&(br=n=n.return);continue}break}while(!0)}function xE(){var t=Vm.current;return Vm.current=jm,t===null?jm:t}function Iv(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),qr===null||!(Cu&268435455)&&!(Rg&268435455)||hl(qr,ni)}function zm(t,e){var n=ln;ln|=2;var r=xE();(qr!==t||ni!==e)&&(pa=null,bu(t,e));do try{TP();break}catch(i){bE(t,i)}while(!0);if(lv(),ln=n,Vm.current=r,br!==null)throw Error(Fe(261));return qr=null,ni=0,Rr}function TP(){for(;br!==null;)SE(br)}function CP(){for(;br!==null&&!ek();)SE(br)}function SE(t){var e=IE(t.alternate,t,ys);t.memoizedProps=t.pendingProps,e===null?EE(t):br=e,bv.current=null}function EE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xP(n,e),n!==null){n.flags&=32767,br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,br=null;return}}else if(n=bP(n,e,ys),n!==null){br=n;return}if(e=e.sibling,e!==null){br=e;return}br=e=t}while(e!==null);Rr===0&&(Rr=5)}function lu(t,e,n){var r=bn,i=Ws.transition;try{Ws.transition=null,bn=1,kP(t,e,n,r)}finally{Ws.transition=i,bn=r}return null}function kP(t,e,n,r){do Fc();while(yl!==null);if(ln&6)throw Error(Fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ck(t,s),t===qr&&(br=qr=null,ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wp||(wp=!0,NE(Sm,function(){return Fc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ws.transition,Ws.transition=null;var o=bn;bn=1;var a=ln;ln|=4,bv.current=null,EP(t,n),vE(n,t),Qk(g2),Am=!!m2,g2=m2=null,t.current=n,AP(n),tk(),ln=a,bn=o,Ws.transition=s}else t.current=n;if(wp&&(wp=!1,yl=t,Bm=i),s=t.pendingLanes,s===0&&(Il=null),ik(n.stateNode),es(t,gr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Um)throw Um=!1,t=O2,O2=null,t;return Bm&1&&t.tag!==0&&Fc(),s=t.pendingLanes,s&1?t===F2?Sf++:(Sf=0,F2=t):Sf=0,Yl(),null}function Fc(){if(yl!==null){var t=iS(Bm),e=Ws.transition,n=bn;try{if(Ws.transition=null,bn=16>t?16:t,yl===null)var r=!1;else{if(t=yl,yl=null,Bm=0,ln&6)throw Error(Fe(331));var i=ln;for(ln|=4,Qe=t.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qe=u;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:bf(8,c,s)}var d=c.child;if(d!==null)d.return=c,Qe=d;else for(;Qe!==null;){c=Qe;var g=c.sibling,m=c.return;if(mE(c),c===u){Qe=null;break}if(g!==null){g.return=m,Qe=g;break}Qe=m}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Qe=_;break e}Qe=s.return}}var A=t.current;for(Qe=A;Qe!==null;){o=Qe;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Qe=I;else e:for(o=A;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pg(9,a)}}catch(Q){lr(a,a.return,Q)}if(a===o){Qe=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Qe=O;break e}Qe=a.return}}if(ln=i,Yl(),Uo&&typeof Uo.onPostCommitFiberRoot=="function")try{Uo.onPostCommitFiberRoot(Sg,t)}catch{}r=!0}return r}finally{bn=n,Ws.transition=e}}return!1}function B_(t,e,n){e=th(n,e),e=iE(t,e,1),t=Al(t,e,1),e=ji(),t!==null&&(vd(t,1,e),es(t,e))}function lr(t,e,n){if(t.tag===3)B_(t,t,n);else for(;e!==null;){if(e.tag===3){B_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Il===null||!Il.has(r))){t=th(n,t),t=sE(e,t,1),e=Al(e,t,1),t=ji(),e!==null&&(vd(e,1,t),es(e,t));break}}e=e.return}}function PP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ji(),t.pingedLanes|=t.suspendedLanes&n,qr===t&&(ni&n)===n&&(Rr===4||Rr===3&&(ni&130023424)===ni&&500>gr()-Sv?bu(t,0):xv|=n),es(t,e)}function AE(t,e){e===0&&(t.mode&1?(e=up,up<<=1,!(up&130023424)&&(up=4194304)):e=1);var n=ji();t=Ca(t,e),t!==null&&(vd(t,e,n),es(t,n))}function RP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AE(t,n)}function LP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),AE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Qi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qi=!1,_P(t,e,n);Qi=!!(t.flags&131072)}else Qi=!1,Gn&&e.flags&1048576&&kS(e,Rm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gp(t,e),t=e.pendingProps;var i=Xc(e,Ai.current);Oc(e,n),i=gv(null,e,r,t,i,n);var s=yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zi(r)?(s=!0,km(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hv(e),i.updater=kg,e.stateNode=i,i._reactInternals=e,A2(e,r,t,n),e=T2(null,e,r,!0,s,n)):(e.tag=0,Gn&&s&&iv(e),Oi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MP(r),t=oo(r,t),i){case 0:e=N2(null,e,r,t,n);break e;case 1:e=P_(null,e,r,t,n);break e;case 11:e=C_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,oo(r.type,t),n);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),N2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),P_(t,e,r,i,n);case 3:e:{if(uE(e),t===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OS(t,e),Mm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=th(Error(Fe(423)),e),e=R_(t,e,r,n,i);break e}else if(r!==i){i=th(Error(Fe(424)),e),e=R_(t,e,r,n,i);break e}else for(ws=El(e.stateNode.containerInfo.firstChild),xs=e,Gn=!0,lo=null,n=DS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jc(),r===i){e=ka(t,e,n);break e}Oi(t,e,r,n)}e=e.child}return e;case 5:return FS(e),t===null&&x2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,y2(r,i)?o=null:s!==null&&y2(r,s)&&(e.flags|=32),lE(t,e),Oi(t,e,o,n),e.child;case 6:return t===null&&x2(e),null;case 13:return cE(t,e,n);case 4:return fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zc(e,null,r,n):Oi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),C_(t,e,r,i,n);case 7:return Oi(t,e,e.pendingProps,n),e.child;case 8:return Oi(t,e,e.pendingProps.children,n),e.child;case 12:return Oi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Vn(Lm,r._currentValue),r._currentValue=o,s!==null)if(go(s.value,o)){if(s.children===i.children&&!Ji.current){e=ka(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ea(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),S2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),S2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Oi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oc(e,n),i=Ks(i),r=r(i),e.flags|=1,Oi(t,e,r,n),e.child;case 14:return r=e.type,i=oo(r,e.pendingProps),i=oo(r.type,i),k_(t,e,r,i,n);case 15:return oE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oo(r,i),Gp(t,e),e.tag=1,Zi(r)?(t=!0,km(e)):t=!1,Oc(e,n),rE(e,r,i),A2(e,r,i,n),T2(null,e,r,!0,t,n);case 19:return hE(t,e,n);case 22:return aE(t,e,n)}throw Error(Fe(156,e.tag))};function NE(t,e){return eS(t,e)}function DP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(t,e,n,r){return new DP(t,e,n,r)}function Nv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MP(t){if(typeof t=="function")return Nv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Gy)return 14}return 2}function Tl(t,e){var n=t.alternate;return n===null?(n=Hs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wc:return xu(n.children,i,s,e);case Hy:o=8,i|=8;break;case Y1:return t=Hs(12,n,e,i|2),t.elementType=Y1,t.lanes=s,t;case Q1:return t=Hs(13,n,e,i),t.elementType=Q1,t.lanes=s,t;case X1:return t=Hs(19,n,e,i),t.elementType=X1,t.lanes=s,t;case F3:return Lg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M3:o=10;break e;case O3:o=9;break e;case Wy:o=11;break e;case Gy:o=14;break e;case ll:o=16,r=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=Hs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xu(t,e,n,r){return t=Hs(7,t,r,e),t.lanes=n,t}function Lg(t,e,n,r){return t=Hs(22,t,r,e),t.elementType=F3,t.lanes=n,t.stateNode={isHidden:!1},t}function X0(t,e,n){return t=Hs(6,t,null,e),t.lanes=n,t}function J0(t,e,n){return e=Hs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tv(t,e,n,r,i,s,o,a,l){return t=new OP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(s),t}function FP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TE(t){if(!t)return Fl;t=t._reactInternals;e:{if(Bu(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var n=t.type;if(Zi(n))return TS(t,n,e)}return e}function CE(t,e,n,r,i,s,o,a,l){return t=Tv(n,r,!0,t,i,s,o,a,l),t.context=TE(null),n=t.current,r=ji(),i=Nl(n),s=Ea(r,i),s.callback=e??null,Al(n,s,i),t.current.lanes=i,vd(t,i,r),es(t,r),t}function Dg(t,e,n,r){var i=e.current,s=ji(),o=Nl(i);return n=TE(n),e.context===null?e.context=n:e.pendingContext=n,e=Ea(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Al(i,e,o),t!==null&&(po(t,i,o,s),$p(t,i,o)),o}function qm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cv(t,e){z_(t,e),(t=t.alternate)&&z_(t,e)}function jP(){return null}var kE=typeof reportError=="function"?reportError:function(t){console.error(t)};function kv(t){this._internalRoot=t}Mg.prototype.render=kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));Dg(t,e,null,null)};Mg.prototype.unmount=kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ku(function(){Dg(null,t,null,null)}),e[Ta]=null}};function Mg(t){this._internalRoot=t}Mg.prototype.unstable_scheduleHydration=function(t){if(t){var e=aS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cl.length&&e!==0&&e<cl[n].priority;n++);cl.splice(n,0,t),n===0&&uS(t)}};function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q_(){}function VP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=qm(o);s.call(u)}}var o=CE(e,r,t,0,null,!1,!1,"",q_);return t._reactRootContainer=o,t[Ta]=o.current,qf(t.nodeType===8?t.parentNode:t),ku(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=qm(l);a.call(u)}}var l=Tv(t,0,!1,null,null,!1,!1,"",q_);return t._reactRootContainer=l,t[Ta]=l.current,qf(t.nodeType===8?t.parentNode:t),ku(function(){Dg(e,l,n,r)}),l}function Fg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qm(o);a.call(l)}}Dg(e,o,t,i)}else o=VP(n,e,t,i,r);return qm(o)}sS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=of(e.pendingLanes);n!==0&&(Qy(e,n|1),es(e,gr()),!(ln&6)&&(nh=gr()+500,Yl()))}break;case 13:ku(function(){var r=Ca(t,1);if(r!==null){var i=ji();po(r,t,1,i)}}),Cv(t,1)}};Xy=function(t){if(t.tag===13){var e=Ca(t,134217728);if(e!==null){var n=ji();po(e,t,134217728,n)}Cv(t,134217728)}};oS=function(t){if(t.tag===13){var e=Nl(t),n=Ca(t,e);if(n!==null){var r=ji();po(n,t,e,r)}Cv(t,e)}};aS=function(){return bn};lS=function(t,e){var n=bn;try{return bn=t,e()}finally{bn=n}};a2=function(t,e,n){switch(e){case"input":if(e2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ng(r);if(!i)throw Error(Fe(90));V3(r),e2(r,i)}}}break;case"textarea":B3(t,n);break;case"select":e=n.value,e!=null&&Rc(t,!!n.multiple,e,!1)}};K3=Ev;Y3=ku;var UP={usingClientEntryPoint:!1,Events:[_d,Sc,Ng,W3,G3,Ev]},Xh={findFiberByHostInstance:fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BP={bundleType:Xh.bundleType,version:Xh.version,rendererPackageName:Xh.rendererPackageName,rendererConfig:Xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J3(t),t===null?null:t.stateNode},findFiberByHostInstance:Xh.findFiberByHostInstance||jP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Sg=_p.inject(BP),Uo=_p}catch{}}As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;As.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(e))throw Error(Fe(200));return FP(t,e,null,n)};As.createRoot=function(t,e){if(!Pv(t))throw Error(Fe(299));var n=!1,r="",i=kE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tv(t,1,!1,null,null,n,!1,r,i),t[Ta]=e.current,qf(t.nodeType===8?t.parentNode:t),new kv(e)};As.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=J3(e),t=t===null?null:t.stateNode,t};As.flushSync=function(t){return ku(t)};As.hydrate=function(t,e,n){if(!Og(e))throw Error(Fe(200));return Fg(null,t,e,!0,n)};As.hydrateRoot=function(t,e,n){if(!Pv(t))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CE(e,null,t,1,n??null,i,!1,s,o),t[Ta]=e.current,qf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mg(e)};As.render=function(t,e,n){if(!Og(e))throw Error(Fe(200));return Fg(null,t,e,!1,n)};As.unmountComponentAtNode=function(t){if(!Og(t))throw Error(Fe(40));return t._reactRootContainer?(ku(function(){Fg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ta]=null})}),!0):!1};As.unstable_batchedUpdates=Ev;As.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Og(n))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return Fg(t,e,n,!1,r)};As.version="18.3.1-next-f1338f8080-20240426";function PE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PE)}catch(t){console.error(t)}}PE(),P3.exports=As;var zP=P3.exports,Rv,$_=zP;Rv=$_.createRoot,$_.hydrateRoot;const qP=Object.freeze(Object.defineProperty({__proto__:null,get createRoot(){return Rv}},Symbol.toStringTag,{value:"Module"}));/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_="popstate";function $P(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return U2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jf(i)}return WP(e,n,null,t)}function Xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HP(){return Math.random().toString(36).substring(2,10)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function U2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gh(e):e,state:n,key:e&&e.key||r||HP()}}function Jf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function WP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let k=c(),_=k==null?null:k-u;u=k,l&&l({action:a,location:x.location,delta:_})}function g(k,_){a="PUSH";let A=U2(x.location,k,_);u=c()+1;let I=W_(A,u),O=x.createHref(A);try{o.pushState(I,"",O)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(O)}s&&l&&l({action:a,location:x.location,delta:1})}function m(k,_){a="REPLACE";let A=U2(x.location,k,_);u=c();let I=W_(A,u),O=x.createHref(A);o.replaceState(I,"",O),s&&l&&l({action:a,location:x.location,delta:0})}function b(k){return GP(k)}let x={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H_,d),l=k,()=>{i.removeEventListener(H_,d),l=null}},createHref(k){return e(i,k)},createURL:b,encodeLocation(k){let _=b(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:m,go(k){return o.go(k)}};return x}function GP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Jf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RE(t,e,n="/"){return KP(t,e,n,!1)}function KP(t,e,n,r){let i=typeof e=="string"?gh(e):e,s=Pa(i.pathname||"/",n);if(s==null)return null;let o=LE(t);YP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=oR(s);a=iR(o[l],u,r)}return a}function LE(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Xn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Aa([r,c.relativePath]),g=n.concat(c);o.children&&o.children.length>0&&(Xn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),LE(o.children,e,g,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:nR(d,o.index),routesMeta:g})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of DE(o.path))s(o,a,!0,u)}),e}function DE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QP=/^:[\w-]+$/,XP=3,JP=2,ZP=1,eR=10,tR=-2,G_=t=>t==="*";function nR(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=tR),e&&(r+=JP),n.filter(i=>!G_(i)).reduce((i,s)=>i+(QP.test(s)?XP:s===""?ZP:eR),r)}function rR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iR(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=$m({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=$m({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Aa([s,d.pathname]),pathnameBase:cR(Aa([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Aa([s,d.pathnameBase]))}return o}function $m(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},g)=>{if(c==="*"){let b=a[g]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[g];return d&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function sR(t,e=!1,n=!0){Qo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var aR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function lR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gh(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=K_(n.substring(1),"/"):s=K_(n,e)):s=e,{pathname:s,search:hR(r),hash:fR(i)}}function K_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ME(t){let e=uR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function OE(t,e,n,r=!1){let i;typeof t=="string"?i=gh(t):(i={...t},Xn(!i.pathname||!i.pathname.includes("?"),Z0("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),Z0("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),Z0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}a=d>=0?e[d]:"/"}let l=lR(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Aa=t=>t.join("/").replace(/\/\/+/g,"/"),cR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,dR=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function mR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(t,e){let n=t;if(typeof n!="string"||!aR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(FE)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=Pa(o.pathname,e);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{Qo(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var gR=["GET",...VE];new Set(gR);var yh=se.createContext(null);yh.displayName="DataRouter";var jg=se.createContext(null);jg.displayName="DataRouterState";var yR=se.createContext(!1),UE=se.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var vR=se.createContext(new Map);vR.displayName="Fetchers";var wR=se.createContext(null);wR.displayName="Await";var Xs=se.createContext(null);Xs.displayName="Navigation";var xd=se.createContext(null);xd.displayName="Location";var ea=se.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var Lv=se.createContext(null);Lv.displayName="RouteError";var BE="REACT_ROUTER_ERROR",_R="REDIRECT",bR="ROUTE_ERROR_RESPONSE";function xR(t){if(t.startsWith(`${BE}:${_R}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function SR(t){if(t.startsWith(`${BE}:${bR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dR(e.status,e.statusText,e.data)}catch{}}function ER(t,{relative:e}={}){Xn(Sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=se.useContext(Xs),{hash:i,pathname:s,search:o}=Ed(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Aa([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Sd(){return se.useContext(xd)!=null}function zu(){return Xn(Sd(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(xd).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(t){se.useContext(Xs).static||se.useLayoutEffect(t)}function AR(){let{isDataRoute:t}=se.useContext(ea);return t?VR():IR()}function IR(){Xn(Sd(),"useNavigate() may be used only in the context of a <Router> component.");let t=se.useContext(yh),{basename:e,navigator:n}=se.useContext(Xs),{matches:r}=se.useContext(ea),{pathname:i}=zu(),s=JSON.stringify(ME(r)),o=se.useRef(!1);return qE(()=>{o.current=!0}),se.useCallback((l,u={})=>{if(Qo(o.current,zE),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=OE(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Aa([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}se.createContext(null);function NR(){let{matches:t}=se.useContext(ea),e=t[t.length-1];return e?e.params:{}}function Ed(t,{relative:e}={}){let{matches:n}=se.useContext(ea),{pathname:r}=zu(),i=JSON.stringify(ME(n));return se.useMemo(()=>OE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function TR(t,e){return $E(t,e)}function $E(t,e,n,r,i){var A;Xn(Sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=se.useContext(Xs),{matches:o}=se.useContext(ea),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let I=d&&d.path||"";WE(u,!d||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let g=zu(),m;if(e){let I=typeof e=="string"?gh(e):e;Xn(c==="/"||((A=I.pathname)==null?void 0:A.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${I.pathname}" was given in the \`location\` prop.`),m=I}else m=g;let b=m.pathname||"/",x=b;if(c!=="/"){let I=c.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(I.length).join("/")}let k=RE(t,{pathname:x});Qo(d||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Qo(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=LR(k&&k.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Aa([c,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Aa([c,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n,r,i);return e&&_?se.createElement(xd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},_):_}function CR(){let t=jR(),e=pR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,o)}var kR=se.createElement(CR,null),HE=class extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=SR(t.digest);n&&(t=n)}let e=t!==void 0?se.createElement(ea.Provider,{value:this.props.routeContext},se.createElement(Lv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?se.createElement(PR,{error:t},e):e}};HE.contextType=yR;var e1=new WeakMap;function PR({children:t,error:e}){let{basename:n}=se.useContext(Xs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=xR(e.digest);if(r){let i=e1.get(e);if(i)throw i;let s=jE(r.location,n);if(FE&&!e1.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw e1.set(e,o),o}return se.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function RR({routeContext:t,match:e,children:n}){let r=se.useContext(yh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(ea.Provider,{value:t},n)}function LR(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Xn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:g,errors:m}=n,b=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||b){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(c,d)=>{var g,m;r(c,{location:n.location,params:((m=(g=n.matches)==null?void 0:g[0])==null?void 0:m.params)??{},unstable_pattern:mR(n.matches),errorInfo:d})}:void 0;return s.reduceRight((c,d,g)=>{let m,b=!1,x=null,k=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||kR,a&&(l<0&&g===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):l===g&&(b=!0,k=d.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),A=()=>{let I;return m?I=x:b?I=k:d.route.Component?I=se.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=c,se.createElement(RR,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?se.createElement(HE,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):A()},null)}function Dv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(t){let e=se.useContext(yh);return Xn(e,Dv(t)),e}function MR(t){let e=se.useContext(jg);return Xn(e,Dv(t)),e}function OR(t){let e=se.useContext(ea);return Xn(e,Dv(t)),e}function Mv(t){let e=OR(t),n=e.matches[e.matches.length-1];return Xn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FR(){return Mv("useRouteId")}function jR(){var r;let t=se.useContext(Lv),e=MR("useRouteError"),n=Mv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VR(){let{router:t}=DR("useNavigate"),e=Mv("useNavigate"),n=se.useRef(!1);return qE(()=>{n.current=!0}),se.useCallback(async(i,s={})=>{Qo(n.current,zE),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Y_={};function WE(t,e,n){!e&&!Y_[t]&&(Y_[t]=!0,Qo(!1,n))}se.memo(UR);function UR({routes:t,future:e,state:n,onError:r}){return $E(t,void 0,n,r,e)}function B2(t){Xn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Xn(!Sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=se.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=gh(n));let{pathname:u="/",search:c="",hash:d="",state:g=null,key:m="default"}=n,b=se.useMemo(()=>{let x=Pa(u,a);return x==null?null:{location:{pathname:x,search:c,hash:d,state:g,key:m},navigationType:r}},[a,u,c,d,g,m,r]);return Qo(b!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:se.createElement(Xs.Provider,{value:l},se.createElement(xd.Provider,{children:e,value:b}))}function zR({children:t,location:e}){return TR(z2(t),e)}function z2(t,e=[]){let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let s=[...e,i];if(r.type===se.Fragment){n.push.apply(n,z2(r.props.children,s));return}Xn(r.type===B2,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=z2(r.props.children,s)),n.push(o)}),n}var Xp="get",Jp="application/x-www-form-urlencoded";function Vg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qR(t){return Vg(t)&&t.tagName.toLowerCase()==="button"}function $R(t){return Vg(t)&&t.tagName.toLowerCase()==="form"}function HR(t){return Vg(t)&&t.tagName.toLowerCase()==="input"}function WR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GR(t,e){return t.button===0&&(!e||e==="_self")&&!WR(t)}var bp=null;function KR(){if(bp===null)try{new FormData(document.createElement("form"),0),bp=!1}catch{bp=!0}return bp}var YR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t1(t){return t!=null&&!YR.has(t)?(Qo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function QR(t,e){let n,r,i,s,o;if($R(t)){let a=t.getAttribute("action");r=a?Pa(a,e):null,n=t.getAttribute("method")||Xp,i=t1(t.getAttribute("enctype"))||Jp,s=new FormData(t)}else if(qR(t)||HR(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Pa(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Xp,i=t1(t.getAttribute("formenctype"))||t1(a.getAttribute("enctype"))||Jp,s=new FormData(a,t),!KR()){let{name:u,type:c,value:d}=t;if(c==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,d)}}else{if(Vg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xp,r=null,i=Jp,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ov(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XR(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Pa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function JR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e8(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await JR(s,n);return o.links?o.links():[]}return[]}));return i8(r.flat(1).filter(ZR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Q_(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function t8(t,e,{includeHydrateFallback:n}={}){return n8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function n8(t){return[...new Set(t)]}function r8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function i8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(r8(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function GE(){let t=se.useContext(yh);return Ov(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s8(){let t=se.useContext(jg);return Ov(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fv=se.createContext(void 0);Fv.displayName="FrameworkContext";function KE(){let t=se.useContext(Fv);return Ov(t,"You must render this element inside a <HydratedRouter> element"),t}function o8(t,e){let n=se.useContext(Fv),[r,i]=se.useState(!1),[s,o]=se.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,g=se.useRef(null);se.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(A=>{o(A.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[t]),se.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Jh(a,m),onBlur:Jh(l,b),onMouseEnter:Jh(u,m),onMouseLeave:Jh(c,b),onTouchStart:Jh(d,m)}]:[!1,g,{}]}function Jh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a8({page:t,...e}){let{router:n}=GE(),r=se.useMemo(()=>RE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?se.createElement(u8,{page:t,matches:r,...e}):null}function l8(t){let{manifest:e,routeModules:n}=KE(),[r,i]=se.useState([]);return se.useEffect(()=>{let s=!1;return e8(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function u8({page:t,matches:e,...n}){let r=zu(),{future:i,manifest:s,routeModules:o}=KE(),{basename:a}=GE(),{loaderData:l,matches:u}=s8(),c=se.useMemo(()=>Q_(t,e,u,s,r,"data"),[t,e,u,s,r]),d=se.useMemo(()=>Q_(t,e,u,s,r,"assets"),[t,e,u,s,r]),g=se.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,k=!1;if(e.forEach(A=>{var O;let I=s.routes[A.route.id];!I||!I.hasLoader||(!c.some(Q=>Q.route.id===A.route.id)&&A.route.id in l&&((O=o[A.route.id])!=null&&O.shouldRevalidate)||I.hasClientLoader?k=!0:x.add(A.route.id))}),x.size===0)return[];let _=XR(t,a,i.unstable_trailingSlashAwareDataRequests,"data");return k&&x.size>0&&_.searchParams.set("_routes",e.filter(A=>x.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,s,c,e,t,o]),m=se.useMemo(()=>t8(d,s),[d,s]),b=l8(d);return se.createElement(se.Fragment,null,g.map(x=>se.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>se.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:k})=>se.createElement("link",{key:x,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function c8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h8&&(window.__reactRouterVersion="7.13.0")}catch{}function f8({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=se.useRef();i.current==null&&(i.current=$P({window:r,v5Compat:!0}));let s=i.current,[o,a]=se.useState({action:s.action,location:s.location}),l=se.useCallback(u=>{n===!1?a(u):se.startTransition(()=>a(u))},[n]);return se.useLayoutEffect(()=>s.listen(l),[s,l]),se.createElement(BR,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QE=se.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:g,...m},b){let{basename:x,unstable_useTransitions:k}=se.useContext(Xs),_=typeof u=="string"&&YE.test(u),A=jE(u,x);u=A.to;let I=ER(u,{relative:i}),[O,Q,te]=o8(r,m),j=g8(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:k});function C(F){e&&e(F),F.defaultPrevented||j(F)}let N=se.createElement("a",{...m,...te,href:A.absoluteURL||I,onClick:A.isExternal||s?e:C,ref:c8(b,Q),target:l,"data-discover":!_&&n==="render"?"true":void 0});return O&&!_?se.createElement(se.Fragment,null,N,se.createElement(a8,{page:I})):N});QE.displayName="Link";var d8=se.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=Ed(o,{relative:u.relative}),g=zu(),m=se.useContext(jg),{navigator:b,basename:x}=se.useContext(Xs),k=m!=null&&b8(d)&&a===!0,_=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,A=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(A=A.toLowerCase(),I=I?I.toLowerCase():null,_=_.toLowerCase()),I&&x&&(I=Pa(I,x)||I);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let Q=A===_||!i&&A.startsWith(_)&&A.charAt(O)==="/",te=I!=null&&(I===_||!i&&I.startsWith(_)&&I.charAt(_.length)==="/"),j={isActive:Q,isPending:te,isTransitioning:k},C=Q?e:void 0,N;typeof r=="function"?N=r(j):N=[r,Q?"active":null,te?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(j):s;return se.createElement(QE,{...u,"aria-current":C,className:N,ref:c,style:F,to:o,viewTransition:a},typeof l=="function"?l(j):l)});d8.displayName="NavLink";var p8=se.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Xp,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:g,...m},b)=>{let{unstable_useTransitions:x}=se.useContext(Xs),k=w8(),_=_8(a,{relative:u}),A=o.toLowerCase()==="get"?"get":"post",I=typeof a=="string"&&YE.test(a),O=Q=>{if(l&&l(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,j=(te==null?void 0:te.getAttribute("formmethod"))||o,C=()=>k(te||Q.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:g});x&&n!==!1?se.startTransition(()=>C()):C()};return se.createElement("form",{ref:b,method:A,action:_,onSubmit:r?l:O,...m,"data-discover":!I&&t==="render"?"true":void 0})});p8.displayName="Form";function m8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(t){let e=se.useContext(yh);return Xn(e,m8(t)),e}function g8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=AR(),c=zu(),d=Ed(t,{relative:s});return se.useCallback(g=>{if(GR(g,e)){g.preventDefault();let m=n!==void 0?n:Jf(c)===Jf(d),b=()=>u(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?se.startTransition(()=>b()):b()}},[c,u,d,n,r,e,t,i,s,o,a,l])}var y8=0,v8=()=>`__${String(++y8)}__`;function w8(){let{router:t}=XE("useSubmit"),{basename:e}=se.useContext(Xs),n=FR(),r=t.fetch,i=t.navigate;return se.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=QR(s,e);if(o.navigate===!1){let g=o.fetcherKey||v8();await r(g,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function _8(t,{relative:e}={}){let{basename:n}=se.useContext(Xs),r=se.useContext(ea);Xn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ed(t||".",{relative:e})},o=zu();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Aa([n,s.pathname])),Jf(s)}function b8(t,{relative:e}={}){let n=se.useContext(UE);Xn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XE("useViewTransitionState"),i=Ed(t,{relative:e});if(!n.isTransitioning)return!1;let s=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $m(i.pathname,o)!=null||$m(i.pathname,s)!=null}const x8="modulepreload",S8=function(t){return"/"+t},X_={},Zp=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=S8(l),l in X_)return;X_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":x8,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Cn=(t,e)=>{const n=se.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>se.createElement("svg",{ref:c,...E8,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${A8(t)}`,a].join(" "),...u},[...e.map(([d,g])=>se.createElement(d,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=Cn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=Cn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Cn("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Cn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Cn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Cn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Cn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Cn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Cn("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Cn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Cn("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Cn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Cn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Cn("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Cn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Cn("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Cn("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Cn("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Cn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=Cn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Cn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Cn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Cn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Cn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Cn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Cn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=()=>{};var ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(g=64)),r.push(n[c],n[d],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new W8;const g=s<<2|a>>4;if(r.push(g),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const b=u<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G8=function(t){const e=JE(t);return ZE.encodeByteArray(e,!0)},Hm=function(t){return G8(t).replace(/\./g,"")},eA=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=()=>K8().__FIREBASE_DEFAULTS__,Q8=()=>{if(typeof process>"u"||typeof ob>"u")return;const t=ob.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},Ug=()=>{try{return $8()||Y8()||Q8()||X8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=Ug())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},J8=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nA=()=>{var t;return(t=Ug())==null?void 0:t.config},rA=t=>{var e;return(e=Ug())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hm(JSON.stringify(n)),Hm(JSON.stringify(o)),""].join(".")}const Ef={};function tL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ef))Ef[e]?t.emulator.push(e):t.prod.push(e);return t}function nL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ab=!1;function sA(t,e){if(typeof window>"u"||typeof document>"u"||!vh(window.location.host)||Ef[t]===e||Ef[t]||ab)return;Ef[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=tL().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ab=!0,o()},g}function c(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=nL(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),k=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),A=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const I=g.element;a(I),c(k,x);const O=u();l(A,_),I.append(A,b,k,O),document.body.appendChild(I)}s?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function iL(){var e;const t=(e=Ug())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aL(){const t=Ii();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lL(){return!iL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function uL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="FirebaseError";class _o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cL,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _o(i,a,r)}}function hL(t,e){return t.replace(fL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fL=/\{\$([^}]+)}/g;function dL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lb(s)&&lb(o)){if(!jl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pL(t,e){const n=new mL(t,e);return n.subscribe.bind(n)}class mL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n1),i.error===void 0&&(i.error=n1),i.complete===void 0&&(i.complete=n1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1e3,vL=2,wL=4*60*60*1e3,_L=.5;function ub(t,e=yL,n=vL){const r=e*Math.pow(n,t),i=Math.round(_L*r*(Math.random()-.5)*2);return Math.min(wL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SL(e))try{this.getOrInitializeService({instanceIdentifier:uu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uu){return this.instances.has(e)}getOptions(e=uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uu){return this.component?this.component.multipleInstances?e:uu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xL(t){return t===uu?void 0:t}function SL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kt||(Kt={}));const AL={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},IL=Kt.INFO,NL={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},TL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=IL,this._logHandler=TL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const CL=(t,e)=>e.some(n=>t instanceof n);let cb,hb;function kL(){return cb||(cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PL(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,q2=new WeakMap,cA=new WeakMap,r1=new WeakMap,jv=new WeakMap;function RL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),jv.set(e,t),e}function LL(t){if(q2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});q2.set(t,e)}let $2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return q2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DL(t){$2=t($2)}function ML(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i1(this),e,...n);return cA.set(r,e.sort?e.sort():[e]),Cl(r)}:PL().includes(t)?function(...e){return t.apply(i1(this),e),Cl(uA.get(this))}:function(...e){return Cl(t.apply(i1(this),e))}}function OL(t){return typeof t=="function"?ML(t):(t instanceof IDBTransaction&&LL(t),CL(t,kL())?new Proxy(t,$2):t)}function Cl(t){if(t instanceof IDBRequest)return RL(t);if(r1.has(t))return r1.get(t);const e=OL(t);return e!==t&&(r1.set(t,e),jv.set(e,t)),e}const i1=t=>jv.get(t);function hA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cl(o.result),l.oldVersion,l.newVersion,Cl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FL=["get","getKey","getAll","getAllKeys","count"],jL=["put","add","delete","clear"],s1=new Map;function fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s1.get(e))return s1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return s1.set(e,s),s}DL(t=>({...t,get:(e,n,r)=>fb(e,n)||t.get(e,n,r),has:(e,n)=>!!fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H2="@firebase/app",db="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Bg("@firebase/app"),BL="@firebase/app-compat",zL="@firebase/analytics-compat",qL="@firebase/analytics",$L="@firebase/app-check-compat",HL="@firebase/app-check",WL="@firebase/auth",GL="@firebase/auth-compat",KL="@firebase/database",YL="@firebase/data-connect",QL="@firebase/database-compat",XL="@firebase/functions",JL="@firebase/functions-compat",ZL="@firebase/installations",e7="@firebase/installations-compat",t7="@firebase/messaging",n7="@firebase/messaging-compat",r7="@firebase/performance",i7="@firebase/performance-compat",s7="@firebase/remote-config",o7="@firebase/remote-config-compat",a7="@firebase/storage",l7="@firebase/storage-compat",u7="@firebase/firestore",c7="@firebase/ai",h7="@firebase/firestore-compat",f7="firebase",d7="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="[DEFAULT]",p7={[H2]:"fire-core",[BL]:"fire-core-compat",[qL]:"fire-analytics",[zL]:"fire-analytics-compat",[HL]:"fire-app-check",[$L]:"fire-app-check-compat",[WL]:"fire-auth",[GL]:"fire-auth-compat",[KL]:"fire-rtdb",[YL]:"fire-data-connect",[QL]:"fire-rtdb-compat",[XL]:"fire-fn",[JL]:"fire-fn-compat",[ZL]:"fire-iid",[e7]:"fire-iid-compat",[t7]:"fire-fcm",[n7]:"fire-fcm-compat",[r7]:"fire-perf",[i7]:"fire-perf-compat",[s7]:"fire-rc",[o7]:"fire-rc-compat",[a7]:"fire-gcs",[l7]:"fire-gcs-compat",[u7]:"fire-fst",[h7]:"fire-fst-compat",[c7]:"fire-vertex","fire-js":"fire-js",[f7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map,m7=new Map,G2=new Map;function pb(t,e){try{t.container.addComponent(e)}catch(n){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(G2.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;G2.set(e,t);for(const n of Wm.values())pb(n,t);for(const n of m7.values())pb(n,t);return!0}function $u(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function uo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new qu("app","Firebase",g7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=d7;function fA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:W2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw kl.create("bad-app-name",{appName:String(i)});if(n||(n=nA()),!n)throw kl.create("no-options");const s=Wm.get(i);if(s){if(jl(n,s.options)&&jl(r,s.config))return s;throw kl.create("duplicate-app",{appName:i})}const o=new EL(i);for(const l of G2.values())o.addComponent(l);const a=new y7(n,r,o);return Wm.set(i,a),a}function Vv(t=W2){const e=Wm.get(t);if(!e&&t===W2&&nA())return fA();if(!e)throw kl.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=p7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(o.join(" "));return}Xo(new yo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="firebase-heartbeat-database",w7=1,Zf="firebase-heartbeat-store";let o1=null;function dA(){return o1||(o1=hA(v7,w7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(n){console.warn(n)}}}}).catch(t=>{throw kl.create("idb-open",{originalErrorMessage:t.message})})),o1}async function _7(t){try{const n=(await dA()).transaction(Zf),r=await n.objectStore(Zf).get(pA(t));return await n.done,r}catch(e){if(e instanceof _o)Ra.warn(e.message);else{const n=kl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ra.warn(n.message)}}}async function mb(t,e){try{const r=(await dA()).transaction(Zf,"readwrite");await r.objectStore(Zf).put(e,pA(t)),await r.done}catch(n){if(n instanceof _o)Ra.warn(n.message);else{const r=kl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ra.warn(r.message)}}}function pA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=1024,x7=30;class S7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x7){const o=I7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gb(),{heartbeatsToSend:r,unsentEntries:i}=E7(this._heartbeatsCache.heartbeats),s=Hm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ra.warn(n),""}}}function gb(){return new Date().toISOString().substring(0,10)}function E7(t,e=b7){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yb(t){return Hm(JSON.stringify({version:2,heartbeats:t})).length}function I7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){Xo(new yo("platform-logger",e=>new VL(e),"PRIVATE")),Xo(new yo("heartbeat",e=>new S7(e),"PRIVATE")),Gs(H2,db,t),Gs(H2,db,"esm2020"),Gs("fire-js","")}N7("");var T7="firebase",C7="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(T7,C7,"app");const mA="@firebase/installations",Uv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1e4,yA=`w:${Uv}`,vA="FIS_v2",k7="https://firebaseinstallations.googleapis.com/v1",P7=60*60*1e3,R7="installations",L7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pu=new qu(R7,L7,D7);function wA(t){return t instanceof _o&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A({projectId:t}){return`${k7}/projects/${t}/installations`}function bA(t){return{token:t.token,requestStatus:2,expiresIn:O7(t.expiresIn),creationTime:Date.now()}}async function xA(t,e){const r=(await e.json()).error;return Pu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function M7(t,{refreshToken:e}){const n=SA(t);return n.append("Authorization",F7(e)),n}async function EA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function O7(t){return Number(t.replace("s","000"))}function F7(t){return`${vA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_A(t),i=SA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vA,appId:t.appId,sdkVersion:yA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bA(u.authToken)}}else throw await xA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=/^[cdef][\w-]{21}$/,K2="";function B7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z7(t);return U7.test(n)?n:K2}catch{return K2}}function z7(t){return V7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Map;function NA(t,e){const n=zg(t);TA(n,e),q7(n,e)}function TA(t,e){const n=IA.get(t);if(n)for(const r of n)r(e)}function q7(t,e){const n=$7();n&&n.postMessage({key:t,fid:e}),H7()}let mu=null;function $7(){return!mu&&"BroadcastChannel"in self&&(mu=new BroadcastChannel("[Firebase] FID Change"),mu.onmessage=t=>{TA(t.data.key,t.data.fid)}),mu}function H7(){IA.size===0&&mu&&(mu.close(),mu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7="firebase-installations-database",G7=1,Ru="firebase-installations-store";let a1=null;function Bv(){return a1||(a1=hA(W7,G7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ru)}}})),a1}async function Gm(t,e){const n=zg(t),i=(await Bv()).transaction(Ru,"readwrite"),s=i.objectStore(Ru),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&NA(t,e.fid),e}async function CA(t){const e=zg(t),r=(await Bv()).transaction(Ru,"readwrite");await r.objectStore(Ru).delete(e),await r.done}async function qg(t,e){const n=zg(t),i=(await Bv()).transaction(Ru,"readwrite"),s=i.objectStore(Ru),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&NA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(t){let e;const n=await qg(t.appConfig,r=>{const i=K7(r),s=Y7(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===K2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function K7(t){const e=t||{fid:B7(),registrationStatus:0};return kA(e)}function Y7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Pu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Q7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X7(t)}:{installationEntry:e}}async function Q7(t,e){try{const n=await j7(t,e);return Gm(t.appConfig,n)}catch(n){throw wA(n)&&n.customData.serverCode===409?await CA(t.appConfig):await Gm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X7(t){let e=await vb(t.appConfig);for(;e.registrationStatus===1;)await AA(100),e=await vb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await zv(t);return r||n}return e}function vb(t){return qg(t,e=>{if(!e)throw Pu.create("installation-not-found");return kA(e)})}function kA(t){return J7(t)?{fid:t.fid,registrationStatus:0}:t}function J7(t){return t.registrationStatus===1&&t.registrationTime+gA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7({appConfig:t,heartbeatServiceProvider:e},n){const r=eD(t,n),i=M7(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:yA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EA(()=>fetch(r,a));if(l.ok){const u=await l.json();return bA(u)}else throw await xA("Generate Auth Token",l)}function eD(t,{fid:e}){return`${_A(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t,e=!1){let n;const r=await qg(t.appConfig,s=>{if(!PA(s))throw Pu.create("not-registered");const o=s.authToken;if(!e&&rD(o))return s;if(o.requestStatus===1)return n=tD(t,e),s;{if(!navigator.onLine)throw Pu.create("app-offline");const a=sD(s);return n=nD(t,a),a}});return n?await n:r.authToken}async function tD(t,e){let n=await wb(t.appConfig);for(;n.authToken.requestStatus===1;)await AA(100),n=await wb(t.appConfig);const r=n.authToken;return r.requestStatus===0?qv(t,e):r}function wb(t){return qg(t,e=>{if(!PA(e))throw Pu.create("not-registered");const n=e.authToken;return oD(n)?{...e,authToken:{requestStatus:0}}:e})}async function nD(t,e){try{const n=await Z7(t,e),r={...e,authToken:n};return await Gm(t.appConfig,r),n}catch(n){if(wA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await CA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Gm(t.appConfig,r)}throw n}}function PA(t){return t!==void 0&&t.registrationStatus===2}function rD(t){return t.requestStatus===2&&!iD(t)}function iD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P7}function sD(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function oD(t){return t.requestStatus===1&&t.requestTime+gA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t){const e=t,{installationEntry:n,registrationPromise:r}=await zv(e);return r?r.catch(console.error):qv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e=!1){const n=t;return await uD(n),(await qv(n,e)).token}async function uD(t){const{registrationPromise:e}=await zv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){if(!t||!t.options)throw l1("App Configuration");if(!t.name)throw l1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw l1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function l1(t){return Pu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="installations",hD="installations-internal",fD=t=>{const e=t.getProvider("app").getImmediate(),n=cD(e),r=$u(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},dD=t=>{const e=t.getProvider("app").getImmediate(),n=$u(e,RA).getImmediate();return{getId:()=>aD(n),getToken:i=>lD(n,i)}};function pD(){Xo(new yo(RA,fD,"PUBLIC")),Xo(new yo(hD,dD,"PRIVATE"))}pD();Gs(mA,Uv);Gs(mA,Uv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="analytics",mD="firebase_id",gD="origin",yD=60*1e3,vD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$v="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Bg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ss=new qu("analytics","Analytics",wD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){if(!t.startsWith($v)){const e=Ss.create("invalid-gtag-resource",{gtagURL:t});return Vi.warn(e.message),""}return t}function LA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xD(t,e){const n=bD("firebase-js-sdk-policy",{createScriptURL:_D}),r=document.createElement("script"),i=`${$v}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function SD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ED(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await LA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Vi.error(a)}t("config",i,s)}async function AD(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await LA(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Vi.error(s)}}function ID(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await AD(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await ED(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Vi.error(a)}}return i}function ND(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=ID(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function TD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($v)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=30,kD=1e3;class PD{constructor(e={},n=kD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DA=new PD;function RD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function LD(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:RD(n)},i=vD.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Ss.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function DD(t,e=DA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ss.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ss.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FD;return setTimeout(async()=>{a.abort()},yD),MA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function MA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=DA){var a;const{appId:s,measurementId:o}=t;try{await MD(r,e)}catch(l){if(o)return Vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await LD(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!OD(u)){if(i.deleteThrottleMetadata(s),o)return Vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const c=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?ub(n,i.intervalMillis,CD):ub(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Vi.debug(`Calling attemptFetch again in ${c} millis`),MA(t,d,r,i)}}function MD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ss.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OD(t){if(!(t instanceof _o)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class FD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jD(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function VD(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(){if(aA())try{await lA()}catch(t){return Vi.warn(Ss.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vi.warn(Ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BD(t,e,n,r,i,s,o){const a=DD(t);a.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Vi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Vi.error(g)),e.push(a);const l=UD().then(g=>{if(g)return r.getId()}),[u,c]=await Promise.all([a,l]);TD(s)||xD(s,u.measurementId),i("js",new Date);const d=(o==null?void 0:o.config)??{};return d[gD]="firebase",d.update=!0,c!=null&&(d[mD]=c),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}}let jc={},_b=[];const bb={};let u1="dataLayer",qD="gtag",xb,Hv,Sb=!1;function $D(){const t=[];if(oA()&&t.push("This is a browser extension environment."),uL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ss.create("invalid-analytics-context",{errorInfo:e});Vi.warn(n.message)}}function HD(t,e,n){$D();const r=t.options.appId;if(!r)throw Ss.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ss.create("no-api-key");if(jc[r]!=null)throw Ss.create("already-exists",{id:r});if(!Sb){SD(u1);const{wrappedGtag:s,gtagCore:o}=ND(jc,_b,bb,u1,qD);Hv=s,xb=o,Sb=!0}return jc[r]=BD(t,_b,bb,e,xb,u1,n),new zD(t)}function WD(t=Vv()){t=ii(t);const e=$u(t,Km);return e.isInitialized()?e.getImmediate():GD(t)}function GD(t,e={}){const n=$u(t,Km);if(n.isInitialized()){const i=n.getImmediate();if(jl(e,n.getOptions()))return i;throw Ss.create("already-initialized")}return n.initialize({options:e})}function KD(t,e,n){t=ii(t),VD(Hv,jc[t.app.options.appId],e,n).catch(r=>Vi.error(r))}function YD(t,e,n,r){t=ii(t),jD(Hv,jc[t.app.options.appId],e,n,r).catch(i=>Vi.error(i))}const Eb="@firebase/analytics",Ab="0.10.19";function QD(){Xo(new yo(Km,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return HD(r,i,n)},"PUBLIC")),Xo(new yo("analytics-internal",t,"PRIVATE")),Gs(Eb,Ab),Gs(Eb,Ab,"esm2020");function t(e){try{const n=e.getProvider(Km).getImmediate();return{logEvent:(r,i,s)=>YD(n,r,i,s),setUserProperties:(r,i)=>KD(n,r,i)}}catch(n){throw Ss.create("interop-component-reg-failed",{reason:n})}}}QD();function OA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XD=OA,FA=new qu("auth","Firebase",OA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new Bg("@firebase/auth");function JD(t,...e){Ym.logLevel<=Kt.WARN&&Ym.warn(`Auth (${wh}): ${t}`,...e)}function em(t,...e){Ym.logLevel<=Kt.ERROR&&Ym.error(`Auth (${wh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,...e){throw Gv(t,...e)}function mo(t,...e){return Gv(t,...e)}function Wv(t,e,n){const r={...XD(),[e]:n};return new qu("auth","Firebase",r).create(e,{appName:t.name})}function Su(t){return Wv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jo(t,"argument-error"),Wv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FA.create(t,...e)}function Tt(t,e,...n){if(!t)throw Gv(e,...n)}function ba(t){const e="INTERNAL ASSERTION FAILED: "+t;throw em(e),new Error(e)}function La(t,e){t||ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eM(){return Ib()==="http:"||Ib()==="https:"}function Ib(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eM()||oA()||"connection"in navigator)?navigator.onLine:!0}function nM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.shortDelay=e,this.longDelay=n,La(n>e,"Short delay should be less than long delay!"),this.isMobile=rL()||oL()}get(){return tM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){La(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sM=new Id(3e4,6e4);function Yv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _h(t,e,n,r,i={}){return VA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ad({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return sL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&vh(t.emulatorConfig.host)&&(u.credentials="include"),jA.fetch()(await UA(t,t.config.apiHost,n,a),u)})}async function VA(t,e,n){t._canInitEmulator=!1;const r={...rM,...e};try{const i=new aM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Sp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Sp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wv(t,c,u);Jo(t,c)}}catch(i){if(i instanceof _o)throw i;Jo(t,"network-request-failed",{message:String(i)})}}async function oM(t,e,n,r,i={}){const s=await _h(t,e,n,r,i);return"mfaPendingCredential"in s&&Jo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Kv(t.config,i):`${t.config.apiScheme}://${i}`;return iM.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class aM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mo(this.auth,"network-request-failed")),sM.get())})}}function Sp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return _h(t,"POST","/v1/accounts:delete",e)}async function Qm(t,e){return _h(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uM(t,e=!1){const n=ii(t),r=await n.getIdToken(e),i=Qv(r);Tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Af(c1(i.auth_time)),issuedAtTime:Af(c1(i.iat)),expirationTime:Af(c1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function c1(t){return Number(t)*1e3}function Qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{const i=eA(n);return i?JSON.parse(i):(em("Failed to decode base64 JWT payload"),null)}catch(i){return em("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nb(t){const e=Qv(t);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _o&&cM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Af(this.lastLoginAt),this.creationTime=Af(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await ed(t,Qm(e,{idToken:n}));Tt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?BA(i.providerUserInfo):[],o=dM(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Q2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function fM(t){const e=ii(t);await Xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){const n=await VA(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await UA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&vh(t.emulatorConfig.host)&&(l.credentials="include"),jA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mM(t,e){return _h(t,"POST","/v2/accounts:revokeToken",Yv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const n=Nb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vc;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vc,this.toJSON())}_performRefresh(){return ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){Tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class co{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ed(this,this.stsTokenManager.getToken(this.auth,e));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uM(this,e)}reload(){return fM(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new co({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(uo(this.auth.app))return Promise.reject(Su(this.auth));const e=await this.getIdToken();return await ed(this,lM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:g,isAnonymous:m,providerData:b,stsTokenManager:x}=n;Tt(d&&x,e,"internal-error");const k=Vc.fromJSON(this.name,x);Tt(typeof d=="string",e,"internal-error"),sl(r,e.name),sl(i,e.name),Tt(typeof g=="boolean",e,"internal-error"),Tt(typeof m=="boolean",e,"internal-error"),sl(s,e.name),sl(o,e.name),sl(a,e.name),sl(l,e.name),sl(u,e.name),sl(c,e.name);const _=new co({uid:d,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:k,createdAt:u,lastLoginAt:c});return b&&Array.isArray(b)&&(_.providerData=b.map(A=>({...A}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vc;i.updateFromServerResponse(n);const s=new co({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Vc;a.updateFromIdToken(r);const l=new co({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Q2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;function xa(t){La(t instanceof Function,"Expected a class definition");let e=Tb.get(t);return e?(La(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zA.type="NONE";const Cb=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e,n){return`firebase:${t}:${e}:${n}`}class Uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=tm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qm(this.auth,{idToken:e}).catch(()=>{});return n?co._fromGetAccountInfoResponse(this.auth,n,e):null}return co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uc(xa(Cb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xa(Cb);const o=tm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const g=await Qm(e,{idToken:c}).catch(()=>{});if(!g)break;d=await co._fromGetAccountInfoResponse(e,g,c)}else d=co._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Uc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Uc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KA(e))return"Blackberry";if(YA(e))return"Webos";if($A(e))return"Safari";if((e.includes("chrome/")||HA(e))&&!e.includes("edge/"))return"Chrome";if(GA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qA(t=Ii()){return/firefox\//i.test(t)}function $A(t=Ii()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HA(t=Ii()){return/crios\//i.test(t)}function WA(t=Ii()){return/iemobile/i.test(t)}function GA(t=Ii()){return/android/i.test(t)}function KA(t=Ii()){return/blackberry/i.test(t)}function YA(t=Ii()){return/webos/i.test(t)}function Xv(t=Ii()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gM(t=Ii()){var e;return Xv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yM(){return aL()&&document.documentMode===10}function QA(t=Ii()){return Xv(t)||GA(t)||YA(t)||KA(t)||/windows phone/i.test(t)||WA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t,e=[]){let n;switch(t){case"Browser":n=kb(Ii());break;case"Worker":n=`${kb(Ii())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e={}){return _h(t,"GET","/v2/passwordPolicy",Yv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=6;class bM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_M,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pb(this),this.idTokenSubscription=new Pb(this),this.beforeStateQueue=new vM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qm(this,{idToken:e}),r=await co._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(uo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(uo(this.app))return Promise.reject(Su(this));const n=e?ii(e):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return uo(this.app)?Promise.reject(Su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return uo(this.app)?Promise.reject(Su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wM(this),n=new bM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xa(e)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(uo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&JD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $g(t){return ii(t)}class Pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=pL(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SM(t){Jv=t}function EM(t){return Jv.loadJS(t)}function AM(){return Jv.gapiScript}function IM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e){const n=$u(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jl(s,e??{}))return i;Jo(i,"already-initialized")}return n.initialize({options:e})}function TM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CM(t,e,n){const r=$g(t);Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=JA(e),{host:o,port:a}=kM(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(jl(u,r.config.emulator)&&jl(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,vh(o)?(iA(`${s}//${o}${l}`),sA("Auth",!0)):PM()}function JA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kM(t){const e=JA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Rb(o)}}}function Rb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,n){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return oM(t,"POST","/v1/accounts:signInWithIdp",Yv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="http://localhost";class Lu extends ZA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Lu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:RM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Zv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Nd{constructor(){super("facebook.com")}static credential(e){return Lu._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.FACEBOOK_SIGN_IN_METHOD="facebook.com";fl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lu._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return va.credential(n,r)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Nd{constructor(){super("github.com")}static credential(e){return Lu._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dl.credential(e.oauthAccessToken)}catch{return null}}}dl.GITHUB_SIGN_IN_METHOD="github.com";dl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Nd{constructor(){super("twitter.com")}static credential(e,n){return Lu._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pl.credential(n,r)}catch{return null}}}pl.TWITTER_SIGN_IN_METHOD="twitter.com";pl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await co._fromIdTokenResponse(e,r,i),o=Lb(r);return new rh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Lb(r);return new rh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends _o{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jm(e,n,r,i)}}function e6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(t,s,e,r):s})}async function LM(t,e,n=!1){const r=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e,n=!1){const{auth:r}=t;if(uo(r.app))return Promise.reject(Su(r));const i="reauthenticate";try{const s=await ed(t,e6(r,i,e,t),n);Tt(s.idToken,r,"internal-error");const o=Qv(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(t.uid===a,r,"user-mismatch"),rh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,n=!1){if(uo(t.app))return Promise.reject(Su(t));const r="signIn",i=await e6(t,r,e),s=await rh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function OM(t,e,n,r){return ii(t).onIdTokenChanged(e,n,r)}function FM(t,e,n){return ii(t).beforeAuthStateChanged(e,n)}function jM(t,e,n,r){return ii(t).onAuthStateChanged(e,n,r)}function VM(t){return ii(t).signOut()}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=1e3,BM=10;class n6 extends t6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n6.type="LOCAL";const zM=n6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6 extends t6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r6.type="SESSION";const i6=r6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await qM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=e5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return window}function HM(t){zo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(){return typeof zo().WorkerGlobalScope<"u"&&typeof zo().importScripts=="function"}async function WM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KM(){return s6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="firebaseLocalStorageDb",YM=1,eg="firebaseLocalStorage",a6="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wg(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function QM(){const t=indexedDB.deleteDatabase(o6);return new Td(t).toPromise()}function X2(){const t=indexedDB.open(o6,YM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:a6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await QM(),e(await X2()))})})}async function Db(t,e,n){const r=Wg(t,!0).put({[a6]:e,value:n});return new Td(r).toPromise()}async function XM(t,e){const n=Wg(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function Mb(t,e){const n=Wg(t,!0).delete(e);return new Td(n).toPromise()}const JM=800,ZM=3;class l6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hg._getInstance(KM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await WM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await X2();return await Db(e,Zm,"1"),await Mb(e,Zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Db(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wg(i,!1).getAll();return new Td(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l6.type="LOCAL";const eO=l6;new Id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e){return e?xa(e):(Tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends ZA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tO(t){return MM(t.auth,new t5(t),t.bypassAuthState)}function nO(t){const{auth:e,user:n}=t;return Tt(n,e,"internal-error"),DM(n,new t5(t),t.bypassAuthState)}async function rO(t){const{auth:e,user:n}=t;return Tt(n,e,"internal-error"),LM(n,new t5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return rO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:Jo(this.auth,"internal-error")}}resolve(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Id(2e3,1e4);async function sO(t,e,n){if(uo(t.app))return Promise.reject(mo(t,"operation-not-supported-in-this-environment"));const r=$g(t);ZD(t,e,Zv);const i=u6(r,n);return new gu(r,"signInViaPopup",e,i).executeNotNull()}class gu extends c6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){La(this.filter.length===1,"Popup operations only handle one event");const e=e5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iO.get())};e()}}gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="pendingRedirect",nm=new Map;class aO extends c6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nm.get(this.auth._key());if(!e){try{const r=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(t,e){const n=hO(e),r=cO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uO(t,e){nm.set(t._key(),e)}function cO(t){return xa(t._redirectPersistence)}function hO(t){return tm(oO,t.config.apiKey,t.name)}async function fO(t,e,n=!1){if(uo(t.app))return Promise.reject(Su(t));const r=$g(t),i=u6(r,e),o=await new aO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=10*60*1e3;class pO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h6(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e={}){return _h(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function wO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gO(t);for(const n of e)try{if(_O(n))return}catch{}Jo(t,"unauthorized-domain")}function _O(t){const e=Y2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vO.test(n))return!1;if(yO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Id(3e4,6e4);function Fb(){const t=zo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xO(t){return new Promise((e,n)=>{var i,s,o;function r(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(mo(t,"network-request-failed"))},timeout:bO.get()})}if((s=(i=zo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=zo().gapi)!=null&&o.load)r();else{const a=IM("iframefcb");return zo()[a]=()=>{gapi.load?r():n(mo(t,"network-request-failed"))},EM(`${AM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rm=null,e})}let rm=null;function SO(t){return rm=rm||xO(t),rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Id(5e3,15e3),AO="__/auth/iframe",IO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(t){const e=t.config;Tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kv(e,IO):`https://${t.config.authDomain}/${AO}`,r={apiKey:e.apiKey,appName:t.name,v:wh},i=TO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ad(r).slice(1)}`}async function kO(t){const e=await SO(t),n=zo().gapi;return Tt(n,t,"internal-error"),e.open({where:document.body,url:CO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mo(t,"network-request-failed"),a=zo().setTimeout(()=>{s(o)},EO.get());function l(){zo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RO=500,LO=600,DO="_blank",MO="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OO(t,e,n,r=RO,i=LO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...PO,width:r.toString(),height:i.toString(),top:s,left:o},u=Ii().toLowerCase();n&&(a=HA(u)?DO:n),qA(u)&&(e=e||MO,l.scrollbars="yes");const c=Object.entries(l).reduce((g,[m,b])=>`${g}${m}=${b},`,"");if(gM(u)&&a!=="_self")return FO(e||"",a),new jb(null);const d=window.open(e||"",a,c);Tt(d,t,"popup-blocked");try{d.focus()}catch{}return new jb(d)}function FO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",VO="emulator/auth/handler",UO=encodeURIComponent("fac");async function Vb(t,e,n,r,i,s){Tt(t.config.authDomain,t,"auth-domain-config-required"),Tt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wh,eventId:i};if(e instanceof Zv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Nd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${UO}=${encodeURIComponent(l)}`:"";return`${BO(t)}?${Ad(a).slice(1)}${u}`}function BO({config:t}){return t.emulator?Kv(t,VO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i6,this._completeRedirectFn=fO,this._overrideRedirectResult=uO}async _openPopup(e,n,r,i){var o;La((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Vb(e,n,r,Y2(),i);return OO(e,s,e5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Vb(e,n,r,Y2(),i);return HM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(La(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kO(e),r=new pO(e);return n.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h1,{type:h1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[h1];s!==void 0&&n(!!s),Jo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QA()||$A()||Xv()}}const qO=zO;var Ub="@firebase/auth",Bb="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(t){Xo(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(t)},u=new xM(r,i,s,l);return TM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new yo("auth-internal",e=>{const n=$g(e.getProvider("auth").getImmediate());return(r=>new $O(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(Ub,Bb,HO(t)),Gs(Ub,Bb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=5*60,KO=rA("authIdTokenMaxAge")||GO;let zb=null;const YO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KO)return;const i=n==null?void 0:n.token;zb!==i&&(zb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QO(t=Vv()){const e=$u(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NM(t,{popupRedirectResolver:qO,persistence:[eO,zM,i6]}),r=rA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YO(s.toString());FM(n,o,()=>o(n.currentUser)),OM(n,a=>o(a))}}const i=tA("auth");return i&&CM(n,`http://${i}`),n}function XO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pl,f6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,C){function N(){}N.prototype=C.prototype,j.F=C.prototype,j.prototype=new N,j.prototype.constructor=j,j.D=function(F,S,P){for(var R=Array(arguments.length-2),X=2;X<arguments.length;X++)R[X-2]=arguments[X];return C.prototype[S].apply(F,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,C,N){N||(N=0);const F=Array(16);if(typeof C=="string")for(var S=0;S<16;++S)F[S]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(S=0;S<16;++S)F[S]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=j.g[0],N=j.g[1],S=j.g[2];let P=j.g[3],R;R=C+(P^N&(S^P))+F[0]+3614090360&4294967295,C=N+(R<<7&4294967295|R>>>25),R=P+(S^C&(N^S))+F[1]+3905402710&4294967295,P=C+(R<<12&4294967295|R>>>20),R=S+(N^P&(C^N))+F[2]+606105819&4294967295,S=P+(R<<17&4294967295|R>>>15),R=N+(C^S&(P^C))+F[3]+3250441966&4294967295,N=S+(R<<22&4294967295|R>>>10),R=C+(P^N&(S^P))+F[4]+4118548399&4294967295,C=N+(R<<7&4294967295|R>>>25),R=P+(S^C&(N^S))+F[5]+1200080426&4294967295,P=C+(R<<12&4294967295|R>>>20),R=S+(N^P&(C^N))+F[6]+2821735955&4294967295,S=P+(R<<17&4294967295|R>>>15),R=N+(C^S&(P^C))+F[7]+4249261313&4294967295,N=S+(R<<22&4294967295|R>>>10),R=C+(P^N&(S^P))+F[8]+1770035416&4294967295,C=N+(R<<7&4294967295|R>>>25),R=P+(S^C&(N^S))+F[9]+2336552879&4294967295,P=C+(R<<12&4294967295|R>>>20),R=S+(N^P&(C^N))+F[10]+4294925233&4294967295,S=P+(R<<17&4294967295|R>>>15),R=N+(C^S&(P^C))+F[11]+2304563134&4294967295,N=S+(R<<22&4294967295|R>>>10),R=C+(P^N&(S^P))+F[12]+1804603682&4294967295,C=N+(R<<7&4294967295|R>>>25),R=P+(S^C&(N^S))+F[13]+4254626195&4294967295,P=C+(R<<12&4294967295|R>>>20),R=S+(N^P&(C^N))+F[14]+2792965006&4294967295,S=P+(R<<17&4294967295|R>>>15),R=N+(C^S&(P^C))+F[15]+1236535329&4294967295,N=S+(R<<22&4294967295|R>>>10),R=C+(S^P&(N^S))+F[1]+4129170786&4294967295,C=N+(R<<5&4294967295|R>>>27),R=P+(N^S&(C^N))+F[6]+3225465664&4294967295,P=C+(R<<9&4294967295|R>>>23),R=S+(C^N&(P^C))+F[11]+643717713&4294967295,S=P+(R<<14&4294967295|R>>>18),R=N+(P^C&(S^P))+F[0]+3921069994&4294967295,N=S+(R<<20&4294967295|R>>>12),R=C+(S^P&(N^S))+F[5]+3593408605&4294967295,C=N+(R<<5&4294967295|R>>>27),R=P+(N^S&(C^N))+F[10]+38016083&4294967295,P=C+(R<<9&4294967295|R>>>23),R=S+(C^N&(P^C))+F[15]+3634488961&4294967295,S=P+(R<<14&4294967295|R>>>18),R=N+(P^C&(S^P))+F[4]+3889429448&4294967295,N=S+(R<<20&4294967295|R>>>12),R=C+(S^P&(N^S))+F[9]+568446438&4294967295,C=N+(R<<5&4294967295|R>>>27),R=P+(N^S&(C^N))+F[14]+3275163606&4294967295,P=C+(R<<9&4294967295|R>>>23),R=S+(C^N&(P^C))+F[3]+4107603335&4294967295,S=P+(R<<14&4294967295|R>>>18),R=N+(P^C&(S^P))+F[8]+1163531501&4294967295,N=S+(R<<20&4294967295|R>>>12),R=C+(S^P&(N^S))+F[13]+2850285829&4294967295,C=N+(R<<5&4294967295|R>>>27),R=P+(N^S&(C^N))+F[2]+4243563512&4294967295,P=C+(R<<9&4294967295|R>>>23),R=S+(C^N&(P^C))+F[7]+1735328473&4294967295,S=P+(R<<14&4294967295|R>>>18),R=N+(P^C&(S^P))+F[12]+2368359562&4294967295,N=S+(R<<20&4294967295|R>>>12),R=C+(N^S^P)+F[5]+4294588738&4294967295,C=N+(R<<4&4294967295|R>>>28),R=P+(C^N^S)+F[8]+2272392833&4294967295,P=C+(R<<11&4294967295|R>>>21),R=S+(P^C^N)+F[11]+1839030562&4294967295,S=P+(R<<16&4294967295|R>>>16),R=N+(S^P^C)+F[14]+4259657740&4294967295,N=S+(R<<23&4294967295|R>>>9),R=C+(N^S^P)+F[1]+2763975236&4294967295,C=N+(R<<4&4294967295|R>>>28),R=P+(C^N^S)+F[4]+1272893353&4294967295,P=C+(R<<11&4294967295|R>>>21),R=S+(P^C^N)+F[7]+4139469664&4294967295,S=P+(R<<16&4294967295|R>>>16),R=N+(S^P^C)+F[10]+3200236656&4294967295,N=S+(R<<23&4294967295|R>>>9),R=C+(N^S^P)+F[13]+681279174&4294967295,C=N+(R<<4&4294967295|R>>>28),R=P+(C^N^S)+F[0]+3936430074&4294967295,P=C+(R<<11&4294967295|R>>>21),R=S+(P^C^N)+F[3]+3572445317&4294967295,S=P+(R<<16&4294967295|R>>>16),R=N+(S^P^C)+F[6]+76029189&4294967295,N=S+(R<<23&4294967295|R>>>9),R=C+(N^S^P)+F[9]+3654602809&4294967295,C=N+(R<<4&4294967295|R>>>28),R=P+(C^N^S)+F[12]+3873151461&4294967295,P=C+(R<<11&4294967295|R>>>21),R=S+(P^C^N)+F[15]+530742520&4294967295,S=P+(R<<16&4294967295|R>>>16),R=N+(S^P^C)+F[2]+3299628645&4294967295,N=S+(R<<23&4294967295|R>>>9),R=C+(S^(N|~P))+F[0]+4096336452&4294967295,C=N+(R<<6&4294967295|R>>>26),R=P+(N^(C|~S))+F[7]+1126891415&4294967295,P=C+(R<<10&4294967295|R>>>22),R=S+(C^(P|~N))+F[14]+2878612391&4294967295,S=P+(R<<15&4294967295|R>>>17),R=N+(P^(S|~C))+F[5]+4237533241&4294967295,N=S+(R<<21&4294967295|R>>>11),R=C+(S^(N|~P))+F[12]+1700485571&4294967295,C=N+(R<<6&4294967295|R>>>26),R=P+(N^(C|~S))+F[3]+2399980690&4294967295,P=C+(R<<10&4294967295|R>>>22),R=S+(C^(P|~N))+F[10]+4293915773&4294967295,S=P+(R<<15&4294967295|R>>>17),R=N+(P^(S|~C))+F[1]+2240044497&4294967295,N=S+(R<<21&4294967295|R>>>11),R=C+(S^(N|~P))+F[8]+1873313359&4294967295,C=N+(R<<6&4294967295|R>>>26),R=P+(N^(C|~S))+F[15]+4264355552&4294967295,P=C+(R<<10&4294967295|R>>>22),R=S+(C^(P|~N))+F[6]+2734768916&4294967295,S=P+(R<<15&4294967295|R>>>17),R=N+(P^(S|~C))+F[13]+1309151649&4294967295,N=S+(R<<21&4294967295|R>>>11),R=C+(S^(N|~P))+F[4]+4149444226&4294967295,C=N+(R<<6&4294967295|R>>>26),R=P+(N^(C|~S))+F[11]+3174756917&4294967295,P=C+(R<<10&4294967295|R>>>22),R=S+(C^(P|~N))+F[2]+718787259&4294967295,S=P+(R<<15&4294967295|R>>>17),R=N+(P^(S|~C))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(S+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+S&4294967295,j.g[3]=j.g[3]+P&4294967295}r.prototype.v=function(j,C){C===void 0&&(C=j.length);const N=C-this.blockSize,F=this.C;let S=this.h,P=0;for(;P<C;){if(S==0)for(;P<=N;)i(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<C;)if(F[S++]=j.charCodeAt(P++),S==this.blockSize){i(this,F),S=0;break}}else for(;P<C;)if(F[S++]=j[P++],S==this.blockSize){i(this,F),S=0;break}}this.h=S,this.o+=C},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;C=this.o*8;for(var N=j.length-8;N<j.length;++N)j[N]=C&255,C/=256;for(this.v(j),j=Array(16),C=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)j[C++]=this.g[N]>>>F&255;return j};function s(j,C){var N=a;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=C(j)}function o(j,C){this.h=C;const N=[];let F=!0;for(let S=j.length-1;S>=0;S--){const P=j[S]|0;F&&P==C||(N[S]=P,F=!1)}this.g=N}var a={};function l(j){return-128<=j&&j<128?s(j,function(C){return new o([C|0],C<0?-1:0)}):new o([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return d;if(j<0)return k(u(-j));const C=[];let N=1;for(let F=0;j>=N;F++)C[F]=j/N|0,N*=4294967296;return new o(C,0)}function c(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return k(c(j.substring(1),C));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(C,8));let F=d;for(let P=0;P<j.length;P+=8){var S=Math.min(8,j.length-P);const R=parseInt(j.substring(P,P+S),C);S<8?(S=u(Math.pow(C,S)),F=F.j(S).add(u(R))):(F=F.j(N),F=F.add(u(R)))}return F}var d=l(0),g=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();let j=0,C=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);j+=(F>=0?F:4294967296+F)*C,C*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(x(this))return"-"+k(this).toString(j);const C=u(Math.pow(j,6));var N=this;let F="";for(;;){const S=O(N,C).g;N=_(N,S.j(C));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(j);if(N=S,b(N))return P+F;for(;P.length<6;)P="0"+P;F=P+F}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(let C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function x(j){return j.h==-1}t.l=function(j){return j=_(this,j),x(j)?-1:b(j)?0:1};function k(j){const C=j.g.length,N=[];for(let F=0;F<C;F++)N[F]=~j.g[F];return new o(N,~j.h).add(g)}t.abs=function(){return x(this)?k(this):this},t.add=function(j){const C=Math.max(this.g.length,j.g.length),N=[];let F=0;for(let S=0;S<=C;S++){let P=F+(this.i(S)&65535)+(j.i(S)&65535),R=(P>>>16)+(this.i(S)>>>16)+(j.i(S)>>>16);F=R>>>16,P&=65535,R&=65535,N[S]=R<<16|P}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(j,C){return j.add(k(C))}t.j=function(j){if(b(this)||b(j))return d;if(x(this))return x(j)?k(this).j(k(j)):k(k(this).j(j));if(x(j))return k(this.j(k(j)));if(this.l(m)<0&&j.l(m)<0)return u(this.m()*j.m());const C=this.g.length+j.g.length,N=[];for(var F=0;F<2*C;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let S=0;S<j.g.length;S++){const P=this.i(F)>>>16,R=this.i(F)&65535,X=j.i(S)>>>16,ue=j.i(S)&65535;N[2*F+2*S]+=R*ue,A(N,2*F+2*S),N[2*F+2*S+1]+=P*ue,A(N,2*F+2*S+1),N[2*F+2*S+1]+=R*X,A(N,2*F+2*S+1),N[2*F+2*S+2]+=P*X,A(N,2*F+2*S+2)}for(j=0;j<C;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=C;j<2*C;j++)N[j]=0;return new o(N,0)};function A(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function I(j,C){this.g=j,this.h=C}function O(j,C){if(b(C))throw Error("division by zero");if(b(j))return new I(d,d);if(x(j))return C=O(k(j),C),new I(k(C.g),k(C.h));if(x(C))return C=O(j,k(C)),new I(k(C.g),C.h);if(j.g.length>30){if(x(j)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var N=g,F=C;F.l(j)<=0;)N=Q(N),F=Q(F);var S=te(N,1),P=te(F,1);for(F=te(F,2),N=te(N,2);!b(F);){var R=P.add(F);R.l(j)<=0&&(S=S.add(N),P=R),F=te(F,1),N=te(N,1)}return C=_(j,S.j(C)),new I(S,C)}for(S=d;j.l(C)>=0;){for(N=Math.max(1,Math.floor(j.m()/C.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),P=u(N),R=P.j(C);x(R)||R.l(j)>0;)N-=F,P=u(N),R=P.j(C);b(P)&&(P=g),S=S.add(P),j=_(j,R)}return new I(S,j)}t.B=function(j){return O(this,j).h},t.and=function(j){const C=Math.max(this.g.length,j.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)&j.i(F);return new o(N,this.h&j.h)},t.or=function(j){const C=Math.max(this.g.length,j.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)|j.i(F);return new o(N,this.h|j.h)},t.xor=function(j){const C=Math.max(this.g.length,j.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)^j.i(F);return new o(N,this.h^j.h)};function Q(j){const C=j.g.length+1,N=[];for(let F=0;F<C;F++)N[F]=j.i(F)<<1|j.i(F-1)>>>31;return new o(N,j.h)}function te(j,C){const N=C>>5;C%=32;const F=j.g.length-N,S=[];for(let P=0;P<F;P++)S[P]=C>0?j.i(P+N)>>>C|j.i(P+N+1)<<32-C:j.i(P+N);return new o(S,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Pl=o}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d6,lf,p6,im,J2,m6,g6,y6;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ep=="object"&&Ep];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var T=r;f=f.split(".");for(var q=0;q<f.length-1;q++){var he=f[q];if(!(he in T))break e;T=T[he]}f=f[f.length-1],q=T[f],w=w(q),w!=q&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(w){var T=[],q;for(q in w)Object.prototype.hasOwnProperty.call(w,q)&&T.push([q,w[q]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function l(f,w,T){return f.call.apply(f.bind,arguments)}function u(f,w,T){return u=l,u.apply(null,arguments)}function c(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var q=T.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function d(f,w){function T(){}T.prototype=w.prototype,f.Z=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(q,he,me){for(var je=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)je[Pt-2]=arguments[Pt];return w.prototype[he].apply(q,je)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function m(f){const w=f.length;if(w>0){const T=Array(w);for(let q=0;q<w;q++)T[q]=f[q];return T}return[]}function b(f,w){for(let q=1;q<arguments.length;q++){const he=arguments[q];var T=typeof he;if(T=T!="object"?T:he?Array.isArray(he)?"array":T:"null",T=="array"||T=="object"&&typeof he.length=="number"){T=f.length||0;const me=he.length||0;f.length=T+me;for(let je=0;je<me;je++)f[T+je]=he[je]}else f.push(he)}}class x{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(f){o.setTimeout(()=>{throw f},0)}function _(){var f=j;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class A{constructor(){this.h=this.g=null}add(w,T){const q=I.get();q.set(w,T),this.h?this.h.next=q:this.g=q,this.h=q}}var I=new x(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,te=!1,j=new A,C=()=>{const f=Promise.resolve(void 0);Q=()=>{f.then(N)}};function N(){for(var f;f=_();){try{f.h.call(f.g)}catch(T){k(T)}var w=I;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}te=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};o.addEventListener("test",T,w),o.removeEventListener("test",T,w)}catch{}return f}();function R(f){return/^[\s\xa0]*$/.test(f)}function X(f,w){S.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}d(X,S),X.prototype.init=function(f,w){const T=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),ge=0;function ye(f,w,T,q,he){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!q,this.ha=he,this.key=++ge,this.da=this.fa=!1}function Z(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,w,T){for(const q in f)w.call(T,f[q],q,f)}function _e(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function be(f){const w={};for(const T in f)w[T]=f[T];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,w){let T,q;for(let he=1;he<arguments.length;he++){q=arguments[he];for(T in q)f[T]=q[T];for(let me=0;me<V.length;me++)T=V[me],Object.prototype.hasOwnProperty.call(q,T)&&(f[T]=q[T])}}function J(f){this.src=f,this.g={},this.h=0}J.prototype.add=function(f,w,T,q,he){const me=f.toString();f=this.g[me],f||(f=this.g[me]=[],this.h++);const je=ie(f,w,q,he);return je>-1?(w=f[je],T||(w.fa=!1)):(w=new ye(w,this.src,me,!!q,he),w.fa=T,f.push(w)),w};function ne(f,w){const T=w.type;if(T in f.g){var q=f.g[T],he=Array.prototype.indexOf.call(q,w,void 0),me;(me=he>=0)&&Array.prototype.splice.call(q,he,1),me&&(Z(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ie(f,w,T,q){for(let he=0;he<f.length;++he){const me=f[he];if(!me.da&&me.listener==w&&me.capture==!!T&&me.ha==q)return he}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),ve={};function we(f,w,T,q,he){if(Array.isArray(w)){for(let me=0;me<w.length;me++)we(f,w[me],T,q,he);return null}return T=at(T),f&&f[ue]?f.J(w,T,a(q)?!!q.capture:!!q,he):Ie(f,w,T,!1,q,he)}function Ie(f,w,T,q,he,me){if(!w)throw Error("Invalid event type");const je=a(he)?!!he.capture:!!he;let Pt=Ue(f);if(Pt||(f[ae]=Pt=new J(f)),T=Pt.add(w,T,q,je,me),T.proxy)return T;if(q=De(),T.proxy=q,q.src=f,q.listener=T,f.addEventListener)P||(he=je),he===void 0&&(he=!1),f.addEventListener(w.toString(),q,he);else if(f.attachEvent)f.attachEvent(ot(w.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return T}function De(){function f(T){return w.call(f.src,f.listener,T)}const w=H;return f}function ze(f,w,T,q,he){if(Array.isArray(w))for(var me=0;me<w.length;me++)ze(f,w[me],T,q,he);else q=a(q)?!!q.capture:!!q,T=at(T),f&&f[ue]?(f=f.i,me=String(w).toString(),me in f.g&&(w=f.g[me],T=ie(w,T,q,he),T>-1&&(Z(w[T]),Array.prototype.splice.call(w,T,1),w.length==0&&(delete f.g[me],f.h--)))):f&&(f=Ue(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ie(w,T,q,he)),(T=f>-1?w[f]:null)&&Ve(T))}function Ve(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[ue])ne(w.i,f);else{var T=f.type,q=f.proxy;w.removeEventListener?w.removeEventListener(T,q,f.capture):w.detachEvent?w.detachEvent(ot(T),q):w.addListener&&w.removeListener&&w.removeListener(q),(T=Ue(w))?(ne(T,f),T.h==0&&(T.src=null,w[ae]=null)):Z(f)}}}function ot(f){return f in ve?ve[f]:ve[f]="on"+f}function H(f,w){if(f.da)f=!0;else{w=new X(w,this);const T=f.listener,q=f.ha||f.src;f.fa&&Ve(f),f=T.call(q,w)}return f}function Ue(f){return f=f[ae],f instanceof J?f:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function at(f){return typeof f=="function"?f:(f[St]||(f[St]=function(w){return f.handleEvent(w)}),f[St])}function Ne(){F.call(this),this.i=new J(this),this.M=this,this.G=null}d(Ne,F),Ne.prototype[ue]=!0,Ne.prototype.removeEventListener=function(f,w,T,q){ze(this,f,w,T,q)};function He(f,w){var T,q=f.G;if(q)for(T=[];q;q=q.G)T.push(q);if(f=f.M,q=w.type||w,typeof w=="string")w=new S(w,f);else if(w instanceof S)w.target=w.target||f;else{var he=w;w=new S(q,f),W(w,he)}he=!0;let me,je;if(T)for(je=T.length-1;je>=0;je--)me=w.g=T[je],he=qe(me,q,!0,w)&&he;if(me=w.g=f,he=qe(me,q,!0,w)&&he,he=qe(me,q,!1,w)&&he,T)for(je=0;je<T.length;je++)me=w.g=T[je],he=qe(me,q,!1,w)&&he}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const T=f.g[w];for(let q=0;q<T.length;q++)Z(T[q]);delete f.g[w],f.h--}}this.G=null},Ne.prototype.J=function(f,w,T,q){return this.i.add(String(f),w,!1,T,q)},Ne.prototype.K=function(f,w,T,q){return this.i.add(String(f),w,!0,T,q)};function qe(f,w,T,q){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let he=!0;for(let me=0;me<w.length;++me){const je=w[me];if(je&&!je.da&&je.capture==T){const Pt=je.listener,Dn=je.ha||je.src;je.fa&&ne(f.i,je),he=Pt.call(Dn,q)!==!1&&he}}return he&&!q.defaultPrevented}function dt(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(f,w||0)}function rt(f){f.g=dt(()=>{f.g=null,f.i&&(f.i=!1,rt(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Xt extends F{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(f){F.call(this),this.h=f,this.g={}}d(Ct,F);var xt=[];function Dt(f){ce(f.g,function(w,T){this.g.hasOwnProperty(T)&&Ve(w)},f),f.g={}}Ct.prototype.N=function(){Ct.Z.N.call(this),Dt(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=o.JSON.stringify,et=o.JSON.parse,kt=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function We(){}function kn(){}var Ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){S.call(this,"d")}d(Je,S);function Rt(){S.call(this,"c")}d(Rt,S);var en={},tt=null;function sn(){return tt=tt||new Ne}en.Ia="serverreachability";function ht(f){S.call(this,en.Ia,f)}d(ht,S);function mt(f){const w=sn();He(w,new ht(w))}en.STAT_EVENT="statevent";function on(f,w){S.call(this,en.STAT_EVENT,f),this.stat=w}d(on,S);function Ke(f){const w=sn();He(w,new on(w,f))}en.Ja="timingevent";function ut(f,w){S.call(this,en.Ja,f),this.size=w}d(ut,S);function qt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},w)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function Un(f,w,T,q,he,me){f.info(function(){if(f.g)if(me){var je="",Pt=me.split("&");for(let Gt=0;Gt<Pt.length;Gt++){var Dn=Pt[Gt].split("=");if(Dn.length>1){const Mn=Dn[0];Dn=Dn[1];const jr=Mn.split("_");je=jr.length>=2&&jr[1]=="type"?je+(Mn+"="+Dn+"&"):je+(Mn+"=redacted&")}}}else je=null;else je=me;return"XMLHTTP REQ ("+q+") [attempt "+he+"]: "+w+`
`+T+`
`+je})}function oi(f,w,T,q,he,me,je){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+he+"]: "+w+`
`+T+`
`+me+" "+je})}function Ar(f,w,T,q){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Kn(f,T)+(q?" "+q:"")})}function gt(f,w){f.info(function(){return"TIMEOUT: "+w})}er.prototype.info=function(){};function Kn(f,w){if(!f.g)return w;if(!w)return null;try{const me=JSON.parse(w);if(me){for(f=0;f<me.length;f++)if(Array.isArray(me[f])){var T=me[f];if(!(T.length<2)){var q=T[1];if(Array.isArray(q)&&!(q.length<1)){var he=q[0];if(he!="noop"&&he!="stop"&&he!="close")for(let je=1;je<q.length;je++)q[je]=""}}}}return Vt(me)}catch{return w}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wr;function pn(){}d(pn,We),pn.prototype.g=function(){return new XMLHttpRequest},Wr=new pn;function Pn(f){return encodeURIComponent(String(f))}function ur(f){var w=1;f=f.split(":");const T=[];for(;w>0&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function Dr(f,w,T,q){this.j=f,this.i=w,this.l=T,this.S=q||1,this.V=new Ct(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var ai={},li={};function Gr(f,w,T){f.M=1,f.A=Cs(Kr(w)),f.u=T,f.R=!0,ui(f,null)}function ui(f,w){f.F=Date.now(),xe(f),f.B=Kr(f.A);var T=f.B,q=f.S;Array.isArray(q)||(q=[String(q)]),ss(T.i,"t",q),f.C=0,T=f.j.L,f.h=new ns,f.g=Ye(f.j,T?w:null,!f.u),f.P>0&&(f.O=new Xt(u(f.Y,f,f.g),f.P)),w=f.V,T=f.g,q=f.ba;var he="readystatechange";Array.isArray(he)||(he&&(xt[0]=he.toString()),he=xt);for(let me=0;me<he.length;me++){const je=we(T,he[me],q||w.handleEvent,!1,w.h||w);if(!je)break;w.g[je.key]=je}w=f.J?be(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),mt(),Un(f.i,f.v,f.B,f.l,f.S,f.u)}Dr.prototype.ba=function(f){f=f.target;const w=this.O;w&&$i(f)==3?w.j():this.Y(f)},Dr.prototype.Y=function(f){try{if(f==this.g)e:{const Pt=$i(this.g),Dn=this.g.ya(),Gt=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||za(this.g)))){this.K||Pt!=4||Dn==7||(Dn==8||Gt<=0?mt(3):mt(2)),lt(this);var w=this.g.ca();this.X=w;var T=Ir(this);if(this.o=w==200,oi(this.i,this.v,this.B,this.l,this.S,Pt,w),this.o){if(this.U&&!this.L){t:{if(this.g){var q,he=this.g;if((q=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(q)){var me=q;break t}}me=null}if(f=me)Ar(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Et(this,f);else{this.o=!1,this.m=3,Ke(12),It(this),wt(this);break e}}if(this.R){f=!0;let Mn;for(;!this.K&&this.C<T.length;)if(Mn=zi(this,T),Mn==li){Pt==4&&(this.m=4,Ke(14),f=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==ai){this.m=4,Ke(15),Ar(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ar(this.i,this.l,Mn,null),Et(this,Mn);if(Ns(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||T.length!=0||this.h.h||(this.m=1,Ke(16),f=!1),this.o=this.o&&f,!f)Ar(this.i,this.l,T,"[Invalid Chunked Response]"),It(this),wt(this);else if(T.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),$a(je),je.P=!0,Ke(11))}}else Ar(this.i,this.l,T,null),Et(this,T);Pt==4&&It(this),this.o&&!this.K&&(Pt==4?G(this.j,this):(this.o=!1,xe(this)))}else tc(this.g),w==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),It(this),wt(this)}}}catch{}finally{}};function Ir(f){if(!Ns(f))return f.g.la();const w=za(f.g);if(w==="")return"";let T="";const q=w.length,he=$i(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return It(f),wt(f),"";f.h.i=new o.TextDecoder}for(let me=0;me<q;me++)f.h.h=!0,T+=f.h.i.decode(w[me],{stream:!(he&&me==q-1)});return w.length=0,f.h.g+=T,f.C=0,f.h.g}function Ns(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function zi(f,w){var T=f.C,q=w.indexOf(`
`,T);return q==-1?li:(T=Number(w.substring(T,q)),isNaN(T)?ai:(q+=1,q+T>w.length?li:(w=w.slice(q,q+T),f.C=q+T,w)))}Dr.prototype.cancel=function(){this.K=!0,It(this)};function xe(f){f.T=Date.now()+f.H,Le(f,f.H)}function Le(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qt(u(f.aa,f),w)}function lt(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Dr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(gt(this.i,this.B),this.M!=2&&(mt(),Ke(17)),It(this),this.m=2,wt(this)):Le(this,this.T-f)};function wt(f){f.j.I==0||f.K||G(f.j,f)}function It(f){lt(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Dt(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function Et(f,w){try{var T=f.j;if(T.I!=0&&(T.g==f||tr(T.h,f))){if(!f.L&&tr(T.h,f)&&T.I==3){try{var q=T.Ba.g.parse(w)}catch{q=null}if(Array.isArray(q)&&q.length==3){var he=q;if(he[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)D(T),Io(T);else break e;eo(T),Ke(18)}}else T.xa=he[1],0<T.xa-T.K&&he[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=qt(u(T.Va,T),6e3));cn(T.h)<=1&&T.ta&&(T.ta=void 0)}else le(T,11)}else if((f.L||T.g==f)&&D(T),!R(w))for(he=T.Ba.g.parse(w),w=0;w<he.length;w++){let Gt=he[w];const Mn=Gt[0];if(!(Mn<=T.K))if(T.K=Mn,Gt=Gt[1],T.I==2)if(Gt[0]=="c"){T.M=Gt[1],T.ba=Gt[2];const jr=Gt[3];jr!=null&&(T.ka=jr,T.j.info("VER="+T.ka));const fi=Gt[4];fi!=null&&(T.za=fi,T.j.info("SVER="+T.za));const On=Gt[5];On!=null&&typeof On=="number"&&On>0&&(q=1.5*On,T.O=q,T.j.info("backChannelRequestTimeoutMs_="+q)),q=T;const di=f.g;if(di){const Ds=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var me=q.h;me.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(yt(me,me.h),me.h=null))}if(q.G){const sa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(q.wa=sa,tn(q.J,q.G,sa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),q=T;var je=f;if(q.na=Pe(q,q.L?q.ba:null,q.W),je.L){nr(q.h,je);var Pt=je,Dn=q.O;Dn&&(Pt.H=Dn),Pt.D&&(lt(Pt),xe(Pt)),q.g=je}else tu(q);T.i.length>0&&To(T)}else Gt[0]!="stop"&&Gt[0]!="close"||le(T,7);else T.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?le(T,7):Ao(T):Gt[0]!="noop"&&T.l&&T.l.qa(Gt),T.A=0)}}mt(4)}catch{}}var un=class{constructor(f,w){this.g=f,this.map=w}};function mn(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oe(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function cn(f){return f.h?1:f.g?f.g.size:0}function tr(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function yt(f,w){f.g?f.g.add(w):f.h=w}function nr(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}mn.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Js(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.G);return w}return m(f.i)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rs(f,w){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const q=f[T].indexOf("=");let he,me=null;q>=0?(he=f[T].substring(0,q),me=f[T].substring(q+1)):he=f[T],w(he,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Mr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof Mr?(this.l=f.l,xn(this,f.j),this.o=f.o,this.g=f.g,Ts(this,f.u),this.h=f.h,Or(this,os(f.i)),this.m=f.m):f&&(w=String(f).match(So))?(this.l=!1,xn(this,w[1]||"",!0),this.o=cr(w[2]||""),this.g=cr(w[3]||"",!0),Ts(this,w[4]),this.h=cr(w[5]||"",!0),Or(this,w[6]||"",!0),this.m=cr(w[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Mr.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(En(w,na,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(En(w,na,!0),"@"),f.push(Pn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(En(T,T.charAt(0)=="/"?Ql:Ju,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",En(T,ra)),f.join("")},Mr.prototype.resolve=function(f){const w=Kr(this);let T=!!f.j;T?xn(w,f.j):T=!!f.o,T?w.o=f.o:T=!!f.g,T?w.g=f.g:T=f.u!=null;var q=f.h;if(T)Ts(w,f.u);else if(T=!!f.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var he=w.h.lastIndexOf("/");he!=-1&&(q=w.h.slice(0,he+1)+q)}if(he=q,he==".."||he==".")q="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){q=he.lastIndexOf("/",0)==0,he=he.split("/");const me=[];for(let je=0;je<he.length;){const Pt=he[je++];Pt=="."?q&&je==he.length&&me.push(""):Pt==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),q&&je==he.length&&me.push("")):(me.push(Pt),q=!0)}q=me.join("/")}else q=he}return T?w.h=q:T=f.i.toString()!=="",T?Or(w,os(f.i)):T=!!f.m,T&&(w.m=f.m),w};function Kr(f){return new Mr(f)}function xn(f,w,T){f.j=T?cr(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ts(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Or(f,w,T){w instanceof ks?(f.i=w,ci(f.i,f.l)):(T||(w=En(w,Ni)),f.i=new ks(w,f.l))}function tn(f,w,T){f.i.set(w,T)}function Cs(f){return tn(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function cr(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function En(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,is),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function is(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var na=/[#\/\?@]/g,Ju=/[#\?:]/g,Ql=/[#\?]/g,Ni=/[#\?@]/g,ra=/#/g;function ks(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Ut(f){f.g||(f.g=new Map,f.h=0,f.i&&rs(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=ks.prototype,t.add=function(f,w){Ut(this),this.i=null,f=qi(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function gn(f,w){Ut(f),w=qi(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Fr(f,w){return Ut(f),w=qi(f,w),f.g.has(w)}t.forEach=function(f,w){Ut(this),this.g.forEach(function(T,q){T.forEach(function(he){f.call(w,he,q,this)},this)},this)};function Ti(f,w){Ut(f);let T=[];if(typeof w=="string")Fr(f,w)&&(T=T.concat(f.g.get(qi(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)T=T.concat(f[w]);return T}t.set=function(f,w){return Ut(this),this.i=null,f=qi(this,f),Fr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Ti(this,f),f.length>0?String(f[0]):w):w};function ss(f,w,T){gn(f,w),T.length>0&&(f.i=null,f.g.set(qi(f,w),m(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let q=0;q<w.length;q++){var T=w[q];const he=Pn(T);T=Ti(this,T);for(let me=0;me<T.length;me++){let je=he;T[me]!==""&&(je+="="+Pn(T[me])),f.push(je)}}return this.i=f.join("&")};function os(f){const w=new ks;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function qi(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function ci(f,w){w&&!f.j&&(Ut(f),f.i=null,f.g.forEach(function(T,q){const he=q.toLowerCase();q!=he&&(gn(this,q),ss(this,he,T))},f)),f.j=w}function ja(f,w){const T=new er;if(o.Image){const q=new Image;q.onload=c(hi,T,"TestLoadImage: loaded",!0,w,q),q.onerror=c(hi,T,"TestLoadImage: error",!1,w,q),q.onabort=c(hi,T,"TestLoadImage: abort",!1,w,q),q.ontimeout=c(hi,T,"TestLoadImage: timeout",!1,w,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else w(!1)}function Zs(f,w){const T=new er,q=new AbortController,he=setTimeout(()=>{q.abort(),hi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:q.signal}).then(me=>{clearTimeout(he),me.ok?hi(T,"TestPingServer: ok",!0,w):hi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(he),hi(T,"TestPingServer: error",!1,w)})}function hi(f,w,T,q,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),q(T)}catch{}}function Xl(){this.g=new kt}function _t(f){this.i=f.Sb||null,this.h=f.ab||!1}d(_t,We),_t.prototype.g=function(){return new Va(this.i,this.h)};function Va(f,w){Ne.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Va,Ne),t=Va.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ci(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zu(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zu(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ia(this):Ci(this),this.readyState==3&&Zu(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ia(this))},t.Na=function(f){this.g&&(this.response=f,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ci(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function Ci(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ps(f){let w="";return ce(f,function(T,q){w+=q,w+=":",w+=T,w+=`\r
`}),w}function Jl(f,w,T){e:{for(q in T){var q=!1;break e}q=!0}q||(T=Ps(T),typeof f=="string"?T!=null&&Pn(T):tn(f,w,T))}function Rn(f){Ne.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Rn,Ne);var Ua=/^https?$/i,Zl=["POST","PUT"];t=Rn.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,T,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wr.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(me){Eo(this,me);return}if(f=T||"",T=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var he in q)T.set(he,q[he]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const me of q.keys())T.set(me,q.get(me));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(T.keys()).find(me=>me.toLowerCase()=="content-type"),he=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Zl,w,void 0)>=0)||q||he||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,je]of T)this.g.setRequestHeader(me,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(me){Eo(this,me)}};function Eo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,ec(f),Ba(f)}function ec(f){f.A||(f.A=!0,He(f,"complete"),He(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,He(this,"complete"),He(this,"abort"),Ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ba(this,!0)),Rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},t.Xa=function(){Rs(this)};function Rs(f){if(f.h&&typeof s<"u"){if(f.v&&$i(f)==4)setTimeout(f.Ca.bind(f),0);else if(He(f,"readystatechange"),$i(f)==4){f.h=!1;try{const me=f.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var q;if(q=me===0){let je=String(f.D).match(So)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),q=!Ua.test(je?je.toLowerCase():"")}T=q}if(T)He(f,"complete"),He(f,"success");else{f.o=6;try{var he=$i(f)>2?f.g.statusText:""}catch{he=""}f.l=he+" ["+f.ca()+"]",ec(f)}}finally{Ba(f)}}}}function Ba(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,w||He(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $i(f){return f.g?f.g.readyState:0}t.ca=function(){try{return $i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),et(w)}};function za(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(f){const w={};f=(f.g&&$i(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(R(f[q]))continue;var T=ur(f[q]);const he=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const me=w[he]||[];w[he]=me,me.push(T)}_e(w,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function qa(f){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,f),this.Za=ki("retryDelaySeedMs",1e4,f),this.Ta=ki("forwardChannelMaxRetries",2,f),this.va=ki("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new mn(f&&f.concurrentRequestLimit),this.Ba=new Xl,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qa.prototype,t.ka=8,t.I=1,t.connect=function(f,w,T,q){Ke(0),this.W=f,this.H=w||{},T&&q!==void 0&&(this.H.OSID=T,this.H.OAID=q),this.F=this.X,this.J=Pe(this,null,this.W),To(this)};function Ao(f){if(No(f),f.I==3){var w=f.V++,T=Kr(f.J);if(tn(T,"SID",f.M),tn(T,"RID",w),tn(T,"TYPE","terminate"),Pi(f,T),w=new Dr(f,f.j,w),w.M=2,w.A=Cs(Kr(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!T&&o.Image&&(new Image().src=w.A,T=!0),T||(w.g=Ye(w.j,null),w.g.ea(w.A)),w.F=Date.now(),xe(w)}Ee(f)}function Io(f){f.g&&($a(f),f.g.cancel(),f.g=null)}function No(f){Io(f),f.v&&(o.clearTimeout(f.v),f.v=null),D(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function To(f){if(!Oe(f.h)&&!f.m){f.m=!0;var w=f.Ea;Q||C(),te||(Q(),te=!0),j.add(w,f),f.D=0}}function nc(f,w){return cn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qt(u(f.Ea,f,w),ee(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const he=new Dr(this,this.j,f);let me=this.o;if(this.U&&(me?(me=be(me),W(me,this.U)):me=this.U),this.u!==null||this.R||(he.J=me,me=null),this.S)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var q=this.i[T];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(w+=q,w>4096){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Ls(this,he,w),T=Kr(this.J),tn(T,"RID",f),tn(T,"CVER",22),this.G&&tn(T,"X-HTTP-Session-Id",this.G),Pi(this,T),me&&(this.R?w="headers="+Pn(Ps(me))+"&"+w:this.u&&Jl(T,this.u,me)),yt(this.h,he),this.Ra&&tn(T,"TYPE","init"),this.S?(tn(T,"$req",w),tn(T,"SID","null"),he.U=!0,Gr(he,T,null)):Gr(he,T,w),this.I=2}}else this.I==3&&(f?eu(this,f):this.i.length==0||Oe(this.h)||eu(this))};function eu(f,w){var T;w?T=w.l:T=f.V++;const q=Kr(f.J);tn(q,"SID",f.M),tn(q,"RID",T),tn(q,"AID",f.K),Pi(f,q),f.u&&f.o&&Jl(q,f.u,f.o),T=new Dr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),w&&(f.i=w.G.concat(f.i)),w=Ls(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),yt(f.h,T),Gr(T,q,w)}function Pi(f,w){f.H&&ce(f.H,function(T,q){tn(w,q,T)}),f.l&&ce({},function(T,q){tn(w,q,T)})}function Ls(f,w,T){T=Math.min(f.i.length,T);const q=f.l?u(f.l.Ka,f.l,f):null;e:{var he=f.i;let Pt=-1;for(;;){const Dn=["count="+T];Pt==-1?T>0?(Pt=he[0].g,Dn.push("ofs="+Pt)):Pt=0:Dn.push("ofs="+Pt);let Gt=!0;for(let Mn=0;Mn<T;Mn++){var me=he[Mn].g;const jr=he[Mn].map;if(me-=Pt,me<0)Pt=Math.max(0,he[Mn].g-100),Gt=!1;else try{me="req"+me+"_"||"";try{var je=jr instanceof Map?jr:Object.entries(jr);for(const[fi,On]of je){let di=On;a(On)&&(di=Vt(On)),Dn.push(me+fi+"="+encodeURIComponent(di))}}catch(fi){throw Dn.push(me+"type="+encodeURIComponent("_badmap")),fi}}catch{q&&q(jr)}}if(Gt){je=Dn.join("&");break e}}je=void 0}return f=f.i.splice(0,T),w.G=f,je}function tu(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;Q||C(),te||(Q(),te=!0),j.add(w,f),f.A=0}}function eo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qt(u(f.Da,f),ee(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,y(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qt(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Io(this),y(this))};function $a(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function y(f){f.g=new Dr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Kr(f.na);tn(w,"RID","rpc"),tn(w,"SID",f.M),tn(w,"AID",f.K),tn(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&tn(w,"TO",f.ia),tn(w,"TYPE","xmlhttp"),Pi(f,w),f.u&&f.o&&Jl(w,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Cs(Kr(w)),T.u=null,T.R=!0,ui(T,f)}t.Va=function(){this.C!=null&&(this.C=null,Io(this),eo(this),Ke(19))};function D(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function G(f,w){var T=null;if(f.g==w){D(f),$a(f),f.g=null;var q=2}else if(tr(f.h,w))T=w.G,nr(f.h,w),q=1;else return;if(f.I!=0){if(w.o)if(q==1){T=w.u?w.u.length:0,w=Date.now()-w.F;var he=f.D;q=sn(),He(q,new ut(q,T)),To(f)}else tu(f);else if(he=w.m,he==3||he==0&&w.X>0||!(q==1&&nc(f,w)||q==2&&eo(f)))switch(T&&T.length>0&&(w=f.h,w.i=w.i.concat(T)),he){case 1:le(f,5);break;case 4:le(f,10);break;case 3:le(f,6);break;default:le(f,2)}}}function ee(f,w){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*w}function le(f,w){if(f.j.info("Error code "+w),w==2){var T=u(f.bb,f),q=f.Ua;const he=!q;q=new Mr(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xn(q,"https"),Cs(q),he?ja(q.toString(),T):Zs(q.toString(),T)}else Ke(2);f.I=0,f.l&&f.l.pa(w),Ee(f),No(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Ee(f){if(f.I=0,f.ja=[],f.l){const w=Js(f.h);(w.length!=0||f.i.length!=0)&&(b(f.ja,w),b(f.ja,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.oa()}}function Pe(f,w,T){var q=T instanceof Mr?Kr(T):new Mr(T);if(q.g!="")w&&(q.g=w+"."+q.g),Ts(q,q.u);else{var he=o.location;q=he.protocol,w=w?w+"."+he.hostname:he.hostname,he=+he.port;const me=new Mr(null);q&&xn(me,q),w&&(me.g=w),he&&Ts(me,he),T&&(me.h=T),q=me}return T=f.G,w=f.wa,T&&w&&tn(q,T,w),tn(q,"VER",f.ka),Pi(f,q),q}function Ye(f,w,T){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Rn(new _t({ab:T})):new Rn(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nt(){}t=nt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bt(){}bt.prototype.g=function(f,w){return new pt(f,w)};function pt(f,w){Ne.call(this),this.g=new qa(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!R(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new An(this)}d(pt,Ne),pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Ao(this.g)},pt.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Vt(f),f=T);w.i.push(new un(w.Ya++,f)),w.I==3&&To(w)},pt.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,pt.Z.N.call(this)};function Wt(f){Je.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}d(Wt,Je);function Ln(){Rt.call(this),this.status=1}d(Ln,Rt);function An(f){this.g=f}d(An,nt),An.prototype.ra=function(){He(this.g,"a")},An.prototype.qa=function(f){He(this.g,new Wt(f))},An.prototype.pa=function(f){He(this.g,new Ln)},An.prototype.oa=function(){He(this.g,"b")},bt.prototype.createWebChannel=bt.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,y6=function(){return new bt},g6=function(){return sn()},m6=en,J2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,im=$r,Hr.COMPLETE="complete",p6=Hr,kn.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,lf=kn,Rn.prototype.listenOnce=Rn.prototype.K,Rn.prototype.getLastError=Rn.prototype.Ha,Rn.prototype.getLastErrorCode=Rn.prototype.ya,Rn.prototype.getStatus=Rn.prototype.ca,Rn.prototype.getResponseJson=Rn.prototype.La,Rn.prototype.getResponseText=Rn.prototype.la,Rn.prototype.send=Rn.prototype.ea,Rn.prototype.setWithCredentials=Rn.prototype.Fa,d6=Rn}).apply(typeof Ep<"u"?Ep:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore",Hb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Bg("@firebase/firestore");function fc(){return Du.logLevel}function Ge(t,...e){if(Du.logLevel<=Kt.DEBUG){const n=e.map(n5);Du.debug(`Firestore (${bh}): ${t}`,...n)}}function Da(t,...e){if(Du.logLevel<=Kt.ERROR){const n=e.map(n5);Du.error(`Firestore (${bh}): ${t}`,...n)}}function ih(t,...e){if(Du.logLevel<=Kt.WARN){const n=e.map(n5);Du.warn(`Firestore (${bh}): ${t}`,...n)}}function n5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,v6(t,r,n)}function v6(t,e,n){let r=`FIRESTORE (${bh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Da(r),new Error(r)}function dn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||v6(e,i,r)}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends _o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xi.UNAUTHENTICATED))}shutdown(){}}class ZO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e9{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ia,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ia)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dn(typeof r.accessToken=="string",31837,{l:r}),new w6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new xi(e)}}class t9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new t9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=i9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function Z2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return f1(i)===f1(s)?Yt(i,s):f1(i)?1:-1}return Yt(t.length,e.length)}const s9=55296,o9=57343;function f1(t){const e=t.charCodeAt(0);return e>=s9&&e<=o9}function sh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__name__";class Oo{constructor(e,n,r){n===void 0?n=0:n>e.length&&At(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&At(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Oo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Yt(e.length,n.length)}static compareSegments(e,n){const r=Oo.isNumericId(e),i=Oo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oo.extractNumericId(e).compare(Oo.extractNumericId(n)):Z2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pl.fromString(e.substring(4,e.length-2))}}class jn extends Oo{construct(e,n,r){return new jn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new jn(n)}static emptyPath(){return new jn([])}}const a9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Oo{construct(e,n,r){return new ti(e,n,r)}static isValidIdentifier(e){return a9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new ti([Gb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $e(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(n)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(jn.fromString(e))}static fromName(e){return new vt(jn.fromString(e).popFirst(5))}static empty(){return new vt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new jn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t,e,n){if(!n)throw new $e(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l9(t,e,n,r){if(e===!0&&r===!0)throw new $e(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kb(t){if(!vt.isDocumentKey(t))throw new $e(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yb(t){if(vt.isDocumentKey(t))throw new $e(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At(12329,{type:typeof t})}function Vl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new $e(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cd(t,e){if(!b6(t))throw new $e(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $e(Ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=-62135596800,Xb=1e6;class qn{static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xb);return new qn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qb)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xb}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,qn._jsonSchema))return new qn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qn._jsonSchemaVersion="firestore/timestamp/1.0",qn._jsonSchema={type:Sr("string",qn._jsonSchemaVersion),seconds:Sr("number"),nanoseconds:Sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new qn(0,0))}static max(){return new Lt(new qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function u9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new qn(n+1,0):new qn(n,r));return new Ul(i,vt.empty(),e)}function c9(t){return new Ul(t.readTime,t.key,td)}class Ul{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ul(Lt.min(),vt.empty(),td)}static max(){return new Ul(Lt.max(),vt.empty(),td)}}function h9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==f9)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function p9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=-1;function Yg(t){return t==null}function tg(t){return t===0&&1/t==-1/0}function m9(t){return typeof t=="number"&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="";function g9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jb(e)),e=y9(t.get(n),e);return Jb(e)}function y9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case x6:n+="";break;default:n+=s}}return n}function Jb(t){return t+x6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new Zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ei.RED,this.left=i??ei.EMPTY,this.right=s??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ei(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ex(this.data.getIterator())}getIteratorFrom(e){return new ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lr(this.comparator);return n.data=e,n}}class ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new ho([])}unionWith(e){let n=new Lr(ti.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ho(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new E6("Invalid base64 string: "+s):s}}(e);return new si(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const v9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bl(t){if(dn(!!t,39018),typeof t=="string"){let e=0;const n=v9.exec(t);if(dn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(t.seconds),nanos:mr(t.nanos)}}function mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zl(t){return typeof t=="string"?si.fromBase64String(t):si.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="server_timestamp",I6="__type__",N6="__previous_value__",T6="__local_write_time__";function s5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[I6])==null?void 0:r.stringValue)===A6}function Qg(t){const e=t.mapValue.fields[N6];return s5(e)?Qg(e):e}function nd(t){const e=Bl(t.mapValue.fields[T6].timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const ng="(default)";class rd{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="__type__",k6="__max__",Ip={mapValue:{fields:{__type__:{stringValue:k6}}}},P6="__vector__",rg="value";function ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s5(t)?4:b9(t)?9007199254740991:_9(t)?10:11:At(28295,{value:t})}function Zo(t,e){if(t===e)return!0;const n=ql(t);if(n!==ql(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Bl(i.timestampValue),a=Bl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zl(i.bytesValue).isEqual(zl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mr(i.geoPointValue.latitude)===mr(s.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mr(i.integerValue)===mr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mr(i.doubleValue),a=mr(s.doubleValue);return o===a?tg(o)===tg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sh(t.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Zb(o)!==Zb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zo(o[l],a[l])))return!1;return!0}(t,e);default:return At(52216,{left:t})}}function id(t,e){return(t.values||[]).find(n=>Zo(n,e))!==void 0}function oh(t,e){if(t===e)return 0;const n=ql(t),r=ql(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mr(s.integerValue||s.doubleValue),l=mr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tx(t.timestampValue,e.timestampValue);case 4:return tx(nd(t),nd(e));case 5:return Z2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zl(s),l=zl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Yt(a[u],l[u]);if(c!==0)return c}return Yt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Yt(mr(s.latitude),mr(o.latitude));return a!==0?a:Yt(mr(s.longitude),mr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var g,m,b,x;const a=s.fields||{},l=o.fields||{},u=(g=a[rg])==null?void 0:g.arrayValue,c=(m=l[rg])==null?void 0:m.arrayValue,d=Yt(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((x=c==null?void 0:c.values)==null?void 0:x.length)||0);return d!==0?d:nx(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ip.mapValue&&o===Ip.mapValue)return 0;if(s===Ip.mapValue)return 1;if(o===Ip.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=Z2(l[d],c[d]);if(g!==0)return g;const m=oh(a[l[d]],u[c[d]]);if(m!==0)return m}return Yt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw At(23264,{he:n})}}function tx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=Bl(t),r=Bl(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function nx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oh(n[i],r[i]);if(s)return s}return Yt(n.length,r.length)}function ah(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ey(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ey(n.fields[o])}`;return i+"}"}(t.mapValue):At(61005,{value:t})}function sm(t){switch(ql(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qg(t);return e?16+sm(e):16;case 5:return 2*t.stringValue.length;case 6:return zl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+sm(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hu(r.fields,(s,o)=>{i+=s.length+sm(o)}),i}(t.mapValue);default:throw At(13486,{value:t})}}function rx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function o5(t){return!!t&&"arrayValue"in t}function ix(t){return!!t&&"nullValue"in t}function sx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function om(t){return!!t&&"mapValue"in t}function _9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C6])==null?void 0:r.stringValue)===P6}function If(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=If(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=If(t.arrayValue.values[n]);return e}return{...t}}function b9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!om(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(n)}setAll(e){let n=ti.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=If(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());om(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zs(If(this.value))}}function R6(t){const e=[];return Hu(t.fields,(n,r)=>{const i=new ti([n]);if(om(r)){const s=R6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ho(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ei(e,0,Lt.min(),Lt.min(),Lt.min(),zs.empty(),0)}static newFoundDocument(e,n,r,i){return new Ei(e,1,n,Lt.min(),r,i,0)}static newNoDocument(e,n){return new Ei(e,2,n,Lt.min(),Lt.min(),zs.empty(),0)}static newUnknownDocument(e,n){return new Ei(e,3,n,Lt.min(),Lt.min(),zs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.position=e,this.inclusive=n}}function ox(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=vt.comparator(vt.fromName(o.referenceValue),n.key):r=oh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ax(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function x9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{}class xr extends L6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E9(e,n,r):n==="array-contains"?new N9(e,r):n==="in"?new T9(e,r):n==="not-in"?new C9(e,r):n==="array-contains-any"?new k9(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A9(e,r):new I9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oh(n,this.value)):n!==null&&ql(this.value)===ql(n)&&this.matchesComparison(oh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends L6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vo(e,n)}matches(e){return D6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D6(t){return t.op==="and"}function M6(t){return S9(t)&&D6(t)}function S9(t){for(const e of t.filters)if(e instanceof vo)return!1;return!0}function ny(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+ah(t.value);if(M6(t))return t.filters.map(e=>ny(e)).join(",");{const e=t.filters.map(n=>ny(n)).join(",");return`${t.op}(${e})`}}function O6(t,e){return t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.field.isEqual(i.field)&&Zo(r.value,i.value)}(t,e):t instanceof vo?function(r,i){return i instanceof vo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&O6(o,i.filters[a]),!0):!1}(t,e):void At(19439)}function F6(t){return t instanceof xr?function(n){return`${n.field.canonicalString()} ${n.op} ${ah(n.value)}`}(t):t instanceof vo?function(n){return n.op.toString()+" {"+n.getFilters().map(F6).join(" ,")+"}"}(t):"Filter"}class E9 extends xr{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class A9 extends xr{constructor(e,n){super(e,"in",n),this.keys=j6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I9 extends xr{constructor(e,n){super(e,"not-in",n),this.keys=j6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function j6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class N9 extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o5(n)&&id(n.arrayValue,this.value)}}class T9 extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}}class C9 extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!id(this.value.arrayValue,n)}}class k9 extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function lx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new P9(t,e,n,r,i,s,o)}function a5(t){const e=Ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ah(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ah(r)).join(",")),e.Te=n}return e.Te}function l5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ax(t.startAt,e.startAt)&&ax(t.endAt,e.endAt)}function ry(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R9(t,e,n,r,i,s,o,a){return new Eh(t,e,n,r,i,s,o,a)}function u5(t){return new Eh(t)}function ux(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V6(t){return t.collectionGroup!==null}function Nf(t){const e=Ot(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lr(ti.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sd(s,r))}),n.has(ti.keyField().canonicalString())||e.Ie.push(new sd(ti.keyField(),r))}return e.Ie}function qo(t){const e=Ot(t);return e.Ee||(e.Ee=L9(e,Nf(t))),e.Ee}function L9(t,e){if(t.limitType==="F")return lx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sd(i.field,s)});const n=t.endAt?new ig(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ig(t.startAt.position,t.startAt.inclusive):null;return lx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e){const n=t.filters.concat([e]);return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sy(t,e,n){return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xg(t,e){return l5(qo(t),qo(e))&&t.limitType===e.limitType}function U6(t){return`${a5(qo(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>F6(i)).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ah(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ah(i)).join(",")),`Target(${r})`}(qo(t))}; limitType=${t.limitType})`}function Jg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):vt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ox(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Nf(r),i)||r.endAt&&!function(o,a,l){const u=ox(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Nf(r),i))}(t,e)}function D9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B6(t){return(e,n)=>{let r=!1;for(const i of Nf(t)){const s=M9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function M9(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?oh(l,u):At(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return S6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Zn(vt.comparator);function Ma(){return O9}const z6=new Zn(vt.comparator);function uf(...t){let e=z6;for(const n of t)e=e.insert(n.key,n);return e}function q6(t){let e=z6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yu(){return Tf()}function $6(){return Tf()}function Tf(){return new Wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const F9=new Zn(vt.comparator),j9=new Lr(vt.comparator);function Qt(...t){let e=j9;for(const n of t)e=e.add(n);return e}const V9=new Lr(Yt);function U9(){return V9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function H6(t){return{integerValue:""+t}}function B9(t,e){return m9(e)?H6(e):c5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this._=void 0}}function z9(t,e,n){return t instanceof od?function(i,s){const o={fields:{[I6]:{stringValue:A6},[T6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&s5(s)&&(s=Qg(s)),s&&(o.fields[N6]=s),{mapValue:o}}(n,e):t instanceof ad?G6(t,e):t instanceof ld?K6(t,e):function(i,s){const o=W6(i,s),a=cx(o)+cx(i.Ae);return ty(o)&&ty(i.Ae)?H6(a):c5(i.serializer,a)}(t,e)}function q9(t,e,n){return t instanceof ad?G6(t,e):t instanceof ld?K6(t,e):n}function W6(t,e){return t instanceof sg?function(r){return ty(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class od extends Zg{}class ad extends Zg{constructor(e){super(),this.elements=e}}function G6(t,e){const n=Y6(e);for(const r of t.elements)n.some(i=>Zo(i,r))||n.push(r);return{arrayValue:{values:n}}}class ld extends Zg{constructor(e){super(),this.elements=e}}function K6(t,e){let n=Y6(e);for(const r of t.elements)n=n.filter(i=>!Zo(i,r));return{arrayValue:{values:n}}}class sg extends Zg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cx(t){return mr(t.integerValue||t.doubleValue)}function Y6(t){return o5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.field=e,this.transform=n}}function H9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ad&&i instanceof ad||r instanceof ld&&i instanceof ld?sh(r.elements,i.elements,Zo):r instanceof sg&&i instanceof sg?Zo(r.Ae,i.Ae):r instanceof od&&i instanceof od}(t.transform,e.transform)}class W9{constructor(e,n){this.version=e,this.transformResults=n}}class $o{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $o}static exists(e){return new $o(void 0,e)}static updateTime(e){return new $o(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function am(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class e0{}function Q6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J6(t.key,$o.none()):new kd(t.key,t.data,$o.none());{const n=t.data,r=zs.empty();let i=new Lr(ti.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gu(t.key,r,new ho(i.toArray()),$o.none())}}function G9(t,e,n){t instanceof kd?function(i,s,o){const a=i.value.clone(),l=fx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gu?function(i,s,o){if(!am(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(X6(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cf(t,e,n,r){return t instanceof kd?function(s,o,a,l){if(!am(s.precondition,o))return a;const u=s.value.clone(),c=dx(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gu?function(s,o,a,l){if(!am(s.precondition,o))return a;const u=dx(s.fieldTransforms,l,o),c=o.data;return c.setAll(X6(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return am(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function K9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=W6(r.transform,i||null);s!=null&&(n===null&&(n=zs.empty()),n.set(r.field,s))}return n||null}function hx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sh(r,i,(s,o)=>H9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends e0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gu extends e0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function X6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fx(t,e,n){const r=new Map;dn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,q9(o,a,n[i]))}return r}function dx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,z9(s,o,e))}return r}class J6 extends e0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y9 extends e0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&G9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Q6(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&sh(this.mutations,e.mutations,(n,r)=>hx(n,r))&&sh(this.baseMutations,e.baseMutations,(n,r)=>hx(n,r))}}class h5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return F9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new h5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r,rn;function Z9(t){switch(t){case Ce.OK:return At(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return At(15467,{code:t})}}function Z6(t){if(t===void 0)return Da("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case _r.OK:return Ce.OK;case _r.CANCELLED:return Ce.CANCELLED;case _r.UNKNOWN:return Ce.UNKNOWN;case _r.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case _r.INTERNAL:return Ce.INTERNAL;case _r.UNAVAILABLE:return Ce.UNAVAILABLE;case _r.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case _r.NOT_FOUND:return Ce.NOT_FOUND;case _r.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case _r.ABORTED:return Ce.ABORTED;case _r.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case _r.DATA_LOSS:return Ce.DATA_LOSS;default:return At(39323,{code:t})}}(rn=_r||(_r={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Pl([4294967295,4294967295],0);function px(t){const e=eF().encode(t),n=new f6;return n.update(e),new Uint8Array(n.digest())}function mx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pl([n,r],0),new Pl([i,s],0)]}class f5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cf(`Invalid padding: ${n}`);if(r<0)throw new cf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pl.fromNumber(r)));return i.compare(tF)===1&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=px(e),[r,i]=mx(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new f5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=px(e),[r,i]=mx(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t0(Lt.min(),i,new Zn(Yt),Ma(),Qt())}}class Pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pd(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class eI{constructor(e,n){this.targetId=e,this.Ce=n}}class tI{constructor(e,n,r=si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gx{constructor(){this.ve=0,this.Fe=yx(),this.Me=si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qt(),n=Qt(),r=Qt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:At(38017,{changeType:s})}}),new Pd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ma(),this.Je=Np(),this.He=Np(),this.Ye=new Zn(Yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:At(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ry(s))if(r===0){const o=new vt(s.path);this.et(n,o,Ei.newNoDocument(o,Lt.min()))}else dn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=zl(r).toUint8Array()}catch(l){if(l instanceof E6)return ih("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new f5(o,i,s)}catch(l){return ih(l instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ry(a.target)){const l=new vt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ei.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Qt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new t0(e,n,this.Ye,this.je,r);return this.je=Ma(),this.Je=Np(),this.He=Np(),this.Ye=new Zn(Yt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lr(Yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lr(Yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Np(){return new Zn(vt.comparator)}function yx(){return new Zn(vt.comparator)}const rF={asc:"ASCENDING",desc:"DESCENDING"},iF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sF={and:"AND",or:"OR"};class oF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||Yg(e)?e:{value:e}}function og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aF(t,e){return og(t,e.toTimestamp())}function Ho(t){return dn(!!t,49232),Lt.fromTimestamp(function(n){const r=Bl(n);return new qn(r.seconds,r.nanos)}(t))}function d5(t,e){return ay(t,e).canonicalString()}function ay(t,e){const n=function(i){return new jn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=jn.fromString(t);return dn(lI(e),10190,{key:e.toString()}),e}function ly(t,e){return d5(t.databaseId,e.path)}function d1(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(sI(n))}function iI(t,e){return d5(t.databaseId,e)}function lF(t){const e=rI(t);return e.length===4?jn.emptyPath():sI(e)}function uy(t){return new jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sI(t){return dn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vx(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function uF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:At(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(dn(c===void 0||typeof c=="string",58123),si.fromBase64String(c||"")):(dn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),si.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ce.UNKNOWN:Z6(u.code);return new $e(c,u.message||"")}(o);n=new tI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=d1(t,r.document.name),s=Ho(r.document.updateTime),o=r.document.createTime?Ho(r.document.createTime):Lt.min(),a=new zs({mapValue:{fields:r.document.fields}}),l=Ei.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lm(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=d1(t,r.document),s=r.readTime?Ho(r.readTime):Lt.min(),o=Ei.newNoDocument(i,s),a=r.removedTargetIds||[];n=new lm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=d1(t,r.document),s=r.removedTargetIds||[];n=new lm([],s,i,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new J9(i,s),a=r.targetId;n=new eI(a,o)}}return n}function cF(t,e){let n;if(e instanceof kd)n={update:vx(t,e.key,e.value)};else if(e instanceof J6)n={delete:ly(t,e.key)};else if(e instanceof Gu)n={update:vx(t,e.key,e.data),updateMask:wF(e.fieldMask)};else{if(!(e instanceof Y9))return At(16599,{Vt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ad)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ld)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sg)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw At(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:At(27497)}(t,e.precondition)),n}function hF(t,e){return t&&t.length>0?(dn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Ho(i.updateTime):Ho(s);return o.isEqual(Lt.min())&&(o=Ho(s)),new W9(o,i.transformResults||[])}(n,e))):[]}function fF(t,e){return{documents:[iI(t,e.path)]}}function dF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,i);const s=function(u){if(u.length!==0)return aI(vo.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:pc(g.field),direction:gF(g.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=oy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function pF(t){let e=lF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const g=oI(d);return g instanceof vo&&M6(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(b){return new sd(mc(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Yg(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,m=d.values||[];return new ig(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,m=d.values||[];return new ig(m,g)}(n.endAt)),R9(e,i,o,s,a,"F",l,u)}function mF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mc(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mc(n.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mc(n.unaryFilter.field);return xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mc(n.unaryFilter.field);return xr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(t):t.fieldFilter!==void 0?function(n){return xr.create(mc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vo.create(n.compositeFilter.filters.map(r=>oI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(t):At(30097,{filter:t})}function gF(t){return rF[t]}function yF(t){return iF[t]}function vF(t){return sF[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return ti.fromServerFormat(t.fieldPath)}function aI(t){return t instanceof xr?function(n){if(n.op==="=="){if(sx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(ix(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sx(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(ix(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:yF(n.op),value:n.value}}}(t):t instanceof vo?function(n){const r=n.getFilters().map(i=>aI(i));return r.length===1?r[0]:{compositeFilter:{op:vF(n.op),filters:r}}}(t):At(54877,{filter:t})}function wF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,i,s=Lt.min(),o=Lt.min(),a=si.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.yt=e}}function bF(t){const e=pF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.Cn=new SF}addToCollectionParentIndex(e,n){return this.Cn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Ul.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Ul.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class SF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lr(jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lr(jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uI=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(uI,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lh(0)}static cr(){return new lh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LruGarbageCollector",EF=1048576;function bx([t,e],[n,r]){const i=Yt(t,n);return i===0?Yt(e,r):i}class AF{constructor(e){this.Ir=e,this.buffer=new Lr(bx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(_x,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sh(n)?Ge(_x,"Ignoring IndexedDB error during garbage collection: ",n):await xh(n)}await this.Vr(3e5)})}}class NF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ke.resolve(Kg.ce);const r=new AF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(wx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),fc()<=Kt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function TF(t,e){return new NF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.changes=new Wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cf(r.mutation,i,ho.empty(),qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=yu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=uf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ma();const o=Tf(),a=function(){return Tf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Gu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Cf(c.mutation,u,c.mutation.getFieldMask(),qn.now())):o.set(u.key,ho.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>a.set(u,new kF(c,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Tf();let i=new Zn((o,a)=>o-a),s=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ho.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Qt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=$6();c.forEach(g=>{if(!s.has(g)){const m=Q6(n.get(g),r.get(g));m!==null&&d.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return vt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(yu());let a=td,l=s;return o.next(u=>ke.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ke.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Qt())).next(c=>({batchId:a,changes:q6(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=uf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=uf();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,l=>{const u=function(d,g){return new Eh(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ei.newInvalidDocument(c)))});let a=uf();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Cf(c.mutation,u,ho.empty(),qn.now()),Jg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ho(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:bF(i.bundledQuery),readTime:Ho(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.overlays=new Zn(vt.comparator),this.qr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yu();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=yu(),s=n.length+1,o=new vt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Zn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=yu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=yu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ke.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new X9(n,r));let s=this.qr.get(n);s===void 0&&(s=Qt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.sessionToken=si.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Qr=new Lr(Ur.$r),this.Ur=new Lr(Ur.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ur(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ur(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new vt(new jn([])),r=new Ur(n,e),i=new Ur(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new vt(new jn([])),r=new Ur(n,e),i=new Ur(n,e+1);let s=Qt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ur(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ur{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return vt.comparator(e.key,n.key)||Yt(e.Yr,n.Yr)}static Kr(e,n){return Yt(e.Yr,n.Yr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lr(Ur.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Q9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ur(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?i5:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ur(n,0),i=new Ur(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lr(Yt);return n.forEach(i=>{const s=new Ur(i,0),o=new Ur(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;vt.isDocumentKey(s)||(s=s.child(""));const o=new Ur(new vt(s),0);let a=new Lr(Yt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),ke.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(n.mutations,i=>{const s=new Ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ur(n,0),i=this.Zr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.ri=e,this.docs=function(){return new Zn(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():Ei.newInvalidDocument(n))}getEntries(e,n){let r=Ma();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ei.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ma();const o=n.path,a=new vt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h9(c9(c),r)<=0||(i.has(c.key)||Jg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){At(9500)}ii(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FF(this)}getSize(e){return ke.resolve(this.size)}}class FF extends CF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.persistence=e,this.si=new Wu(n=>a5(n),l5),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.oi=0,this._i=new p5,this.targetCount=0,this.ai=lh.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Pr(n),ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kg(0),this.li=!1,this.li=!0,this.hi=new DF,this.referenceDelegate=e(this),this.Pi=new jF(this),this.indexManager=new xF,this.remoteDocumentCache=function(i){return new OF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _F(n),this.Ii=new RF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new MF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new VF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return ke.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class VF extends d9{constructor(e){super(),this.currentSequenceNumber=e}}class m5{constructor(e){this.persistence=e,this.Ri=new p5,this.Vi=null}static mi(e){return new m5(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,r=>{const i=vt.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ke.or([()=>ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ag{constructor(e,n){this.persistence=e,this.pi=new Wu(r=>g9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=TF(this,n)}static mi(e,n){return new ag(e,n)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ke.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ke.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Lt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sm(e.data.value)),n}br(e,n,r){return ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Qt(),i=Qt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lL()?8:p9(Ii())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UF;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(fc()<=Kt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(fc()<=Kt.DEBUG&&Ge("QueryEngine","Query:",dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(fc()<=Kt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(n))):ke.resolve())}ys(e,n){if(ux(n))return ke.resolve(null);let r=qo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sy(n,null,"F"),r=qo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,sy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return ux(n)||i.isEqual(Lt.min())?ke.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?ke.resolve(null):(fc()<=Kt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(n)),this.vs(e,o,n,u9(i,td)).next(a=>a))})}Ds(e,n){let r=new Lr(B6(e));return n.forEach((i,s)=>{Jg(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return fc()<=Kt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",dc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ul.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="LocalStore",zF=3e8;class qF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Zn(Yt),this.xs=new Wu(s=>a5(s),l5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $F(t,e,n,r){return new qF(t,e,n,r)}async function hI(t,e){const n=Ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Qt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function HF(t,e){const n=Ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let m=ke.resolve();return g.forEach(b=>{m=m.next(()=>c.getEntry(l,b)).next(x=>{const k=u.docVersions.get(b);dn(k!==null,48541),x.version.compareTo(k)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Qt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fI(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WF(t,e){const n=Ot(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.Pi.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,c.addedDocuments,d)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(si.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(x,k,_){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=zF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,m,c)&&a.push(n.Pi.updateTargetData(s,m))});let l=Ma(),u=Qt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(GF(s,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(Lt.min())){const c=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function GF(t,e,n){let r=Qt(),i=Qt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ma();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Lt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ge(y5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function KF(t,e){const n=Ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=i5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YF(t,e){const n=Ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new vl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function cy(t,e,n){const r=Ot(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sh(o))throw o;Ge(y5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xx(t,e,n){const r=Ot(t);let i=Lt.min(),s=Qt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ot(l),g=d.xs.get(c);return g!==void 0?ke.resolve(d.Ms.get(g)):d.Pi.getTargetData(u,c)}(r,o,qo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Lt.min(),n?s:Qt())).next(a=>(QF(r,D9(e),a),{documents:a,Qs:s})))}function QF(t,e,n){let r=t.Os.get(e)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Sx{constructor(){this.activeTargetIds=U9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XF{constructor(){this.Mo=new Sx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="ConnectivityMonitor";class Ax{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(Ex,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(Ex,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp=null;function hy(){return Tp===null?Tp=function(){return 268435456+Math.round(2147483648*Math.random())}():Tp++,"0x"+Tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="RestConnection",ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ej{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ng?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=hy(),a=this.zo(e,n.toUriEncodedString());Ge(p1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),c=vh(u);return this.Jo(e,a,l,r,c).then(d=>(Ge(p1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ih(p1,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=ZF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="WebChannelConnection";class nj extends ej{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=hy();return new Promise((a,l)=>{const u=new d6;u.setWithCredentials(!0),u.listenOnce(p6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case im.NO_ERROR:const d=u.getResponseJson();Ge(yi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case im.TIMEOUT:Ge(yi,`RPC '${e}' ${o} timed out`),l(new $e(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const g=u.getStatus();if(Ge(yi,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const x=function(_){const A=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(A)>=0?A:Ce.UNKNOWN}(b.status);l(new $e(x,b.message))}else l(new $e(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $e(Ce.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ge(yi,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ge(yi,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=hy(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y6(),a=g6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ge(yi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let g=!1,m=!1;const b=new tj({Yo:k=>{m?Ge(yi,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(Ge(yi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Ge(yi,`RPC '${e}' stream ${i} sending:`,k),d.send(k))},Zo:()=>d.close()}),x=(k,_,A)=>{k.listen(_,I=>{try{A(I)}catch(O){setTimeout(()=>{throw O},0)}})};return x(d,lf.EventType.OPEN,()=>{m||(Ge(yi,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),x(d,lf.EventType.CLOSE,()=>{m||(m=!0,Ge(yi,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(d))}),x(d,lf.EventType.ERROR,k=>{m||(m=!0,ih(yi,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),b.a_(new $e(Ce.UNAVAILABLE,"The operation could not be completed")))}),x(d,lf.EventType.MESSAGE,k=>{var _;if(!m){const A=k.data[0];dn(!!A,16349);const I=A,O=(I==null?void 0:I.error)||((_=I[0])==null?void 0:_.error);if(O){Ge(yi,`RPC '${e}' stream ${i} received error:`,O);const Q=O.status;let te=function(N){const F=_r[N];if(F!==void 0)return Z6(F)}(Q),j=O.message;te===void 0&&(te=Ce.INTERNAL,j="Unknown error status: "+Q+" with message "+O.message),m=!0,b.a_(new $e(te,j)),d.close()}else Ge(yi,`RPC '${e}' stream ${i} received:`,A),b.u_(A)}}),x(a,m6.STAT_EVENT,k=>{k.stat===J2.PROXY?Ge(yi,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===J2.NOPROXY&&Ge(yi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function m1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){return new oF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="PersistentStream";class pI{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(Da(n.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $e(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ge(Ix,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ge(Ix,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rj extends pI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uF(this.serializer,e),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?Ho(o.readTime):Lt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ry(l)?{documents:fF(s,l)}:{query:dF(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nI(s,o.resumeToken);const u=oy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=og(s,o.snapshotVersion.toTimestamp());const u=oy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=mF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.q_(n)}}class ij extends pI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hF(e.writeResults,e.commitTime),r=Ho(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=uy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{}class oj extends sj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $e(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,ay(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Ce.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ay(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Ce.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Da(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="RemoteStore";class lj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ku(this)&&(Ge(Mu,"Restarting streams for network reachability change."),await async function(l){const u=Ot(l);u.Ea.add(4),await Rd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await r0(u)}(this))})}),this.Ra=new aj(r,i)}}async function r0(t){if(Ku(t))for(const e of t.da)await e(!0)}async function Rd(t){for(const e of t.da)await e(!1)}function mI(t,e){const n=Ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),b5(n)?_5(n):Ah(n).O_()&&w5(n,e))}function v5(t,e){const n=Ot(t),r=Ah(n);n.Ia.delete(e),r.O_()&&gI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ku(n)&&n.Ra.set("Unknown"))}function w5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ah(t).Y_(e)}function gI(t,e){t.Va.Ue(e),Ah(t).Z_(e)}function _5(t){t.Va=new nF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ah(t).start(),t.Ra.ua()}function b5(t){return Ku(t)&&!Ah(t).x_()&&t.Ia.size>0}function Ku(t){return Ot(t).Ea.size===0}function yI(t){t.Va=void 0}async function uj(t){t.Ra.set("Online")}async function cj(t){t.Ia.forEach((e,n)=>{w5(t,e)})}async function hj(t,e){yI(t),b5(t)?(t.Ra.ha(e),_5(t)):t.Ra.set("Unknown")}async function fj(t,e,n){if(t.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ge(Mu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lg(t,r)}else if(e instanceof lm?t.Va.Ze(e):e instanceof eI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Lt.min()))try{const r=await fI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(si.EMPTY_BYTE_STRING,c.snapshotVersion)),gI(s,l);const d=new vl(c.target,l,u,c.sequenceNumber);w5(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ge(Mu,"Failed to raise snapshot:",r),await lg(t,r)}}async function lg(t,e,n){if(!Sh(e))throw e;t.Ea.add(1),await Rd(t),t.Ra.set("Offline"),n||(n=()=>fI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(Mu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await r0(t)})}function vI(t,e){return e().catch(n=>lg(t,n,e))}async function i0(t){const e=Ot(t),n=$l(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i5;for(;dj(e);)try{const i=await KF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,pj(e,i)}catch(i){await lg(e,i)}wI(e)&&_I(e)}function dj(t){return Ku(t)&&t.Ta.length<10}function pj(t,e){t.Ta.push(e);const n=$l(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wI(t){return Ku(t)&&!$l(t).x_()&&t.Ta.length>0}function _I(t){$l(t).start()}async function mj(t){$l(t).ra()}async function gj(t){const e=$l(t);for(const n of t.Ta)e.ea(n.mutations)}async function yj(t,e,n){const r=t.Ta.shift(),i=h5.from(r,e,n);await vI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await i0(t)}async function vj(t,e){e&&$l(t).X_&&await async function(r,i){if(function(o){return Z9(o)&&o!==Ce.ABORTED}(i.code)){const s=r.Ta.shift();$l(r).B_(),await vI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await i0(r)}}(t,e),wI(t)&&_I(t)}async function Nx(t,e){const n=Ot(t);n.asyncQueue.verifyOperationInProgress(),Ge(Mu,"RemoteStore received new credentials");const r=Ku(n);n.Ea.add(3),await Rd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await r0(n)}async function wj(t,e){const n=Ot(t);e?(n.Ea.delete(2),await r0(n)):e||(n.Ea.add(2),await Rd(n),n.Ra.set("Unknown"))}function Ah(t){return t.ma||(t.ma=function(n,r,i){const s=Ot(n);return s.sa(),new rj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:uj.bind(null,t),t_:cj.bind(null,t),r_:hj.bind(null,t),H_:fj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),b5(t)?_5(t):t.Ra.set("Unknown")):(await t.ma.stop(),yI(t))})),t.ma}function $l(t){return t.fa||(t.fa=function(n,r,i){const s=Ot(n);return s.sa(),new ij(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mj.bind(null,t),r_:vj.bind(null,t),ta:gj.bind(null,t),na:yj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await i0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(Mu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new x5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S5(t,e){if(Da("AsyncQueue",`${e}: ${t}`),Sh(t))return new $e(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{static emptySet(e){return new zc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=uf(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.ga=new Zn(vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class uh{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uh(e,n,zc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bj{constructor(){this.queries=Cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ot(n),s=i.queries;i.queries=Cx(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new $e(Ce.ABORTED,"Firestore shutting down"))}}function Cx(){return new Wu(t=>U6(t),Xg)}async function bI(t,e){const n=Ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _j,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=S5(o,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&E5(n)}async function xI(t,e){const n=Ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xj(t,e){const n=Ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&E5(n)}function Sj(t,e,n){const r=Ot(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function E5(t){t.Ca.forEach(e=>{e.next()})}var fy,kx;(kx=fy||(fy={})).Ma="default",kx.Cache="cache";class SI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.key=e}}class AI{constructor(e){this.key=e}}class Ej{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=B6(e),this.tu=new zc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Tx,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),m=Jg(this.query,d)?d:null,b=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;g&&m?g.data.isEqual(m.data)?b!==x&&(r.track({type:3,doc:m}),k=!0):this.su(g,m)||(r.track({type:2,doc:m}),k=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),k=!0):g&&!m&&(r.track({type:1,doc:g}),k=!0,(l||u)&&(a=!0)),k&&(m?(o=o.add(m),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,d)=>function(m,b){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:k})}};return x(m)-x(b)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new uh(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new AI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new EI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A5="SyncEngine";class Aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ij{constructor(e){this.key=e,this.hu=!1}}class Nj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Wu(a=>U6(a),Xg),this.Iu=new Map,this.Eu=new Set,this.du=new Zn(vt.comparator),this.Au=new Map,this.Ru=new p5,this.Vu={},this.mu=new Map,this.fu=lh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tj(t,e,n=!0){const r=PI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await II(r,e,n,!0),i}async function Cj(t,e){const n=PI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const i=await YF(t.localStore,qo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await kj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mI(t.remoteStore,i),a}async function kj(t,e,n,r,i){t.pu=(d,g,m)=>async function(x,k,_,A){let I=k.view.ru(_);I.Cs&&(I=await xx(x.localStore,k.query,!1).then(({documents:j})=>k.view.ru(j,I)));const O=A&&A.targetChanges.get(k.targetId),Q=A&&A.targetMismatches.get(k.targetId)!=null,te=k.view.applyChanges(I,x.isPrimaryClient,O,Q);return Rx(x,k.targetId,te.au),te.snapshot}(t,d,g,m);const s=await xx(t.localStore,e,!0),o=new Ej(e,s.Qs),a=o.ru(s.documents),l=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Rx(t,n,u.au);const c=new Aj(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Pj(t,e,n){const r=Ot(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Xg(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&v5(r.remoteStore,i.targetId),dy(r,i.targetId)}).catch(xh)):(dy(r,i.targetId),await cy(r.localStore,i.targetId,!0))}async function Rj(t,e){const n=Ot(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v5(n.remoteStore,r.targetId))}async function Lj(t,e,n){const r=Uj(t);try{const i=await function(o,a){const l=Ot(o),u=qn.now(),c=a.reduce((m,b)=>m.add(b.key),Qt());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Ma(),x=Qt();return l.Ns.getEntries(m,c).next(k=>{b=k,b.forEach((_,A)=>{A.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(k=>{d=k;const _=[];for(const A of a){const I=K9(A,d.get(A.key).overlayedDocument);I!=null&&_.push(new Gu(A.key,I,R6(I.value.mapValue),$o.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(k=>{g=k;const _=k.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,k.batchId,_)})}).then(()=>({batchId:g.batchId,changes:q6(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Zn(Yt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ld(r,i.changes),await i0(r.remoteStore)}catch(i){const s=S5(i,"Failed to persist write");n.reject(s)}}async function NI(t,e){const n=Ot(t);try{const r=await WF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?dn(o.hu,14607):i.removedDocuments.size>0&&(dn(o.hu,42227),o.hu=!1))}),await Ld(n,r,e)}catch(r){await xh(r)}}function Px(t,e,n){const r=Ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.Sa)g.va(a)&&(u=!0)}),u&&E5(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dj(t,e,n){const r=Ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Zn(vt.comparator);o=o.insert(s,Ei.newNoDocument(s,Lt.min()));const a=Qt().add(s),l=new t0(Lt.min(),new Map,new Zn(Yt),o,a);await NI(r,l),r.du=r.du.remove(s),r.Au.delete(e),I5(r)}else await cy(r.localStore,e,!1).then(()=>dy(r,e,n)).catch(xh)}async function Mj(t,e){const n=Ot(t),r=e.batch.batchId;try{const i=await HF(n.localStore,e);CI(n,r,null),TI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(n,i)}catch(i){await xh(i)}}async function Oj(t,e,n){const r=Ot(t);try{const i=await function(o,a){const l=Ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(dn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);CI(r,e,n),TI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ld(r,i)}catch(i){await xh(i)}}function TI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CI(t,e,n){const r=Ot(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kI(t,r)})}function kI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(v5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),I5(t))}function Rx(t,e,n){for(const r of n)r instanceof EI?(t.Ru.addReference(r.key,e),Fj(t,r)):r instanceof AI?(Ge(A5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kI(t,r.key)):At(19791,{wu:r})}function Fj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ge(A5,"New document in limbo: "+n),t.Eu.add(r),I5(t))}function I5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new vt(jn.fromString(e)),r=t.fu.next();t.Au.set(r,new Ij(n)),t.du=t.du.insert(n,r),mI(t.remoteStore,new vl(qo(u5(n.path)),r,"TargetPurposeLimboResolution",Kg.ce))}}async function Ld(t,e,n){const r=Ot(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=g5.As(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=Ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ke.forEach(u,g=>ke.forEach(g.Es,m=>c.persistence.referenceDelegate.addReference(d,g.targetId,m)).next(()=>ke.forEach(g.ds,m=>c.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))}catch(d){if(!Sh(d))throw d;Ge(y5,"Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const m=c.Ms.get(g),b=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(b);c.Ms=c.Ms.insert(g,x)}}}(r.localStore,s))}async function jj(t,e){const n=Ot(t);if(!n.currentUser.isEqual(e)){Ge(A5,"User change. New user:",e.toKey());const r=await hI(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new $e(Ce.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(n,r.Ls)}}function Vj(t,e){const n=Ot(t),r=n.Au.get(e);if(r&&r.hu)return Qt().add(r.key);{let i=Qt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function PI(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dj.bind(null,e),e.Pu.H_=xj.bind(null,e.eventManager),e.Pu.yu=Sj.bind(null,e.eventManager),e}function Uj(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oj.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $F(this.persistence,new BF,e.initialUser,this.serializer)}Cu(e){return new cI(m5.mi,this.serializer)}Du(e){return new XF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class Bj extends ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dn(this.persistence.referenceDelegate instanceof ag,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new cI(r=>ag.mi(r,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Px(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jj.bind(null,this.syncEngine),await wj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bj}()}createDatastore(e){const n=n0(e.databaseInfo.databaseId),r=function(s){return new nj(s)}(e.databaseInfo);return function(s,o,a,l){return new oj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Px(this.syncEngine,n,0),function(){return Ax.v()?new Ax:new JF}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new Nj(i,s,o,a,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ot(i);Ge(Mu,"RemoteStore shutting down."),s.Ea.add(5),await Rd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="FirestoreClient";class zj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=r5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(Hl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Hl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g1(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(Hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qj(t);Ge(Hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nx(e.remoteStore,i)),t._onlineComponents=e}async function qj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(Hl,"Using user provided OfflineComponentProvider");try{await g1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ih("Error using user provided cache. Falling back to memory cache: "+n),await g1(t,new ug)}}else Ge(Hl,"Using default OfflineComponentProvider"),await g1(t,new Bj(void 0));return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(Hl,"Using user provided OnlineComponentProvider"),await Lx(t,t._uninitializedComponentsProvider._online)):(Ge(Hl,"Using default OnlineComponentProvider"),await Lx(t,new py))),t._onlineComponents}function $j(t){return LI(t).then(e=>e.syncEngine)}async function DI(t){const e=await LI(t),n=e.eventManager;return n.onListen=Tj.bind(null,e.syncEngine),n.onUnlisten=Pj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rj.bind(null,e.syncEngine),n}function Hj(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new RI({next:g=>{c.Nu(),o.enqueueAndForget(()=>xI(s,d));const m=g.docs.has(a);!m&&g.fromCache?u.reject(new $e(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?u.reject(new $e(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new SI(u5(a.path),c,{includeMetadataChanges:!0,qa:!0});return bI(s,d)}(await DI(t),t.asyncQueue,e,n,r)),r.promise}function Wj(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new RI({next:g=>{c.Nu(),o.enqueueAndForget(()=>xI(s,d)),g.fromCache&&l.source==="server"?u.reject(new $e(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new SI(a,c,{includeMetadataChanges:!0,qa:!0});return bI(s,d)}(await DI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firestore.googleapis.com",Mx=!0;class Ox{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OI,this.ssl=Mx}else this.host=e.host,this.ssl=e.ssl??Mx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EF)throw new $e(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JO;switch(r.type){case"firstParty":return new n9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dx.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),Dx.delete(n),r.terminate())}(this),Promise.resolve()}}function Gj(t,e,n,r={}){var u;t=Vl(t,s0);const i=vh(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(iA(`https://${a}`),sA("Firestore",!0)),s.host!==OI&&s.host!==a&&ih("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!jl(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=xi.MOCK_USER;else{c=eL(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $e(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xi(g)}t._authCredentials=new ZO(new w6(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yu(this.firestore,e,this._query)}}class Er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}toJSON(){return{type:Er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cd(n,Er._jsonSchema))return new Er(e,r||null,new vt(jn.fromString(n.referencePath)))}}Er._jsonSchemaVersion="firestore/documentReference/1.0",Er._jsonSchema={type:Sr("string",Er._jsonSchemaVersion),referencePath:Sr("string")};class Rl extends Yu{constructor(e,n,r){super(e,n,u5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new vt(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function hf(t,e,...n){if(t=ii(t),_6("collection","path",e),t instanceof s0){const r=jn.fromString(e,...n);return Yb(r),new Rl(t,null,r)}{if(!(t instanceof Er||t instanceof Rl))throw new $e(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return Yb(r),new Rl(t.firestore,null,r)}}function vs(t,e,...n){if(t=ii(t),arguments.length===1&&(e=r5.newId()),_6("doc","path",e),t instanceof s0){const r=jn.fromString(e,...n);return Kb(r),new Er(t,null,new vt(r))}{if(!(t instanceof Er||t instanceof Rl))throw new $e(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return Kb(r),new Er(t.firestore,t instanceof Rl?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="AsyncQueue";class jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dI(this,"async_queue_retry"),this._c=()=>{const r=m1();r&&Ge(Fx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=m1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=m1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ia;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sh(e))throw e;Ge(Fx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Da("INTERNAL UNHANDLED ERROR: ",Vx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=x5.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&At(47125,{Pc:Vx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Vx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Dd extends s0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function Kj(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:ng,i=$u(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=J8("firestore");s&&Gj(i,...s)}return i}function N5(t){if(t._terminated)throw new $e(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yj(t),t._firestoreClient}function Yj(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,c){return new w9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(si.fromBase64String(e))}catch(n){throw new $e(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,qs._jsonSchema))return qs.fromBase64String(e.bytes)}}qs._jsonSchemaVersion="firestore/bytes/1.0",qs._jsonSchema={type:Sr("string",qs._jsonSchemaVersion),bytes:Sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:Sr("string",Wo._jsonSchemaVersion),latitude:Sr("number"),longitude:Sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,Go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Go(e.vectorValues);throw new $e(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Go._jsonSchemaVersion="firestore/vectorValue/1.0",Go._jsonSchema={type:Sr("string",Go._jsonSchemaVersion),vectorValues:Sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=/^__.*__$/;class Xj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}function FI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:t})}}class k5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new k5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FI(this.Ac)&&Qj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||n0(e)}Cc(e,n,r,i=!1){return new k5({Ac:e,methodName:n,Dc:r,path:ti.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P5(t){const e=t._freezeSettings(),n=n0(t._databaseId);return new Jj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);BI("Data must be an object, but it was:",o,r);const a=VI(r,o);let l,u;if(s.merge)l=new ho(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const g=eV(e,d,n);if(!o.contains(g))throw new $e(Ce.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);nV(c,g)||c.push(g)}l=new ho(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Xj(new zs(a),l,u)}class R5 extends C5{_toFieldTransform(e){return new $9(e.path,new od)}isEqual(e){return e instanceof R5}}function Zj(t,e,n,r=!1){return L5(n,t.Cc(r?4:3,e))}function L5(t,e){if(UI(t=ii(t)))return BI("Unsupported field value:",e,t),VI(t,e);if(t instanceof C5)return function(r,i){if(!FI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=L5(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qn.fromDate(r);return{timestampValue:og(i.serializer,s)}}if(r instanceof qn){const s=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:og(i.serializer,s)}}if(r instanceof Wo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:nI(i.serializer,r._byteString)};if(r instanceof Er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:d5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Go)return function(o,a){return{mapValue:{fields:{[C6]:{stringValue:P6},[rg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return c5(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Gg(r)}`)}(t,e)}function VI(t,e){const n={};return S6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(t,(r,i)=>{const s=L5(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof Wo||t instanceof qs||t instanceof Er||t instanceof C5||t instanceof Go)}function BI(t,e,n){if(!UI(n)||!b6(n)){const r=Gg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eV(t,e,n){if((e=ii(e))instanceof T5)return e._internalPath;if(typeof e=="string")return zI(t,e);throw cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const tV=new RegExp("[~\\*/\\[\\]]");function zI(t,e,n){if(e.search(tV)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new T5(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $e(Ce.INVALID_ARGUMENT,a+t+l)}function nV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rV extends qI{data(){return super.data()}}function D5(t,e){return typeof e=="string"?zI(t,e):e instanceof T5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M5{}class $I extends M5{}function um(t,e,...n){let r=[];e instanceof M5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof F5).length,a=s.filter(l=>l instanceof O5).length;if(o>1||o>0&&a>0)throw new $e(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class O5 extends $I{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O5(e,n,r)}_apply(e){const n=this._parse(e);return HI(e._query,n),new Yu(e.firestore,e.converter,iy(e._query,n))}_parse(e){const n=P5(e.firestore);return function(s,o,a,l,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $e(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Bx(d,c);const b=[];for(const x of d)b.push(Ux(l,s,x));g={arrayValue:{values:b}}}else g=Ux(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Bx(d,c),g=Zj(a,o,d,c==="in"||c==="not-in");return xr.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class F5 extends M5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)HI(o,l),o=iy(o,l)}(e._query,n),new Yu(e.firestore,e.converter,iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j5 extends $I{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(s,o)}(e._query,this._field,this._direction);return new Yu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Eh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function my(t,e="asc"){const n=e,r=D5("orderBy",t);return j5._create(r,n)}function Ux(t,e,n){if(typeof(n=ii(n))=="string"){if(n==="")throw new $e(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V6(e)&&n.indexOf("/")!==-1)throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jn.fromString(n));if(!vt.isDocumentKey(r))throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rx(t,new vt(r))}if(n instanceof Er)return rx(t,n._key);throw new $e(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(n)}.`)}function Bx(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sV{convertValue(e,n="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[rg].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>mr(o.doubleValue));return new Go(n)}convertGeoPoint(e){return new Wo(mr(e.latitude),mr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const n=Bl(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jn.fromString(e);dn(lI(r),9688,{name:e});const i=new rd(r.get(1),r.get(3)),s=new vt(r.popFirst(5));return i.isEqual(n)||Da(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends qI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eu._jsonSchema={type:Sr("string",Eu._jsonSchemaVersion),bundleSource:Sr("string","DocumentSnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class cm extends Eu{data(e={}){return super.data(e)}}class qc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ff(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:oV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){t=Vl(t,Er);const e=Vl(t.firestore,Dd);return Hj(N5(e),t._key).then(n=>lV(e,t,n))}qc._jsonSchemaVersion="firestore/querySnapshot/1.0",qc._jsonSchema={type:Sr("string",qc._jsonSchemaVersion),bundleSource:Sr("string","QuerySnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class GI extends sV{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function hm(t){t=Vl(t,Yu);const e=Vl(t.firestore,Dd),n=N5(e),r=new GI(e);return iV(t._query),Wj(n,t._query).then(i=>new qc(e,r,t,i))}function fg(t,e,n){t=Vl(t,Er);const r=Vl(t.firestore,Dd),i=WI(t.converter,e,n);return KI(r,[jI(P5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$o.none())])}function aV(t,e){const n=Vl(t.firestore,Dd),r=vs(t),i=WI(t.converter,e);return KI(n,[jI(P5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$o.exists(!1))]).then(()=>r)}function KI(t,e){return function(r,i){const s=new Ia;return r.asyncQueue.enqueueAndForget(async()=>Lj(await $j(r),i,s)),s.promise}(N5(t),e)}function lV(t,e,n){const r=n.docs.get(e._key),i=new GI(t);return new Eu(t,i,e._key,r,new ff(n.hasPendingWrites,n.fromCache),e.converter)}function fm(){return new R5("serverTimestamp")}(function(e,n=!0){(function(i){bh=i})(wh),Xo(new yo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Dd(new e9(r.getProvider("auth-internal")),new r9(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(u.options.projectId,c)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gs($b,Hb,e),Gs($b,Hb,"esm2020")})();const uV={apiKey:"AIzaSyAKmov65RyCUPvvQU86_tIjRQeGQTchF3A",authDomain:"taximetro-a1014.firebaseapp.com",projectId:"taximetro-a1014",storageBucket:"taximetro-a1014.firebasestorage.app",messagingSenderId:"496806402421",appId:"1:496806402421:web:3795360104d3f040f55b3c",measurementId:"G-WF0JHFK64L"},V5=fA(uV);WD(V5);const Ki=QO(V5),Vs=Kj(V5),cV=new va;function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}var wo=Uint8Array,_s=Uint16Array,U5=Int32Array,B5=new wo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z5=new wo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zx=new wo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YI=function(t,e){for(var n=new _s(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new U5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},QI=YI(B5,2),hV=QI.b,gy=QI.r;hV[28]=258,gy[258]=28;var fV=YI(z5,0),qx=fV.r,yy=new _s(32768);for(var $n=0;$n<32768;++$n){var ol=($n&43690)>>1|($n&21845)<<1;ol=(ol&52428)>>2|(ol&13107)<<2,ol=(ol&61680)>>4|(ol&3855)<<4,yy[$n]=((ol&65280)>>8|(ol&255)<<8)>>1}var kf=function(t,e,n){for(var r=t.length,i=0,s=new _s(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new _s(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new _s(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[yy[d]>>l]=u}else for(a=new _s(r),i=0;i<r;++i)t[i]&&(a[i]=yy[o[t[i]-1]++]>>15-t[i]);return a},Ou=new wo(288);for(var $n=0;$n<144;++$n)Ou[$n]=8;for(var $n=144;$n<256;++$n)Ou[$n]=9;for(var $n=256;$n<280;++$n)Ou[$n]=7;for(var $n=280;$n<288;++$n)Ou[$n]=8;var dg=new wo(32);for(var $n=0;$n<32;++$n)dg[$n]=5;var dV=kf(Ou,9,0),pV=kf(dg,5,0),XI=function(t){return(t+7)/8|0},mV=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new wo(t.subarray(e,n))},fa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Zh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},y1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:ZI,l:0};if(i==1){var o=new wo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Q,te){return Q.f-te.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new _s(g+1),b=vy(n[c-1],m,0);if(b>e){var r=0,x=0,k=b-e,_=1<<k;for(s.sort(function(te,j){return m[j.s]-m[te.s]||te.f-j.f});r<i;++r){var A=s[r].s;if(m[A]>e)x+=_-(1<<b-m[A]),m[A]=e;else break}for(x>>=k;x>0;){var I=s[r].s;m[I]<e?x-=1<<e-m[I]++-1:++r}for(;r>=0&&x;--r){var O=s[r].s;m[O]==e&&(--m[O],++x)}b=e}return{t:new wo(m),l:b}},vy=function(t,e,n){return t.s==-1?Math.max(vy(t.l,e,n+1),vy(t.r,e,n+1)):e[t.s]=n},$x=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new _s(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},ef=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},JI=function(t,e,n){var r=n.length,i=XI(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Hx=function(t,e,n,r,i,s,o,a,l,u,c){fa(e,c++,n),++i[256];for(var d=y1(i,15),g=d.t,m=d.l,b=y1(s,15),x=b.t,k=b.l,_=$x(g),A=_.c,I=_.n,O=$x(x),Q=O.c,te=O.n,j=new _s(19),C=0;C<A.length;++C)++j[A[C]&31];for(var C=0;C<Q.length;++C)++j[Q[C]&31];for(var N=y1(j,7),F=N.t,S=N.l,P=19;P>4&&!F[zx[P-1]];--P);var R=u+5<<3,X=ef(i,Ou)+ef(s,dg)+o,ue=ef(i,g)+ef(s,x)+o+14+3*P+ef(j,F)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&R<=X&&R<=ue)return JI(e,c,t.subarray(l,l+u));var ge,ye,Z,ce;if(fa(e,c,1+(ue<X)),c+=2,ue<X){ge=kf(g,m,0),ye=g,Z=kf(x,k,0),ce=x;var _e=kf(F,S,0);fa(e,c,I-257),fa(e,c+5,te-1),fa(e,c+10,P-4),c+=14;for(var C=0;C<P;++C)fa(e,c+3*C,F[zx[C]]);c+=3*P;for(var be=[A,Q],V=0;V<2;++V)for(var W=be[V],C=0;C<W.length;++C){var J=W[C]&31;fa(e,c,_e[J]),c+=F[J],J>15&&(fa(e,c,W[C]>>5&127),c+=W[C]>>12)}}else ge=dV,ye=Ou,Z=pV,ce=dg;for(var C=0;C<a;++C){var ne=r[C];if(ne>255){var J=ne>>18&31;Zh(e,c,ge[J+257]),c+=ye[J+257],J>7&&(fa(e,c,ne>>23&31),c+=B5[J]);var ie=ne&31;Zh(e,c,Z[ie]),c+=ce[ie],ie>3&&(Zh(e,c,ne>>5&8191),c+=z5[ie])}else Zh(e,c,ge[ne]),c+=ye[ne]}return Zh(e,c,ge[256]),c+ye[256]},gV=new U5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZI=new wo(0),yV=function(t,e,n,r,i,s){var o=s.z||t.length,a=new wo(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=gV[e-1],g=d>>13,m=d&8191,b=(1<<n)-1,x=s.p||new _s(32768),k=s.h||new _s(b+1),_=Math.ceil(n/3),A=2*_,I=function(ot){return(t[ot]^t[ot+1]<<_^t[ot+2]<<A)&b},O=new U5(25e3),Q=new _s(288),te=new _s(32),j=0,C=0,N=s.i||0,F=0,S=s.w||0,P=0;N+2<o;++N){var R=I(N),X=N&32767,ue=k[R];if(x[X]=ue,k[R]=X,S<=N){var ge=o-N;if((j>7e3||F>24576)&&(ge>423||!u)){c=Hx(t,l,0,O,Q,te,C,F,P,N-P,c),F=j=C=0,P=N;for(var ye=0;ye<286;++ye)Q[ye]=0;for(var ye=0;ye<30;++ye)te[ye]=0}var Z=2,ce=0,_e=m,be=X-ue&32767;if(ge>2&&R==I(N-be))for(var V=Math.min(g,ge)-1,W=Math.min(32767,N),J=Math.min(258,ge);be<=W&&--_e&&X!=ue;){if(t[N+Z]==t[N+Z-be]){for(var ne=0;ne<J&&t[N+ne]==t[N+ne-be];++ne);if(ne>Z){if(Z=ne,ce=be,ne>V)break;for(var ie=Math.min(be,ne-2),ae=0,ye=0;ye<ie;++ye){var ve=N-be+ye&32767,we=x[ve],Ie=ve-we&32767;Ie>ae&&(ae=Ie,ue=ve)}}}X=ue,ue=x[X],be+=X-ue&32767}if(ce){O[F++]=268435456|gy[Z]<<18|qx[ce];var De=gy[Z]&31,ze=qx[ce]&31;C+=B5[De]+z5[ze],++Q[257+De],++te[ze],S=N+Z,++j}else O[F++]=t[N],++Q[t[N]]}}for(N=Math.max(N,S);N<o;++N)O[F++]=t[N],++Q[t[N]];c=Hx(t,l,u,O,Q,te,C,F,P,N-P,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=k,s.p=x,s.i=N,s.w=S)}else{for(var N=s.w||0;N<o+u;N+=65535){var Ve=N+65535;Ve>=o&&(l[c/8|0]=u,Ve=o),c=JI(l,c+1,t.subarray(N,Ve))}s.i=o}return mV(a,0,r+XI(c)+i)},eN=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},vV=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new wo(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return yV(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},tN=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},wV=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=eN();i.p(e.dictionary),tN(t,2,i.d())}};function wy(t,e){e||(e={});var n=eN();n.p(t);var r=vV(t,e,e.dictionary?6:2,4);return wV(r,e),tN(r,r.length-4,n.d()),r}var _V=typeof TextDecoder<"u"&&new TextDecoder,bV=0;try{_V.decode(ZI,{stream:!0}),bV=1}catch{}function xV(t){if(Array.isArray(t))return t}function SV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function EV(t,e){if(t){if(typeof t=="string")return Wx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wx(t,e):void 0}}function AV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gx(t,e){return xV(t)||SV(t,e)||EV(t,e)||AV()}function Kx(t,e="utf8"){return new TextDecoder(e).decode(t)}const IV=new TextEncoder;function NV(t){return IV.encode(t)}const TV=1024*8,CV=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),v1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q5{constructor(e=TV,n={}){wn(this,"buffer");wn(this,"byteLength");wn(this,"byteOffset");wn(this,"length");wn(this,"offset");wn(this,"lastWrittenByte");wn(this,"littleEndian");wn(this,"_data");wn(this,"_mark");wn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof q5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=v1[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===CV&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new v1[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new v1[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Kx(this.readBytes(e))}decodeText(e=1,n="utf8"){return Kx(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(NV(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const kV=4,Yx=0,Qx=1,PV=2;function Ih(t){let e=t.length;for(;--e>=0;)t[e]=0}const RV=0,nN=1,LV=2,DV=3,MV=258,$5=29,Md=256,ud=Md+1+$5,$c=30,H5=19,rN=2*ud+1,vu=15,w1=16,OV=7,W5=256,iN=16,sN=17,oN=18,_y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),dm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),FV=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),aN=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jV=512,ga=new Array((ud+2)*2);Ih(ga);const Pf=new Array($c*2);Ih(Pf);const cd=new Array(jV);Ih(cd);const hd=new Array(MV-DV+1);Ih(hd);const G5=new Array($5);Ih(G5);const pg=new Array($c);Ih(pg);function _1(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let lN,uN,cN;function b1(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const hN=t=>t<256?cd[t]:cd[256+(t>>>7)],fd=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Xi=(t,e,n)=>{t.bi_valid>w1-n?(t.bi_buf|=e<<t.bi_valid&65535,fd(t,t.bi_buf),t.bi_buf=e>>w1-t.bi_valid,t.bi_valid+=n-w1):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},jo=(t,e,n)=>{Xi(t,n[e*2],n[e*2+1])},fN=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},VV=t=>{t.bi_valid===16?(fd(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},UV=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,c,d,g,m,b,x=0;for(g=0;g<=vu;g++)t.bl_count[g]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<rN;u++)c=t.heap[u],g=n[n[c*2+1]*2+1]+1,g>l&&(g=l,x++),n[c*2+1]=g,!(c>r)&&(t.bl_count[g]++,m=0,c>=a&&(m=o[c-a]),b=n[c*2],t.opt_len+=b*(g+m),s&&(t.static_len+=b*(i[c*2+1]+m)));if(x!==0){do{for(g=l-1;t.bl_count[g]===0;)g--;t.bl_count[g]--,t.bl_count[g+1]+=2,t.bl_count[l]--,x-=2}while(x>0);for(g=l;g!==0;g--)for(c=t.bl_count[g];c!==0;)d=t.heap[--u],!(d>r)&&(n[d*2+1]!==g&&(t.opt_len+=(g-n[d*2+1])*n[d*2],n[d*2+1]=g),c--)}},dN=(t,e,n)=>{const r=new Array(vu+1);let i=0,s,o;for(s=1;s<=vu;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=fN(r[a]++,a))}},BV=()=>{let t,e,n,r,i;const s=new Array(vu+1);for(n=0,r=0;r<$5-1;r++)for(G5[r]=n,t=0;t<1<<_y[r];t++)hd[n++]=r;for(hd[n-1]=r,i=0,r=0;r<16;r++)for(pg[r]=i,t=0;t<1<<dm[r];t++)cd[i++]=r;for(i>>=7;r<$c;r++)for(pg[r]=i<<7,t=0;t<1<<dm[r]-7;t++)cd[256+i++]=r;for(e=0;e<=vu;e++)s[e]=0;for(t=0;t<=143;)ga[t*2+1]=8,t++,s[8]++;for(;t<=255;)ga[t*2+1]=9,t++,s[9]++;for(;t<=279;)ga[t*2+1]=7,t++,s[7]++;for(;t<=287;)ga[t*2+1]=8,t++,s[8]++;for(dN(ga,ud+1,s),t=0;t<$c;t++)Pf[t*2+1]=5,Pf[t*2]=fN(t,5);lN=new _1(ga,_y,Md+1,ud,vu),uN=new _1(Pf,dm,0,$c,vu),cN=new _1(new Array(0),FV,0,H5,OV)},pN=t=>{let e;for(e=0;e<ud;e++)t.dyn_ltree[e*2]=0;for(e=0;e<$c;e++)t.dyn_dtree[e*2]=0;for(e=0;e<H5;e++)t.bl_tree[e*2]=0;t.dyn_ltree[W5*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},mN=t=>{t.bi_valid>8?fd(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Xx=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},x1=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Xx(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Xx(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Jx=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?jo(t,i,e):(o=hd[i],jo(t,o+Md+1,e),a=_y[o],a!==0&&(i-=G5[o],Xi(t,i,a)),r--,o=hN(r),jo(t,o,n),a=dm[o],a!==0&&(r-=pg[o],Xi(t,r,a)));while(s<t.sym_next);jo(t,W5,e)},by=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,u;for(t.heap_len=0,t.heap_max=rN,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)x1(t,n,o);u=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],x1(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[u*2]=n[o*2]+n[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=u,t.heap[1]=u++,x1(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],UV(t,e),dN(n,l,t.bl_count)},Zx=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<u?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[iN*2]++):a<=10?t.bl_tree[sN*2]++:t.bl_tree[oN*2]++,a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4))},e4=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<u)do jo(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(jo(t,s,t.bl_tree),a--),jo(t,iN,t.bl_tree),Xi(t,a-3,2)):a<=10?(jo(t,sN,t.bl_tree),Xi(t,a-3,3)):(jo(t,oN,t.bl_tree),Xi(t,a-11,7));a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4)}},zV=t=>{let e;for(Zx(t,t.dyn_ltree,t.l_desc.max_code),Zx(t,t.dyn_dtree,t.d_desc.max_code),by(t,t.bl_desc),e=H5-1;e>=3&&t.bl_tree[aN[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},qV=(t,e,n,r)=>{let i;for(Xi(t,e-257,5),Xi(t,n-1,5),Xi(t,r-4,4),i=0;i<r;i++)Xi(t,t.bl_tree[aN[i]*2+1],3);e4(t,t.dyn_ltree,e-1),e4(t,t.dyn_dtree,n-1)},$V=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Yx;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Qx;for(n=32;n<Md;n++)if(t.dyn_ltree[n*2]!==0)return Qx;return Yx};let t4=!1;const HV=t=>{t4||(BV(),t4=!0),t.l_desc=new b1(t.dyn_ltree,lN),t.d_desc=new b1(t.dyn_dtree,uN),t.bl_desc=new b1(t.bl_tree,cN),t.bi_buf=0,t.bi_valid=0,pN(t)},gN=(t,e,n,r)=>{Xi(t,(RV<<1)+(r?1:0),3),mN(t),fd(t,n),fd(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},WV=t=>{Xi(t,nN<<1,3),jo(t,W5,ga),VV(t)},GV=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===PV&&(t.strm.data_type=$V(t)),by(t,t.l_desc),by(t,t.d_desc),o=zV(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?gN(t,e,n,r):t.strategy===kV||s===i?(Xi(t,(nN<<1)+(r?1:0),3),Jx(t,ga,Pf)):(Xi(t,(LV<<1)+(r?1:0),3),qV(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Jx(t,t.dyn_ltree,t.dyn_dtree)),pN(t),r&&mN(t)},KV=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(hd[n]+Md+1)*2]++,t.dyn_dtree[hN(e)*2]++),t.sym_next===t.sym_end);var YV=HV,QV=gN,XV=GV,JV=KV,ZV=WV,eU={_tr_init:YV,_tr_stored_block:QV,_tr_flush_block:XV,_tr_tally:JV,_tr_align:ZV};const tU=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var dd=tU;const nU=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},rU=new Uint32Array(nU()),iU=(t,e,n,r)=>{const i=rU,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Vr=iU,ch={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Od={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:sU,_tr_stored_block:xy,_tr_flush_block:oU,_tr_tally:Ll,_tr_align:aU}=eU,{Z_NO_FLUSH:Dl,Z_PARTIAL_FLUSH:lU,Z_FULL_FLUSH:uU,Z_FINISH:$s,Z_BLOCK:n4,Z_OK:Zr,Z_STREAM_END:r4,Z_STREAM_ERROR:Ko,Z_DATA_ERROR:cU,Z_BUF_ERROR:S1,Z_DEFAULT_COMPRESSION:hU,Z_FILTERED:fU,Z_HUFFMAN_ONLY:Cp,Z_RLE:dU,Z_FIXED:pU,Z_DEFAULT_STRATEGY:mU,Z_UNKNOWN:gU,Z_DEFLATED:o0}=Od,yU=9,vU=15,wU=8,_U=29,bU=256,Sy=bU+1+_U,xU=30,SU=19,EU=2*Sy+1,AU=15,Zt=3,wl=258,Yo=wl+Zt+1,IU=32,hh=42,K5=57,Ey=69,Ay=73,Iy=91,Ny=103,wu=113,df=666,Fi=1,Nh=2,Fu=3,Th=4,NU=3,_u=(t,e)=>(t.msg=ch[e],e),i4=t=>t*2-(t>4?9:0),ml=t=>{let e=t.length;for(;--e>=0;)t[e]=0},TU=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let CU=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Ml=CU;const gs=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},bs=(t,e)=>{oU(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,gs(t.strm)},hn=(t,e)=>{t.pending_buf[t.pending++]=e},tf=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Ty=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=dd(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Vr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},yN=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Yo?t.strstart-(t.w_size-Yo):0,u=t.window,c=t.w_mask,d=t.prev,g=t.strstart+wl;let m=u[r+o-1],b=u[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==b||u[i+o-1]!==m||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<g);if(s=wl-(g-r),r=g-wl,s>o){if(t.match_start=e,o=s,s>=a)break;m=u[r+o-1],b=u[r+o]}}while((e=d[e&c])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},fh=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Yo)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),TU(t),r+=e),t.strm.avail_in===0)break;if(n=Ty(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Zt)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Ml(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Ml(t,t.ins_h,t.window[i+Zt-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Zt)););}while(t.lookahead<Yo&&t.strm.avail_in!==0)},vN=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==$s||e===Dl||r!==i+t.strm.avail_in)))break;o=e===$s&&r===i+t.strm.avail_in?1:0,xy(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,gs(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Ty(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Th:e!==Dl&&e!==$s&&t.strm.avail_in===0&&t.strstart===t.block_start?Nh:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(Ty(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===$s)&&e!==Dl&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===$s&&t.strm.avail_in===0&&r===i?1:0,xy(t,t.block_start,r,o),t.block_start+=r,gs(t.strm)),o?Fu:Fi)},E1=(t,e)=>{let n,r;for(;;){if(t.lookahead<Yo){if(fh(t),t.lookahead<Yo&&e===Dl)return Fi;if(t.lookahead===0)break}if(n=0,t.lookahead>=Zt&&(t.ins_h=Ml(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Yo&&(t.match_length=yN(t,n)),t.match_length>=Zt)if(r=Ll(t,t.strstart-t.match_start,t.match_length-Zt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Zt){t.match_length--;do t.strstart++,t.ins_h=Ml(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ml(t,t.ins_h,t.window[t.strstart+1]);else r=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(bs(t,!1),t.strm.avail_out===0))return Fi}return t.insert=t.strstart<Zt-1?t.strstart:Zt-1,e===$s?(bs(t,!0),t.strm.avail_out===0?Fu:Th):t.sym_next&&(bs(t,!1),t.strm.avail_out===0)?Fi:Nh},lc=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Yo){if(fh(t),t.lookahead<Yo&&e===Dl)return Fi;if(t.lookahead===0)break}if(n=0,t.lookahead>=Zt&&(t.ins_h=Ml(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Zt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Yo&&(t.match_length=yN(t,n),t.match_length<=5&&(t.strategy===fU||t.match_length===Zt&&t.strstart-t.match_start>4096)&&(t.match_length=Zt-1)),t.prev_length>=Zt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Zt,r=Ll(t,t.strstart-1-t.prev_match,t.prev_length-Zt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Ml(t,t.ins_h,t.window[t.strstart+Zt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Zt-1,t.strstart++,r&&(bs(t,!1),t.strm.avail_out===0))return Fi}else if(t.match_available){if(r=Ll(t,0,t.window[t.strstart-1]),r&&bs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Fi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Ll(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Zt-1?t.strstart:Zt-1,e===$s?(bs(t,!0),t.strm.avail_out===0?Fu:Th):t.sym_next&&(bs(t,!1),t.strm.avail_out===0)?Fi:Nh},kU=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=wl){if(fh(t),t.lookahead<=wl&&e===Dl)return Fi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Zt&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+wl;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=wl-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Zt?(n=Ll(t,1,t.match_length-Zt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(bs(t,!1),t.strm.avail_out===0))return Fi}return t.insert=0,e===$s?(bs(t,!0),t.strm.avail_out===0?Fu:Th):t.sym_next&&(bs(t,!1),t.strm.avail_out===0)?Fi:Nh},PU=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(fh(t),t.lookahead===0)){if(e===Dl)return Fi;break}if(t.match_length=0,n=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(bs(t,!1),t.strm.avail_out===0))return Fi}return t.insert=0,e===$s?(bs(t,!0),t.strm.avail_out===0?Fu:Th):t.sym_next&&(bs(t,!1),t.strm.avail_out===0)?Fi:Nh};function Lo(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const pf=[new Lo(0,0,0,0,vN),new Lo(4,4,8,4,E1),new Lo(4,5,16,8,E1),new Lo(4,6,32,32,E1),new Lo(4,4,16,16,lc),new Lo(8,16,32,32,lc),new Lo(8,16,128,128,lc),new Lo(8,32,128,256,lc),new Lo(32,128,258,1024,lc),new Lo(32,258,258,4096,lc)],RU=t=>{t.window_size=2*t.w_size,ml(t.head),t.max_lazy_match=pf[t.level].max_lazy,t.good_match=pf[t.level].good_length,t.nice_match=pf[t.level].nice_length,t.max_chain_length=pf[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Zt-1,t.match_available=0,t.ins_h=0};function LU(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=o0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(EU*2),this.dyn_dtree=new Uint16Array((2*xU+1)*2),this.bl_tree=new Uint16Array((2*SU+1)*2),ml(this.dyn_ltree),ml(this.dyn_dtree),ml(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(AU+1),this.heap=new Uint16Array(2*Sy+1),ml(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Sy+1),ml(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==hh&&e.status!==K5&&e.status!==Ey&&e.status!==Ay&&e.status!==Iy&&e.status!==Ny&&e.status!==wu&&e.status!==df?1:0},wN=t=>{if(Fd(t))return _u(t,Ko);t.total_in=t.total_out=0,t.data_type=gU;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?K5:e.wrap?hh:wu,t.adler=e.wrap===2?0:1,e.last_flush=-2,sU(e),Zr},_N=t=>{const e=wN(t);return e===Zr&&RU(t.state),e},DU=(t,e)=>Fd(t)||t.state.wrap!==2?Ko:(t.state.gzhead=e,Zr),bN=(t,e,n,r,i,s)=>{if(!t)return Ko;let o=1;if(e===hU&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>yU||n!==o0||r<8||r>15||e<0||e>9||s<0||s>pU||r===8&&o!==1)return _u(t,Ko);r===8&&(r=9);const a=new LU;return t.state=a,a.strm=t,a.status=hh,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Zt-1)/Zt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,_N(t)},MU=(t,e)=>bN(t,e,o0,vU,wU,mU),OU=(t,e)=>{if(Fd(t)||e>n4||e<0)return t?_u(t,Ko):Ko;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===df&&e!==$s)return _u(t,t.avail_out===0?S1:Ko);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(gs(t),t.avail_out===0)return n.last_flush=-1,Zr}else if(t.avail_in===0&&i4(e)<=i4(r)&&e!==$s)return _u(t,S1);if(n.status===df&&t.avail_in!==0)return _u(t,S1);if(n.status===hh&&n.wrap===0&&(n.status=wu),n.status===hh){let i=o0+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Cp||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=IU),i+=31-i%31,tf(n,i),n.strstart!==0&&(tf(n,t.adler>>>16),tf(n,t.adler&65535)),t.adler=1,n.status=wu,gs(t),n.pending!==0)return n.last_flush=-1,Zr}if(n.status===K5){if(t.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=Cp||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Vr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Ey;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=Cp||n.level<2?4:0),hn(n,NU),n.status=wu,gs(t),n.pending!==0)return n.last_flush=-1,Zr}if(n.status===Ey){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,gs(t),n.pending!==0)return n.last_flush=-1,Zr;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Ay}if(n.status===Ay){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i)),gs(t),n.pending!==0)return n.last_flush=-1,Zr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Iy}if(n.status===Iy){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i)),gs(t),n.pending!==0)return n.last_flush=-1,Zr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Vr(t.adler,n.pending_buf,n.pending-i,i))}n.status=Ny}if(n.status===Ny){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(gs(t),n.pending!==0))return n.last_flush=-1,Zr;hn(n,t.adler&255),hn(n,t.adler>>8&255),t.adler=0}if(n.status=wu,gs(t),n.pending!==0)return n.last_flush=-1,Zr}if(t.avail_in!==0||n.lookahead!==0||e!==Dl&&n.status!==df){let i=n.level===0?vN(n,e):n.strategy===Cp?PU(n,e):n.strategy===dU?kU(n,e):pf[n.level].func(n,e);if((i===Fu||i===Th)&&(n.status=df),i===Fi||i===Fu)return t.avail_out===0&&(n.last_flush=-1),Zr;if(i===Nh&&(e===lU?aU(n):e!==n4&&(xy(n,0,0,!1),e===uU&&(ml(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),gs(t),t.avail_out===0))return n.last_flush=-1,Zr}return e!==$s?Zr:n.wrap<=0?r4:(n.wrap===2?(hn(n,t.adler&255),hn(n,t.adler>>8&255),hn(n,t.adler>>16&255),hn(n,t.adler>>24&255),hn(n,t.total_in&255),hn(n,t.total_in>>8&255),hn(n,t.total_in>>16&255),hn(n,t.total_in>>24&255)):(tf(n,t.adler>>>16),tf(n,t.adler&65535)),gs(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Zr:r4)},FU=t=>{if(Fd(t))return Ko;const e=t.state.status;return t.state=null,e===wu?_u(t,cU):Zr},jU=(t,e)=>{let n=e.length;if(Fd(t))return Ko;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==hh||r.lookahead)return Ko;if(i===1&&(t.adler=dd(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ml(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,fh(r);r.lookahead>=Zt;){let l=r.strstart,u=r.lookahead-(Zt-1);do r.ins_h=Ml(r,r.ins_h,r.window[l+Zt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Zt-1,fh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Zt-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,Zr};var VU=MU,UU=bN,BU=_N,zU=wN,qU=DU,$U=OU,HU=FU,WU=jU,GU="pako deflate (from Nodeca project)",Rf={deflateInit:VU,deflateInit2:UU,deflateReset:BU,deflateResetKeep:zU,deflateSetHeader:qU,deflate:$U,deflateEnd:HU,deflateSetDictionary:WU,deflateInfo:GU};const KU=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var YU=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)KU(n,r)&&(t[r]=n[r])}}return t},QU=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},a0={assign:YU,flattenChunks:QU};let xN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xN=!1}const pd=new Uint8Array(256);for(let t=0;t<256;t++)pd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;pd[254]=pd[254]=1;var XU=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const JU=(t,e)=>{if(e<65534&&t.subarray&&xN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var ZU=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=pd[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return JU(s,i)},eB=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+pd[t[n]]>e?n:e},md={string2buf:XU,buf2string:ZU,utf8border:eB};function tB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SN=tB;const EN=Object.prototype.toString,{Z_NO_FLUSH:nB,Z_SYNC_FLUSH:rB,Z_FULL_FLUSH:iB,Z_FINISH:sB,Z_OK:mg,Z_STREAM_END:oB,Z_DEFAULT_COMPRESSION:aB,Z_DEFAULT_STRATEGY:lB,Z_DEFLATED:uB}=Od;function Y5(t){this.options=a0.assign({level:aB,method:uB,chunkSize:16384,windowBits:15,memLevel:8,strategy:lB},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SN,this.strm.avail_out=0;let n=Rf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==mg)throw new Error(ch[n]);if(e.header&&Rf.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=md.string2buf(e.dictionary):EN.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Rf.deflateSetDictionary(this.strm,r),n!==mg)throw new Error(ch[n]);this._dict_set=!0}}Y5.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?sB:nB,typeof t=="string"?n.input=md.string2buf(t):EN.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===rB||s===iB)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Rf.deflate(n,s),i===oB)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Rf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===mg;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Y5.prototype.onData=function(t){this.chunks.push(t)};Y5.prototype.onEnd=function(t){t===mg&&(this.result=a0.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const kp=16209,cB=16191;var hB=function(e,n){let r,i,s,o,a,l,u,c,d,g,m,b,x,k,_,A,I,O,Q,te,j,C,N,F;const S=e.state;r=e.next_in,N=e.input,i=r+(e.avail_in-5),s=e.next_out,F=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=S.dmax,u=S.wsize,c=S.whave,d=S.wnext,g=S.window,m=S.hold,b=S.bits,x=S.lencode,k=S.distcode,_=(1<<S.lenbits)-1,A=(1<<S.distbits)-1;e:do{b<15&&(m+=N[r++]<<b,b+=8,m+=N[r++]<<b,b+=8),I=x[m&_];t:for(;;){if(O=I>>>24,m>>>=O,b-=O,O=I>>>16&255,O===0)F[s++]=I&65535;else if(O&16){Q=I&65535,O&=15,O&&(b<O&&(m+=N[r++]<<b,b+=8),Q+=m&(1<<O)-1,m>>>=O,b-=O),b<15&&(m+=N[r++]<<b,b+=8,m+=N[r++]<<b,b+=8),I=k[m&A];n:for(;;){if(O=I>>>24,m>>>=O,b-=O,O=I>>>16&255,O&16){if(te=I&65535,O&=15,b<O&&(m+=N[r++]<<b,b+=8,b<O&&(m+=N[r++]<<b,b+=8)),te+=m&(1<<O)-1,te>l){e.msg="invalid distance too far back",S.mode=kp;break e}if(m>>>=O,b-=O,O=s-o,te>O){if(O=te-O,O>c&&S.sane){e.msg="invalid distance too far back",S.mode=kp;break e}if(j=0,C=g,d===0){if(j+=u-O,O<Q){Q-=O;do F[s++]=g[j++];while(--O);j=s-te,C=F}}else if(d<O){if(j+=u+d-O,O-=d,O<Q){Q-=O;do F[s++]=g[j++];while(--O);if(j=0,d<Q){O=d,Q-=O;do F[s++]=g[j++];while(--O);j=s-te,C=F}}}else if(j+=d-O,O<Q){Q-=O;do F[s++]=g[j++];while(--O);j=s-te,C=F}for(;Q>2;)F[s++]=C[j++],F[s++]=C[j++],F[s++]=C[j++],Q-=3;Q&&(F[s++]=C[j++],Q>1&&(F[s++]=C[j++]))}else{j=s-te;do F[s++]=F[j++],F[s++]=F[j++],F[s++]=F[j++],Q-=3;while(Q>2);Q&&(F[s++]=F[j++],Q>1&&(F[s++]=F[j++]))}}else if(O&64){e.msg="invalid distance code",S.mode=kp;break e}else{I=k[(I&65535)+(m&(1<<O)-1)];continue n}break}}else if(O&64)if(O&32){S.mode=cB;break e}else{e.msg="invalid literal/length code",S.mode=kp;break e}else{I=x[(I&65535)+(m&(1<<O)-1)];continue t}break}}while(r<i&&s<a);Q=b>>3,r-=Q,b-=Q<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),S.hold=m,S.bits=b};const uc=15,s4=852,o4=592,a4=0,A1=1,l4=2,fB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gB=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,c=0,d=0,g=0,m=0,b=0,x=0,k=0,_=0,A=0,I,O,Q,te,j,C=null,N;const F=new Uint16Array(uc+1),S=new Uint16Array(uc+1);let P=null,R,X,ue;for(u=0;u<=uc;u++)F[u]=0;for(c=0;c<r;c++)F[e[n+c]]++;for(m=l,g=uc;g>=1&&F[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<g&&F[d]===0;d++);for(m<d&&(m=d),k=1,u=1;u<=uc;u++)if(k<<=1,k-=F[u],k<0)return-1;if(k>0&&(t===a4||g!==1))return-1;for(S[1]=0,u=1;u<uc;u++)S[u+1]=S[u]+F[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[S[e[n+c]]++]=c);if(t===a4?(C=P=o,N=20):t===A1?(C=fB,P=dB,N=257):(C=pB,P=mB,N=0),A=0,c=0,u=d,j=s,b=m,x=0,Q=-1,_=1<<m,te=_-1,t===A1&&_>s4||t===l4&&_>o4)return 1;for(;;){R=u-x,o[c]+1<N?(X=0,ue=o[c]):o[c]>=N?(X=P[o[c]-N],ue=C[o[c]-N]):(X=96,ue=0),I=1<<u-x,O=1<<b,d=O;do O-=I,i[j+(A>>x)+O]=R<<24|X<<16|ue|0;while(O!==0);for(I=1<<u-1;A&I;)I>>=1;if(I!==0?(A&=I-1,A+=I):A=0,c++,--F[u]===0){if(u===g)break;u=e[n+o[c]]}if(u>m&&(A&te)!==Q){for(x===0&&(x=m),j+=d,b=u-x,k=1<<b;b+x<g&&(k-=F[b+x],!(k<=0));)b++,k<<=1;if(_+=1<<b,t===A1&&_>s4||t===l4&&_>o4)return 1;Q=A&te,i[Q]=m<<24|b<<16|j-s|0}}return A!==0&&(i[j+A]=u-x<<24|64<<16|0),a.bits=m,0};var Lf=gB;const yB=0,AN=1,IN=2,{Z_FINISH:u4,Z_BLOCK:vB,Z_TREES:Pp,Z_OK:ju,Z_STREAM_END:wB,Z_NEED_DICT:_B,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:NN,Z_MEM_ERROR:TN,Z_BUF_ERROR:bB,Z_DEFLATED:c4}=Od,l0=16180,h4=16181,f4=16182,d4=16183,p4=16184,m4=16185,g4=16186,y4=16187,v4=16188,w4=16189,gg=16190,da=16191,I1=16192,_4=16193,N1=16194,b4=16195,x4=16196,S4=16197,E4=16198,Rp=16199,Lp=16200,A4=16201,I4=16202,N4=16203,T4=16204,C4=16205,T1=16206,k4=16207,P4=16208,Wn=16209,CN=16210,kN=16211,xB=852,SB=592,EB=15,AB=EB,R4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function IB(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<l0||e.mode>kN?1:0},PN=t=>{if(Qu(t))return Qs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=l0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xB),e.distcode=e.distdyn=new Int32Array(SB),e.sane=1,e.back=-1,ju},RN=t=>{if(Qu(t))return Qs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,PN(t)},LN=(t,e)=>{let n;if(Qu(t))return Qs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,RN(t))},DN=(t,e)=>{if(!t)return Qs;const n=new IB;t.state=n,n.strm=t,n.window=null,n.mode=l0;const r=LN(t,e);return r!==ju&&(t.state=null),r},NB=t=>DN(t,AB);let L4=!0,C1,k1;const TB=t=>{if(L4){C1=new Int32Array(512),k1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Lf(AN,t.lens,0,288,C1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Lf(IN,t.lens,0,32,k1,0,t.work,{bits:5}),L4=!1}t.lencode=C1,t.lenbits=9,t.distcode=k1,t.distbits=5},MN=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},CB=(t,e)=>{let n,r,i,s,o,a,l,u,c,d,g,m,b,x,k=0,_,A,I,O,Q,te,j,C;const N=new Uint8Array(4);let F,S;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qu(t)||!t.output||!t.input&&t.avail_in!==0)return Qs;n=t.state,n.mode===da&&(n.mode=I1),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,d=a,g=l,C=ju;e:for(;;)switch(n.mode){case l0:if(n.wrap===0){n.mode=I1;break}for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=u&255,N[1]=u>>>8&255,n.check=Vr(n.check,N,2,0),u=0,c=0,n.mode=h4;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Wn;break}if((u&15)!==c4){t.msg="unknown compression method",n.mode=Wn;break}if(u>>>=4,c-=4,j=(u&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){t.msg="invalid window size",n.mode=Wn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?w4:da,u=0,c=0;break;case h4:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==c4){t.msg="unknown compression method",n.mode=Wn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Wn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Vr(n.check,N,2,0)),u=0,c=0,n.mode=f4;case f4:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,n.check=Vr(n.check,N,4,0)),u=0,c=0,n.mode=d4;case d4:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Vr(n.check,N,2,0)),u=0,c=0,n.mode=p4;case p4:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,n.check=Vr(n.check,N,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=m4;case m4:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+m),j)),n.flags&512&&n.wrap&4&&(n.check=Vr(n.check,r,m,s)),a-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=g4;case g4:if(n.flags&2048){if(a===0)break e;m=0;do j=r[s+m++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Vr(n.check,r,m,s)),a-=m,s+=m,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=y4;case y4:if(n.flags&4096){if(a===0)break e;m=0;do j=r[s+m++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Vr(n.check,r,m,s)),a-=m,s+=m,j)break e}else n.head&&(n.head.comment=null);n.mode=v4;case v4:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Wn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=da;break;case w4:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}t.adler=n.check=R4(u),u=0,c=0,n.mode=gg;case gg:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,_B;t.adler=n.check=1,n.mode=da;case da:if(e===vB||e===Pp)break e;case I1:if(n.last){u>>>=c&7,c-=c&7,n.mode=T1;break}for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=_4;break;case 1:if(TB(n),n.mode=Rp,e===Pp){u>>>=2,c-=2;break e}break;case 2:n.mode=x4;break;case 3:t.msg="invalid block type",n.mode=Wn}u>>>=2,c-=2;break;case _4:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Wn;break}if(n.length=u&65535,u=0,c=0,n.mode=N1,e===Pp)break e;case N1:n.mode=b4;case b4:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;i.set(r.subarray(s,s+m),o),a-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=da;break;case x4:for(;c<14;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Wn;break}n.have=0,n.mode=S4;case S4:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.lens[P[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},C=Lf(yB,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,C){t.msg="invalid code lengths set",n.mode=Wn;break}n.have=0,n.mode=E4;case E4:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[u&(1<<n.lenbits)-1],_=k>>>24,A=k>>>16&255,I=k&65535,!(_<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(I<16)u>>>=_,c-=_,n.lens[n.have++]=I;else{if(I===16){for(S=_+2;c<S;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(u>>>=_,c-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=Wn;break}j=n.lens[n.have-1],m=3+(u&3),u>>>=2,c-=2}else if(I===17){for(S=_+3;c<S;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=_,c-=_,j=0,m=3+(u&7),u>>>=3,c-=3}else{for(S=_+7;c<S;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=_,c-=_,j=0,m=11+(u&127),u>>>=7,c-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Wn;break}for(;m--;)n.lens[n.have++]=j}}if(n.mode===Wn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Wn;break}if(n.lenbits=9,F={bits:n.lenbits},C=Lf(AN,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,C){t.msg="invalid literal/lengths set",n.mode=Wn;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},C=Lf(IN,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,C){t.msg="invalid distances set",n.mode=Wn;break}if(n.mode=Rp,e===Pp)break e;case Rp:n.mode=Lp;case Lp:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,hB(t,g),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===da&&(n.back=-1);break}for(n.back=0;k=n.lencode[u&(1<<n.lenbits)-1],_=k>>>24,A=k>>>16&255,I=k&65535,!(_<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(A&&!(A&240)){for(O=_,Q=A,te=I;k=n.lencode[te+((u&(1<<O+Q)-1)>>O)],_=k>>>24,A=k>>>16&255,I=k&65535,!(O+_<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=O,c-=O,n.back+=O}if(u>>>=_,c-=_,n.back+=_,n.length=I,A===0){n.mode=C4;break}if(A&32){n.back=-1,n.mode=da;break}if(A&64){t.msg="invalid literal/length code",n.mode=Wn;break}n.extra=A&15,n.mode=A4;case A4:if(n.extra){for(S=n.extra;c<S;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=I4;case I4:for(;k=n.distcode[u&(1<<n.distbits)-1],_=k>>>24,A=k>>>16&255,I=k&65535,!(_<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(!(A&240)){for(O=_,Q=A,te=I;k=n.distcode[te+((u&(1<<O+Q)-1)>>O)],_=k>>>24,A=k>>>16&255,I=k&65535,!(O+_<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=O,c-=O,n.back+=O}if(u>>>=_,c-=_,n.back+=_,A&64){t.msg="invalid distance code",n.mode=Wn;break}n.offset=I,n.extra=A&15,n.mode=N4;case N4:if(n.extra){for(S=n.extra;c<S;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Wn;break}n.mode=T4;case T4:if(l===0)break e;if(m=g-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Wn;break}m>n.wnext?(m-=n.wnext,b=n.wsize-m):b=n.wnext-m,m>n.length&&(m=n.length),x=n.window}else x=i,b=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[o++]=x[b++];while(--m);n.length===0&&(n.mode=Lp);break;case C4:if(l===0)break e;i[o++]=n.length,l--,n.mode=Lp;break;case T1:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[s++]<<c,c+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Vr(n.check,i,g,o-g):dd(n.check,i,g,o-g)),g=l,n.wrap&4&&(n.flags?u:R4(u))!==n.check){t.msg="incorrect data check",n.mode=Wn;break}u=0,c=0}n.mode=k4;case k4:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Wn;break}u=0,c=0}n.mode=P4;case P4:C=wB;break e;case Wn:C=NN;break e;case CN:return TN;case kN:default:return Qs}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||g!==t.avail_out&&n.mode<Wn&&(n.mode<T1||e!==u4))&&MN(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Vr(n.check,i,g,t.next_out-g):dd(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===da?128:0)+(n.mode===Rp||n.mode===N1?256:0),(d===0&&g===0||e===u4)&&C===ju&&(C=bB),C},kB=t=>{if(Qu(t))return Qs;let e=t.state;return e.window&&(e.window=null),t.state=null,ju},PB=(t,e)=>{if(Qu(t))return Qs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ju):Qs},RB=(t,e)=>{const n=e.length;let r,i,s;return Qu(t)||(r=t.state,r.wrap!==0&&r.mode!==gg)?Qs:r.mode===gg&&(i=1,i=dd(i,e,n,0),i!==r.check)?NN:(s=MN(t,e,n,n),s?(r.mode=CN,TN):(r.havedict=1,ju))};var LB=RN,DB=LN,MB=PN,OB=NB,FB=DN,jB=CB,VB=kB,UB=PB,BB=RB,zB="pako inflate (from Nodeca project)",ya={inflateReset:LB,inflateReset2:DB,inflateResetKeep:MB,inflateInit:OB,inflateInit2:FB,inflate:jB,inflateEnd:VB,inflateGetHeader:UB,inflateSetDictionary:BB,inflateInfo:zB};function qB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $B=qB;const ON=Object.prototype.toString,{Z_NO_FLUSH:HB,Z_FINISH:WB,Z_OK:gd,Z_STREAM_END:P1,Z_NEED_DICT:R1,Z_STREAM_ERROR:GB,Z_DATA_ERROR:D4,Z_MEM_ERROR:KB}=Od;function jd(t){this.options=a0.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SN,this.strm.avail_out=0;let n=ya.inflateInit2(this.strm,e.windowBits);if(n!==gd)throw new Error(ch[n]);if(this.header=new $B,ya.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=md.string2buf(e.dictionary):ON.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ya.inflateSetDictionary(this.strm,e.dictionary),n!==gd)))throw new Error(ch[n])}jd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?WB:HB,ON.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ya.inflate(n,o),s===R1&&i&&(s=ya.inflateSetDictionary(n,i),s===gd?s=ya.inflate(n,o):s===D4&&(s=R1));n.avail_in>0&&s===P1&&n.state.wrap>0&&t[n.next_in]!==0;)ya.inflateReset(n),s=ya.inflate(n,o);switch(s){case GB:case D4:case R1:case KB:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===P1))if(this.options.to==="string"){let l=md.utf8border(n.output,n.next_out),u=n.next_out-l,c=md.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===gd&&a===0)){if(s===P1)return s=ya.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};jd.prototype.onData=function(t){this.chunks.push(t)};jd.prototype.onEnd=function(t){t===gd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a0.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Q5(t,e){const n=new jd(e);if(n.push(t),n.err)throw n.msg||ch[n.err];return n.result}function YB(t,e){return e=e||{},e.raw=!0,Q5(t,e)}var QB=jd,XB=Q5,JB=YB,ZB=Q5,ez=Od,tz={Inflate:QB,inflate:XB,inflateRaw:JB,ungzip:ZB,constants:ez};const{Inflate:nz,inflate:rz,inflateRaw:d$,ungzip:p$}=tz;var M4=nz,iz=rz;const FN=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;FN[t]=e}const O4=4294967295;function sz(t,e,n){let r=t;for(let i=0;i<n;i++)r=FN[(r^e[i])&255]^r>>>8;return r}function oz(t,e){return(sz(O4,t,e)^O4)>>>0}function F4(t,e,n){const r=t.readUint32(),i=oz(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function jN(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function VN(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function UN(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function BN(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function zN(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+az(e[s-i],n[s],n[s-i])&255}}function az(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function lz(t,e,n,r,i,s){switch(t){case 0:jN(e,n,i);break;case 1:VN(e,n,i,s);break;case 2:UN(e,n,r,i);break;case 3:BN(e,n,r,i,s);break;case 4:zN(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const uz=new Uint16Array([255]),cz=new Uint8Array(uz.buffer),hz=cz[0]===255;function fz(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const d=o[c],g=Math.ceil((n-d.x)/d.xStep),m=Math.ceil((r-d.y)/d.yStep);if(g<=0||m<=0)continue;const b=g*a,x=new Uint8Array(b);for(let k=0;k<m;k++){const _=e[u++],A=e.subarray(u,u+b);u+=b;const I=new Uint8Array(b);lz(_,A,I,x,b,a),x.set(I);for(let O=0;O<g;O++){const Q=d.x+O*d.xStep,te=d.y+k*d.yStep;if(!(Q>=n||te>=r))for(let j=0;j<a;j++)l[(te*n+Q)*a+j]=I[O*a+j]}}}if(s===16){const c=new Uint16Array(l.buffer);if(hz)for(let d=0;d<c.length;d++)c[d]=dz(c[d]);return c}else return l}function dz(t){return(t&255)<<8|t>>8&255}const pz=new Uint16Array([255]),mz=new Uint8Array(pz.buffer),gz=mz[0]===255,yz=new Uint8Array(0);function j4(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=yz,c=0,d,g;for(let m=0;m<r;m++){switch(d=e.subarray(c+1,c+1+a),g=l.subarray(m*a,(m+1)*a),e[c]){case 0:jN(d,g,a);break;case 1:VN(d,g,a,o);break;case 2:UN(d,g,u,a);break;case 3:BN(d,g,u,a,o);break;case 4:zN(d,g,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=a+1}if(s===16){const m=new Uint16Array(l.buffer);if(gz)for(let b=0;b<m.length;b++)m[b]=vz(m[b]);return m}else return l}function vz(t){return(t&255)<<8|t>>8&255}const pm=Uint8Array.of(137,80,78,71,13,10,26,10);function V4(t){if(!wz(t.readBytes(pm.length)))throw new Error("wrong PNG signature")}function wz(t){if(t.length<pm.length)return!1;for(let e=0;e<pm.length;e++)if(t[e]!==pm[e])return!1;return!0}const _z="tEXt",bz=0,qN=new TextDecoder("latin1");function xz(t){if(Ez(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Sz=/^[\u0000-\u00FF]*$/;function Ez(t){if(!Sz.test(t))throw new Error("invalid latin1 text")}function Az(t,e,n){const r=$N(e);t[r]=Iz(e,n-r.length-1)}function $N(t){for(t.mark();t.readByte()!==bz;);const e=t.offset;t.reset();const n=qN.decode(t.readBytes(e-t.offset-1));return t.skip(1),xz(n),n}function Iz(t,e){return qN.decode(t.readBytes(e))}const ms={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},L1={UNKNOWN:-1,DEFLATE:0},U4={UNKNOWN:-1,ADAPTIVE:0},D1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dp={NONE:0,BACKGROUND:1,PREVIOUS:2},M1={SOURCE:0,OVER:1};class Nz extends q5{constructor(n,r={}){super(n);wn(this,"_checkCrc");wn(this,"_inflator");wn(this,"_png");wn(this,"_apng");wn(this,"_end");wn(this,"_hasPalette");wn(this,"_palette");wn(this,"_hasTransparency");wn(this,"_transparency");wn(this,"_compressionMethod");wn(this,"_filterMethod");wn(this,"_interlaceMethod");wn(this,"_colorType");wn(this,"_isAnimated");wn(this,"_numberOfFrames");wn(this,"_numberOfPlays");wn(this,"_frames");wn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new M4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=L1.UNKNOWN,this._filterMethod=U4.UNKNOWN,this._interlaceMethod=D1.UNKNOWN,this._colorType=ms.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(V4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(V4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case _z:Az(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?F4(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?F4(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Tz(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case ms.GREYSCALE:i=1;break;case ms.TRUECOLOUR:i=3;break;case ms.INDEXED_COLOUR:i=1;break;case ms.GREYSCALE_ALPHA:i=2;break;case ms.TRUECOLOUR_ALPHA:i=4;break;case ms.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==L1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ms.GREYSCALE:case ms.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ms.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ms.UNKNOWN:case ms.GREYSCALE_ALPHA:case ms.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=$N(this),i=this.readUint8();if(i!==L1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:iz(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=j4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Dp.NONE:break;case Dp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Dp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case M1.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case M1.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const d=r.data[u+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:r.data[u+c],m=Math.floor(d*g+(1-d)*n.data[l+c]);n.data[l+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==U4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===D1.NO_INTERLACE)this._png.data=j4({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===D1.ADAM7)this._png.data=fz({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dp.NONE,blendOp:M1.SOURCE,data:n}),this._inflator=new M4,this._writingDataChunks=!1}}function Tz(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var B4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(B4||(B4={}));function Cz(t,e){return new Nz(t,e).decode()}var Nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O1(){Nt.console&&typeof Nt.console.log=="function"&&Nt.console.log.apply(Nt.console,arguments)}var Tn={log:O1,warn:function(t){Nt.console&&(typeof Nt.console.warn=="function"?Nt.console.warn.apply(Nt.console,arguments):O1.call(null,arguments))},error:function(t){Nt.console&&(typeof Nt.console.error=="function"?Nt.console.error.apply(Nt.console,arguments):O1(t))}};function F1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){cu(r.response,e,n)},r.onerror=function(){Tn.error("could not download file")},r.send()}function z4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Mp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cu=Nt.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Nt.URL||Nt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?z4(i.href)?F1(t,e,n):Mp(i,i.target="_blank"):Mp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Mp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(z4(t))F1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Mp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:_n(s)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return F1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Nt.HTMLElement)||Nt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=Nt.URL||Nt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var mm=Nt.atob.bind(Nt),q4=Nt.btoa.bind(Nt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function j1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=vi(n,r,i,s,e[0],7,-680876936),s=vi(s,n,r,i,e[1],12,-389564586),i=vi(i,s,n,r,e[2],17,606105819),r=vi(r,i,s,n,e[3],22,-1044525330),n=vi(n,r,i,s,e[4],7,-176418897),s=vi(s,n,r,i,e[5],12,1200080426),i=vi(i,s,n,r,e[6],17,-1473231341),r=vi(r,i,s,n,e[7],22,-45705983),n=vi(n,r,i,s,e[8],7,1770035416),s=vi(s,n,r,i,e[9],12,-1958414417),i=vi(i,s,n,r,e[10],17,-42063),r=vi(r,i,s,n,e[11],22,-1990404162),n=vi(n,r,i,s,e[12],7,1804603682),s=vi(s,n,r,i,e[13],12,-40341101),i=vi(i,s,n,r,e[14],17,-1502002290),n=wi(n,r=vi(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=wi(s,n,r,i,e[6],9,-1069501632),i=wi(i,s,n,r,e[11],14,643717713),r=wi(r,i,s,n,e[0],20,-373897302),n=wi(n,r,i,s,e[5],5,-701558691),s=wi(s,n,r,i,e[10],9,38016083),i=wi(i,s,n,r,e[15],14,-660478335),r=wi(r,i,s,n,e[4],20,-405537848),n=wi(n,r,i,s,e[9],5,568446438),s=wi(s,n,r,i,e[14],9,-1019803690),i=wi(i,s,n,r,e[3],14,-187363961),r=wi(r,i,s,n,e[8],20,1163531501),n=wi(n,r,i,s,e[13],5,-1444681467),s=wi(s,n,r,i,e[2],9,-51403784),i=wi(i,s,n,r,e[7],14,1735328473),n=_i(n,r=wi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=_i(s,n,r,i,e[8],11,-2022574463),i=_i(i,s,n,r,e[11],16,1839030562),r=_i(r,i,s,n,e[14],23,-35309556),n=_i(n,r,i,s,e[1],4,-1530992060),s=_i(s,n,r,i,e[4],11,1272893353),i=_i(i,s,n,r,e[7],16,-155497632),r=_i(r,i,s,n,e[10],23,-1094730640),n=_i(n,r,i,s,e[13],4,681279174),s=_i(s,n,r,i,e[0],11,-358537222),i=_i(i,s,n,r,e[3],16,-722521979),r=_i(r,i,s,n,e[6],23,76029189),n=_i(n,r,i,s,e[9],4,-640364487),s=_i(s,n,r,i,e[12],11,-421815835),i=_i(i,s,n,r,e[15],16,530742520),n=bi(n,r=_i(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=bi(s,n,r,i,e[7],10,1126891415),i=bi(i,s,n,r,e[14],15,-1416354905),r=bi(r,i,s,n,e[5],21,-57434055),n=bi(n,r,i,s,e[12],6,1700485571),s=bi(s,n,r,i,e[3],10,-1894986606),i=bi(i,s,n,r,e[10],15,-1051523),r=bi(r,i,s,n,e[1],21,-2054922799),n=bi(n,r,i,s,e[8],6,1873313359),s=bi(s,n,r,i,e[15],10,-30611744),i=bi(i,s,n,r,e[6],15,-1560198380),r=bi(r,i,s,n,e[13],21,1309151649),n=bi(n,r,i,s,e[4],6,-145523070),s=bi(s,n,r,i,e[11],10,-1120210379),i=bi(i,s,n,r,e[2],15,718787259),r=bi(r,i,s,n,e[9],21,-343485551),t[0]=_l(n,t[0]),t[1]=_l(r,t[1]),t[2]=_l(i,t[2]),t[3]=_l(s,t[3])}function u0(t,e,n,r,i,s){return e=_l(_l(e,t),_l(r,s)),_l(e<<i|e>>>32-i,n)}function vi(t,e,n,r,i,s,o){return u0(e&n|~e&r,t,e,i,s,o)}function wi(t,e,n,r,i,s,o){return u0(e&r|n&~r,t,e,i,s,o)}function _i(t,e,n,r,i,s,o){return u0(e^n^r,t,e,i,s,o)}function bi(t,e,n,r,i,s,o){return u0(n^(e|~r),t,e,i,s,o)}function WN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)j1(r,kz(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(j1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,j1(r,i),r}function kz(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var $4="0123456789abcdef".split("");function Pz(t){for(var e="",n=0;n<4;n++)e+=$4[t>>8*n+4&15]+$4[t>>8*n&15];return e}function Rz(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cy(t){return WN(t).map(Rz).join("")}var Lz=function(t){for(var e=0;e<t.length;e++)t[e]=Pz(t[e]);return t.join("")}(WN("hello"))!="5d41402abc4b2a76b9719d911017c592";function _l(t,e){if(Lz){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ky(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,g=0,m=0,b="";for(l=0;l<d;l++)m=(m+(c=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=c,o=a[(a[g]+a[m])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H4={print:4,modify:8,copy:16,"annot-forms":32};function gc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(H4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=H4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Cy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ky(this.encryptionKey,this.padding)}function yc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function W4(t){if(_n(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Nt.console&&Tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yg(t){if(!(this instanceof yg))return new yg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function GN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function hu(t,e,n,r,i){if(!(this instanceof hu))return new hu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,GN.call(this,r,i)}function kc(t,e,n,r,i){if(!(this instanceof kc))return new kc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,GN.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;_n(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=W4;var b="1.3",x=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(y){b=y};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var _=m.__private__.getPageFormat=function(y){return k[y]};i=i||"a4";var A="compat",I="advanced",O=A;function Q(){this.saveGraphicsState(),H(new gt(kt,0,0,-kt,0,eo()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),u="n",O=I}function te(){this.restoreGraphicsState(),u="S",O=A}var j=m.__private__.combineFontStyleAndFontWeight=function(y,D){if(y=="bold"&&D=="normal"||y=="bold"&&D==400||y=="normal"&&D=="italic"||y=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(y=D==400||D==="normal"?y==="italic"?"italic":"normal":D!=700&&D!=="bold"||y!=="normal"?(D==700?"bold":D)+""+y:"bold"),y};m.advancedAPI=function(y){var D=O===A;return D&&Q.call(this),typeof y!="function"||(y(this),D&&te.call(this)),this},m.compatAPI=function(y){var D=O===I;return D&&te.call(this),typeof y!="function"||(y(this),D&&Q.call(this)),this},m.isAdvancedAPI=function(){return O===I};var C,N=function(y){if(O!==I)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=m.roundToPrecision=m.__private__.roundToPrecision=function(y,D){var G=e||D;if(isNaN(y)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(G).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return F(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return F(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return F(y,16)};var S=m.f2=m.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return F(y,2)},P=m.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return F(y,3)},R=m.scale=m.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return O===A?y*kt:O===I?y:void 0},X=function(y){return R(function(D){return O===A?eo()-D:O===I?D:void 0}(y))};m.__private__.setPrecision=m.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ue,ge="00000000000000000000000000000000",ye=m.__private__.getFileId=function(){return ge},Z=m.__private__.setFileId=function(y){return ge=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(En=new gc(c.userPermissions,c.userPassword,c.ownerPassword,ge)),ge};m.setFileId=function(y){return Z(y),this},m.getFileId=function(){return ye()};var ce=m.__private__.convertDateToPDFDate=function(y){var D=y.getTimezoneOffset(),G=D<0?"+":"-",ee=Math.floor(Math.abs(D/60)),le=Math.abs(D%60),Ee=[G,J(ee),"'",J(le),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),Ee].join("")},_e=m.__private__.convertPDFDateToDate=function(y){var D=parseInt(y.substr(2,4),10),G=parseInt(y.substr(6,2),10)-1,ee=parseInt(y.substr(8,2),10),le=parseInt(y.substr(10,2),10),Ee=parseInt(y.substr(12,2),10),Pe=parseInt(y.substr(14,2),10);return new Date(D,G,ee,le,Ee,Pe,0)},be=m.__private__.setCreationDate=function(y){var D;if(y===void 0&&(y=new Date),y instanceof Date)D=ce(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=y}return ue=D},V=m.__private__.getCreationDate=function(y){var D=ue;return y==="jsDate"&&(D=_e(ue)),D};m.setCreationDate=function(y){return be(y),this},m.getCreationDate=function(y){return V(y)};var W,J=m.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ne=m.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ie=0,ae=[],ve=[],we=0,Ie=[],De=[],ze=!1,Ve=ve;m.__private__.setCustomOutputDestination=function(y){ze=!0,Ve=y};var ot=function(y){ze||(Ve=y)};m.__private__.resetCustomOutputDestination=function(){ze=!1,Ve=ve};var H=m.__private__.out=function(y){return y=y.toString(),we+=y.length+1,Ve.push(y),Ve},Ue=m.__private__.write=function(y){return H(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},St=m.__private__.getArrayBuffer=function(y){for(var D=y.length,G=new ArrayBuffer(D),ee=new Uint8Array(G);D--;)ee[D]=y.charCodeAt(D);return G},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return at};var Ne=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(y){return Ne=O===I?y/kt:y,this};var He,qe=m.__private__.getFontSize=m.getFontSize=function(){return O===A?Ne:Ne*kt},dt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(y){return dt=y,this},m.__private__.getR2L=m.getR2L=function(){return dt};var rt,Xt=m.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))He=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');He=y}else He=parseInt(y,10)};m.__private__.getZoomMode=function(){return He};var Ct,xt=m.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');rt=y};m.__private__.getPageMode=function(){return rt};var Dt=m.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Ct=y};m.__private__.getLayoutMode=function(){return Ct},m.__private__.setDisplayMode=m.setDisplayMode=function(y,D,G){return Xt(y),Dt(D),xt(G),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(y){if(Object.keys(Vt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[y]},m.__private__.getDocumentProperties=function(){return Vt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(y){for(var D in Vt)Vt.hasOwnProperty(D)&&y[D]&&(Vt[D]=y[D]);return this},m.__private__.setDocumentProperty=function(y,D){if(Object.keys(Vt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[y]=D};var et,kt,We,kn,Ft,Je={},Rt={},en=[],tt={},sn={},ht={},mt={},on=null,Ke=0,ut=[],qt=new W4(m),er=t.hotfixes||[],Un={},oi={},Ar=[],gt=function y(D,G,ee,le,Ee,Pe){if(!(this instanceof y))return new y(D,G,ee,le,Ee,Pe);isNaN(D)&&(D=1),isNaN(G)&&(G=0),isNaN(ee)&&(ee=0),isNaN(le)&&(le=1),isNaN(Ee)&&(Ee=0),isNaN(Pe)&&(Pe=0),this._matrix=[D,G,ee,le,Ee,Pe]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(y)},gt.prototype.multiply=function(y){var D=y.sx*this.sx+y.shy*this.shx,G=y.sx*this.shy+y.shy*this.sy,ee=y.shx*this.sx+y.sy*this.shx,le=y.shx*this.shy+y.sy*this.sy,Ee=y.tx*this.sx+y.ty*this.shx+this.tx,Pe=y.tx*this.shy+y.ty*this.sy+this.ty;return new gt(D,G,ee,le,Ee,Pe)},gt.prototype.decompose=function(){var y=this.sx,D=this.shy,G=this.shx,ee=this.sy,le=this.tx,Ee=this.ty,Pe=Math.sqrt(y*y+D*D),Ye=(y/=Pe)*G+(D/=Pe)*ee;G-=y*Ye,ee-=D*Ye;var nt=Math.sqrt(G*G+ee*ee);return Ye/=nt,y*(ee/=nt)<D*(G/=nt)&&(y=-y,D=-D,Ye=-Ye,Pe=-Pe),{scale:new gt(Pe,0,0,nt,0,0),translate:new gt(1,0,0,1,le,Ee),rotate:new gt(y,D,-D,y,0,0),skew:new gt(1,0,Ye,1,0,0)}},gt.prototype.toString=function(y){return this.join(" ")},gt.prototype.inversed=function(){var y=this.sx,D=this.shy,G=this.shx,ee=this.sy,le=this.tx,Ee=this.ty,Pe=1/(y*ee-D*G),Ye=ee*Pe,nt=-D*Pe,bt=-G*Pe,pt=y*Pe;return new gt(Ye,nt,bt,pt,-Ye*le-bt*Ee,-nt*le-pt*Ee)},gt.prototype.applyToPoint=function(y){var D=y.x*this.sx+y.y*this.shx+this.tx,G=y.x*this.shy+y.y*this.sy+this.ty;return new ki(D,G)},gt.prototype.applyToRectangle=function(y){var D=this.applyToPoint(y),G=this.applyToPoint(new ki(y.x+y.w,y.y+y.h));return new qa(D.x,D.y,G.x-D.x,G.y-D.y)},gt.prototype.clone=function(){var y=this.sx,D=this.shy,G=this.shx,ee=this.sy,le=this.tx,Ee=this.ty;return new gt(y,D,G,ee,le,Ee)},m.Matrix=gt;var Kn=m.matrixMult=function(y,D){return D.multiply(y)},$r=new gt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=$r;var Hr=function(y,D){if(!sn[y]){var G=(D instanceof hu?"Sh":"P")+(Object.keys(tt).length+1).toString(10);D.id=G,sn[y]=G,tt[G]=D,qt.publish("addPattern",D)}};m.ShadingPattern=hu,m.TilingPattern=kc,m.addShadingPattern=function(y,D){return N("addShadingPattern()"),Hr(y,D),this},m.beginTilingPattern=function(y){N("beginTilingPattern()"),Io(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},m.endTilingPattern=function(y,D){N("endTilingPattern()"),D.stream=De[W].join(`
`),Hr(y,D),qt.publish("endTilingPattern",D),Ar.pop().restore()};var Wr,pn=m.__private__.newObject=function(){var y=Pn();return ur(y,!0),y},Pn=m.__private__.newObjectDeferred=function(){return ie++,ae[ie]=function(){return we},ie},ur=function(y,D){return D=typeof D=="boolean"&&D,ae[y]=we,D&&H(y+" 0 obj"),y},Dr=m.__private__.newAdditionalObject=function(){var y={objId:Pn(),content:""};return Ie.push(y),y},ns=Pn(),ai=Pn(),li=m.__private__.decodeColorString=function(y){var D=y.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var G=parseFloat(D[0]);D=[G,G,G,"r"]}for(var ee="#",le=0;le<3;le++)ee+=("0"+Math.floor(255*parseFloat(D[le])).toString(16)).slice(-2);return ee},Gr=m.__private__.encodeColorString=function(y){var D;typeof y=="string"&&(y={ch1:y});var G=y.ch1,ee=y.ch2,le=y.ch3,Ee=y.ch4,Pe=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Ye=new HN(G);if(Ye.ok)G=Ye.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var nt=parseInt(G.substr(1),16);G=nt>>16&255,ee=nt>>8&255,le=255&nt}if(ee===void 0||Ee===void 0&&G===ee&&ee===le)D=typeof G=="string"?G+" "+Pe[0]:y.precision===2?S(G/255)+" "+Pe[0]:P(G/255)+" "+Pe[0];else if(Ee===void 0||_n(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Pe[1]].join(" ");D=typeof G=="string"?[G,ee,le,Pe[1]].join(" "):y.precision===2?[S(G/255),S(ee/255),S(le/255),Pe[1]].join(" "):[P(G/255),P(ee/255),P(le/255),Pe[1]].join(" ")}else D=typeof G=="string"?[G,ee,le,Ee,Pe[2]].join(" "):y.precision===2?[S(G),S(ee),S(le),S(Ee),Pe[2]].join(" "):[P(G),P(ee),P(le),P(Ee),Pe[2]].join(" ");return D},ui=m.__private__.getFilters=function(){return o},Ir=m.__private__.putStream=function(y){var D=(y=y||{}).data||"",G=y.filters||ui(),ee=y.alreadyAppliedFilters||[],le=y.addLength1||!1,Ee=D.length,Pe=y.objectId,Ye=function(w){return w};if(c!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=En.encryptor(Pe,0));var nt={};G===!0&&(G=["FlateEncode"]);var bt=y.additionalKeyValues||[],pt=(nt=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(D,G):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(nt.data.length!==0&&(bt.push({key:"Length",value:nt.data.length}),le===!0&&bt.push({key:"Length1",value:Ee})),pt.length!=0)if(pt.split("/").length-1==1)bt.push({key:"Filter",value:pt});else{bt.push({key:"Filter",value:"["+pt+"]"});for(var Wt=0;Wt<bt.length;Wt+=1)if(bt[Wt].key==="DecodeParms"){for(var Ln=[],An=0;An<nt.reverseChain.split("/").length-1;An+=1)Ln.push("null");Ln.push(bt[Wt].value),bt[Wt].value="["+Ln.join(" ")+"]"}}H("<<");for(var f=0;f<bt.length;f++)H("/"+bt[f].key+" "+bt[f].value);H(">>"),nt.data.length!==0&&(H("stream"),H(Ye(nt.data)),H("endstream"))},Ns=m.__private__.putPage=function(y){var D=y.number,G=y.data,ee=y.objId,le=y.contentsObjId;ur(ee,!0),H("<</Type /Page"),H("/Parent "+y.rootDictionaryObjId+" 0 R"),H("/Resources "+y.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(C(y.mediaBox.bottomLeftX))+" "+parseFloat(C(y.mediaBox.bottomLeftY))+" "+C(y.mediaBox.topRightX)+" "+C(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&H("/CropBox ["+C(y.cropBox.bottomLeftX)+" "+C(y.cropBox.bottomLeftY)+" "+C(y.cropBox.topRightX)+" "+C(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&H("/BleedBox ["+C(y.bleedBox.bottomLeftX)+" "+C(y.bleedBox.bottomLeftY)+" "+C(y.bleedBox.topRightX)+" "+C(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&H("/TrimBox ["+C(y.trimBox.bottomLeftX)+" "+C(y.trimBox.bottomLeftY)+" "+C(y.trimBox.topRightX)+" "+C(y.trimBox.topRightY)+"]"),y.artBox!==null&&H("/ArtBox ["+C(y.artBox.bottomLeftX)+" "+C(y.artBox.bottomLeftY)+" "+C(y.artBox.topRightX)+" "+C(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&H("/UserUnit "+y.userUnit),qt.publish("putPage",{objId:ee,pageContext:ut[D],pageNumber:D,page:G}),H("/Contents "+le+" 0 R"),H(">>"),H("endobj");var Ee=G.join(`
`);return O===I&&(Ee+=`
Q`),ur(le,!0),Ir({data:Ee,filters:ui(),objectId:le}),H("endobj"),ee},zi=m.__private__.putPages=function(){var y,D,G=[];for(y=1;y<=Ke;y++)ut[y].objId=Pn(),ut[y].contentsObjId=Pn();for(y=1;y<=Ke;y++)G.push(Ns({number:y,data:De[y],objId:ut[y].objId,contentsObjId:ut[y].contentsObjId,mediaBox:ut[y].mediaBox,cropBox:ut[y].cropBox,bleedBox:ut[y].bleedBox,trimBox:ut[y].trimBox,artBox:ut[y].artBox,userUnit:ut[y].userUnit,rootDictionaryObjId:ns,resourceDictionaryObjId:ai}));ur(ns,!0),H("<</Type /Pages");var ee="/Kids [";for(D=0;D<Ke;D++)ee+=G[D]+" 0 R ";H(ee+"]"),H("/Count "+Ke),H(">>"),H("endobj"),qt.publish("postPutPages")},xe=function(y){qt.publish("putFont",{font:y,out:H,newObject:pn,putStream:Ir}),y.isAlreadyPutted!==!0&&(y.objectNumber=pn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+yc(y.postScriptName)),H("/Subtype /Type1"),typeof y.encoding=="string"&&H("/Encoding /"+y.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Le=function(y){y.objectNumber=pn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[C(y.x),C(y.y),C(y.x+y.width),C(y.y+y.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var G=y.pages[1].join(`
`);Ir({data:G,additionalKeyValues:D,objectId:y.objectNumber}),H("endobj")},lt=function(y,D){D||(D=21);var G=pn(),ee=function(Pe,Ye){var nt,bt=[],pt=1/(Ye-1);for(nt=0;nt<1;nt+=pt)bt.push(nt);if(bt.push(1),Pe[0].offset!=0){var Wt={offset:0,color:Pe[0].color};Pe.unshift(Wt)}if(Pe[Pe.length-1].offset!=1){var Ln={offset:1,color:Pe[Pe.length-1].color};Pe.push(Ln)}for(var An="",f=0,w=0;w<bt.length;w++){for(nt=bt[w];nt>Pe[f+1].offset;)f++;var T=Pe[f].offset,q=(nt-T)/(Pe[f+1].offset-T),he=Pe[f].color,me=Pe[f+1].color;An+=ne(Math.round((1-q)*he[0]+q*me[0]).toString(16))+ne(Math.round((1-q)*he[1]+q*me[1]).toString(16))+ne(Math.round((1-q)*he[2]+q*me[2]).toString(16))}return An.trim()}(y.colors,D),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+D+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ir({data:ee,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),y.objectNumber=pn(),H("<< /ShadingType "+y.type),H("/ColorSpace /DeviceRGB");var Ee="/Coords ["+C(parseFloat(y.coords[0]))+" "+C(parseFloat(y.coords[1]))+" ";y.type===2?Ee+=C(parseFloat(y.coords[2]))+" "+C(parseFloat(y.coords[3])):Ee+=C(parseFloat(y.coords[2]))+" "+C(parseFloat(y.coords[3]))+" "+C(parseFloat(y.coords[4]))+" "+C(parseFloat(y.coords[5])),H(Ee+="]"),y.matrix&&H("/Matrix ["+y.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},wt=function(y,D){var G=Pn(),ee=pn();D.push({resourcesOid:G,objectOid:ee}),y.objectNumber=ee;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+y.boundingBox.map(C).join(" ")+"]"}),le.push({key:"XStep",value:C(y.xStep)}),le.push({key:"YStep",value:C(y.yStep)}),le.push({key:"Resources",value:G+" 0 R"}),y.matrix&&le.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Ir({data:y.stream,additionalKeyValues:le,objectId:y.objectNumber}),H("endobj")},It=function(y){for(var D in y.objectNumber=pn(),H("<<"),y)switch(D){case"opacity":H("/ca "+S(y[D]));break;case"stroke-opacity":H("/CA "+S(y[D]))}H(">>"),H("endobj")},Et=function(y){ur(y.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in H("/Font <<"),Je)Je.hasOwnProperty(D)&&(d===!1||d===!0&&g.hasOwnProperty(D))&&H("/"+D+" "+Je[D].objectNumber+" 0 R");H(">>")}(),function(){if(Object.keys(tt).length>0){for(var D in H("/Shading <<"),tt)tt.hasOwnProperty(D)&&tt[D]instanceof hu&&tt[D].objectNumber>=0&&H("/"+D+" "+tt[D].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),H(">>")}}(),function(D){if(Object.keys(tt).length>0){for(var G in H("/Pattern <<"),tt)tt.hasOwnProperty(G)&&tt[G]instanceof m.TilingPattern&&tt[G].objectNumber>=0&&tt[G].objectNumber<D&&H("/"+G+" "+tt[G].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),H(">>")}}(y.objectOid),function(){if(Object.keys(ht).length>0){var D;for(D in H("/ExtGState <<"),ht)ht.hasOwnProperty(D)&&ht[D].objectNumber>=0&&H("/"+D+" "+ht[D].objectNumber+" 0 R");qt.publish("putGStateDict"),H(">>")}}(),function(){for(var D in H("/XObject <<"),Un)Un.hasOwnProperty(D)&&Un[D].objectNumber>=0&&H("/"+D+" "+Un[D].objectNumber+" 0 R");qt.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj")},un=function(y){Rt[y.fontName]=Rt[y.fontName]||{},Rt[y.fontName][y.fontStyle]=y.id},mn=function(y,D,G,ee,le){var Ee={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:y,fontName:D,fontStyle:G,encoding:ee,isStandardFont:le||!1,metadata:{}};return qt.publish("addFont",{font:Ee,instance:this}),Je[Ee.id]=Ee,un(Ee),Ee.id},Oe=m.__private__.pdfEscape=m.pdfEscape=function(y,D){return function(G,ee){var le,Ee,Pe,Ye,nt,bt,pt,Wt,Ln;if(Pe=(ee=ee||{}).sourceEncoding||"Unicode",nt=ee.outputEncoding,(ee.autoencode||nt)&&Je[et].metadata&&Je[et].metadata[Pe]&&Je[et].metadata[Pe].encoding&&(Ye=Je[et].metadata[Pe].encoding,!nt&&Je[et].encoding&&(nt=Je[et].encoding),!nt&&Ye.codePages&&(nt=Ye.codePages[0]),typeof nt=="string"&&(nt=Ye[nt]),nt)){for(pt=!1,bt=[],le=0,Ee=G.length;le<Ee;le++)(Wt=nt[G.charCodeAt(le)])?bt.push(String.fromCharCode(Wt)):bt.push(G[le]),bt[le].charCodeAt(0)>>8&&(pt=!0);G=bt.join("")}for(le=G.length;pt===void 0&&le!==0;)G.charCodeAt(le-1)>>8&&(pt=!0),le--;if(!pt)return G;for(bt=ee.noBOM?[]:[254,255],le=0,Ee=G.length;le<Ee;le++){if((Ln=(Wt=G.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Ln),bt.push(Wt-(Ln<<8))}return String.fromCharCode.apply(void 0,bt)}(y,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cn=m.__private__.beginPage=function(y){De[++Ke]=[],ut[Ke]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},nr(Ke),ot(De[W])},tr=function(y,D){var G,ee,le;switch(n=D||n,typeof y=="string"&&(G=_(y.toLowerCase()),Array.isArray(G)&&(ee=G[0],le=G[1])),Array.isArray(y)&&(ee=y[0]*kt,le=y[1]*kt),isNaN(ee)&&(ee=i[0],le=i[1]),(ee>14400||le>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),le=Math.min(14400,le)),i=[ee,le],n.substr(0,1)){case"l":le>ee&&(i=[le,ee]);break;case"p":ee>le&&(i=[le,ee])}cn(i),_t(hi),H(Ua),$i!==0&&H($i+" J"),za!==0&&H(za+" j"),qt.publish("addPage",{pageNumber:Ke})},yt=function(y){y>0&&y<=Ke&&(De.splice(y,1),ut.splice(y,1),Ke--,W>Ke&&(W=Ke),this.setPage(W))},nr=function(y){y>0&&y<=Ke&&(W=y)},Js=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return De.length-1},So=function(y,D,G){var ee,le=void 0;return G=G||{},y=y!==void 0?y:Je[et].fontName,D=D!==void 0?D:Je[et].fontStyle,ee=y.toLowerCase(),Rt[ee]!==void 0&&Rt[ee][D]!==void 0?le=Rt[ee][D]:Rt[y]!==void 0&&Rt[y][D]!==void 0?le=Rt[y][D]:G.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+y+"', '"+D+"'. Refer to getFontList() for available fonts."),le||G.noFallback||(le=Rt.times[D])==null&&(le=Rt.times.normal),le},rs=m.__private__.putInfo=function(){var y=pn(),D=function(ee){return ee};for(var G in c!==null&&(D=En.encryptor(y,0)),H("<<"),H("/Producer ("+Oe(D("jsPDF "+ft.version))+")"),Vt)Vt.hasOwnProperty(G)&&Vt[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+Oe(D(Vt[G]))+")");H("/CreationDate ("+Oe(D(ue))+")"),H(">>"),H("endobj")},Mr=m.__private__.putCatalog=function(y){var D=(y=y||{}).rootDictionaryObjId||ns;switch(pn(),H("<<"),H("/Type /Catalog"),H("/Pages "+D+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+He;G.substr(G.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&H("/OpenAction [3 0 R /XYZ null null "+S(He)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}rt&&H("/PageMode /"+rt),qt.publish("putCatalog"),H(">>"),H("endobj")},Kr=m.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ie+1)),H("/Root "+ie+" 0 R"),H("/Info "+(ie-1)+" 0 R"),c!==null&&H("/Encrypt "+En.oid+" 0 R"),H("/ID [ <"+ge+"> <"+ge+"> ]"),H(">>")},xn=m.__private__.putHeader=function(){H("%PDF-"+b),H("%")},Ts=m.__private__.putXRef=function(){var y="0000000000";H("xref"),H("0 "+(ie+1)),H("0000000000 65535 f ");for(var D=1;D<=ie;D++)typeof ae[D]=="function"?H((y+ae[D]()).slice(-10)+" 00000 n "):ae[D]!==void 0?H((y+ae[D]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Or=m.__private__.buildDocument=function(){var y;ie=0,we=0,ve=[],ae=[],Ie=[],ns=Pn(),ai=Pn(),ot(ve),qt.publish("buildDocument"),xn(),zi(),function(){qt.publish("putAdditionalObjects");for(var G=0;G<Ie.length;G++){var ee=Ie[G];ur(ee.objId,!0),H(ee.content),H("endobj")}qt.publish("postPutAdditionalObjects")}(),y=[],function(){for(var G in Je)Je.hasOwnProperty(G)&&(d===!1||d===!0&&g.hasOwnProperty(G))&&xe(Je[G])}(),function(){var G;for(G in ht)ht.hasOwnProperty(G)&&It(ht[G])}(),function(){for(var G in Un)Un.hasOwnProperty(G)&&Le(Un[G])}(),function(G){var ee;for(ee in tt)tt.hasOwnProperty(ee)&&(tt[ee]instanceof hu?lt(tt[ee]):tt[ee]instanceof kc&&wt(tt[ee],G))}(y),qt.publish("putResources"),y.forEach(Et),Et({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),c!==null&&(En.oid=pn(),H("<<"),H("/Filter /Standard"),H("/V "+En.v),H("/R "+En.r),H("/U <"+En.toHexString(En.U)+">"),H("/O <"+En.toHexString(En.O)+">"),H("/P "+En.P),H(">>"),H("endobj")),rs(),Mr();var D=we;return Ts(),Kr(),H("startxref"),H(""+D),H("%%EOF"),ot(De[W]),ve.join(`
`)},tn=m.__private__.getBlob=function(y){return new Blob([St(y)],{type:"application/pdf"})},Cs=m.output=m.__private__.output=(Wr=function(y,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",y){case void 0:return Or();case"save":m.save(D.filename);break;case"arraybuffer":return St(Or());case"blob":return tn(Or());case"bloburi":case"bloburl":if(Nt.URL!==void 0&&typeof Nt.URL.createObjectURL=="function")return Nt.URL&&Nt.URL.createObjectURL(tn(Or()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ee=Or();try{G=q4(ee)}catch{G=q4(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+D.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(le=D.pdfObjectUrl,Ee="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Ye=Nt.open();return Ye!==null&&Ye.document.write(Pe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',bt=Nt.open();if(bt!==null){bt.document.write(nt);var pt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=D.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Ln=Nt.open();if(Ln!==null&&(Ln.document.write(Wt),Ln.document.title=D.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return Nt.document.location.href=this.output("datauristring",D);default:return null}},Wr.foo=function(){try{return Wr.apply(this,arguments)}catch(G){var y=G.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var D="Error in function "+y.split(`
`)[0].split("<")[0]+": "+G.message;if(!Nt.console)throw new Error(D);Nt.console.error(D,G),Nt.alert&&alert(D)}},Wr.foo.bar=Wr,Wr.foo),cr=function(y){return Array.isArray(er)===!0&&er.indexOf(y)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=cr("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kt=r}var En=null;be(),Z();var is=m.__private__.getPageInfo=m.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[y].objId,pageNumber:y,pageContext:ut[y]}},na=m.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ut)if(ut[D].objId===y)break;return is(D)},Ju=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ut[W].objId,pageNumber:W,pageContext:ut[W]}};m.addPage=function(){return tr.apply(this,arguments),this},m.setPage=function(){return nr.apply(this,arguments),ot.call(this,De[W]),this},m.insertPage=function(y){return this.addPage(),this.movePage(W,y),this},m.movePage=function(y,D){var G,ee;if(y>D){G=De[y],ee=ut[y];for(var le=y;le>D;le--)De[le]=De[le-1],ut[le]=ut[le-1];De[D]=G,ut[D]=ee,this.setPage(D)}else if(y<D){G=De[y],ee=ut[y];for(var Ee=y;Ee<D;Ee++)De[Ee]=De[Ee+1],ut[Ee]=ut[Ee+1];De[D]=G,ut[D]=ee,this.setPage(D)}return this},m.deletePage=function(){return yt.apply(this,arguments),this},m.__private__.text=m.text=function(y,D,G,ee,le){var Ee,Pe,Ye,nt,bt,pt,Wt,Ln,An,f=(ee=ee||{}).scope||this;if(typeof y=="number"&&typeof D=="number"&&(typeof G=="string"||Array.isArray(G))){var w=G;G=D,D=y,y=w}if(arguments[3]instanceof gt==0?(Ye=arguments[4],nt=arguments[5],_n(Wt=arguments[3])==="object"&&Wt!==null||(typeof Ye=="string"&&(nt=Ye,Ye=null),typeof Wt=="string"&&(nt=Wt,Wt=null),typeof Wt=="number"&&(Ye=Wt,Wt=null),ee={flags:Wt,angle:Ye,align:nt})):(N("The transform parameter of text() with a Matrix value"),An=le),isNaN(D)||isNaN(G)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return f;var T,q="",he=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Zs,me=f.internal.scaleFactor;function je(fn){return fn=fn.split("	").join(Array(ee.TabLen||9).join(" ")),Oe(fn,Wt)}function Pt(fn){for(var In,fr=fn.concat(),Nr=[],la=fr.length;la--;)typeof(In=fr.shift())=="string"?Nr.push(In):Array.isArray(fn)&&(In.length===1||In[1]===void 0&&In[2]===void 0)?Nr.push(In[0]):Nr.push([In[0],In[1],In[2]]);return Nr}function Dn(fn,In){var fr;if(typeof fn=="string")fr=In(fn)[0];else if(Array.isArray(fn)){for(var Nr,la,Fh=fn.concat(),sc=[],Bd=Fh.length;Bd--;)typeof(Nr=Fh.shift())=="string"?sc.push(In(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(la=In(Nr[0],Nr[1],Nr[2]),sc.push([la[0],la[1],la[2]]));fr=sc}return fr}var Gt=!1,Mn=!0;if(typeof y=="string")Gt=!0;else if(Array.isArray(y)){var jr=y.concat();Pe=[];for(var fi,On=jr.length;On--;)(typeof(fi=jr.shift())!="string"||Array.isArray(fi)&&typeof fi[0]!="string")&&(Mn=!1);Gt=Mn}if(Gt===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var di=Ne/f.internal.scaleFactor,Ds=di*(he-1);switch(ee.baseline){case"bottom":G-=Ds;break;case"top":G+=di-Ds;break;case"hanging":G+=di-2*Ds;break;case"middle":G+=di/2-Ds}if((pt=ee.maxWidth||0)>0&&(typeof y=="string"?y=f.splitTextToSize(y,pt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(fn,In){return fn.concat(f.splitTextToSize(In,pt))},[]))),Ee={text:y,x:D,y:G,options:ee,mutex:{pdfEscape:Oe,activeFontKey:et,fonts:Je,activeFontSize:Ne}},qt.publish("preProcessText",Ee),y=Ee.text,Ye=(ee=Ee.options).angle,An instanceof gt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,ee.rotationDirection===0&&(Ye=-Ye),O===I&&(Ye=-Ye);var sa=Math.cos(Ye),Ch=Math.sin(Ye);An=new gt(sa,Ch,-Ch,sa,0,0)}else Ye&&Ye instanceof gt&&(An=Ye);O!==I||An||(An=$r),(bt=ee.charSpace||Rs)!==void 0&&(q+=C(R(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=ee.horizontalScale)!==void 0&&(q+=C(100*Ln)+` Tz
`),ee.lang;var Ri=-1,oa=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,rc=f.internal.getCurrentPageInfo().pageContext;switch(oa){case 0:case!1:case"fill":Ri=0;break;case 1:case!0:case"stroke":Ri=1;break;case 2:case"fillThenStroke":Ri=2;break;case 3:case"invisible":Ri=3;break;case 4:case"fillAndAddForClipping":Ri=4;break;case 5:case"strokeAndAddPathForClipping":Ri=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ri=6;break;case 7:case"addToPathForClipping":Ri=7}var Vd=rc.usedRenderingMode!==void 0?rc.usedRenderingMode:-1;Ri!==-1?q+=Ri+` Tr
`:Vd!==-1&&(q+=`0 Tr
`),Ri!==-1&&(rc.usedRenderingMode=Ri),nt=ee.align||"left";var Ms,nu=Ne*he,kh=f.internal.pageSize.getWidth(),Ph=Je[et];bt=ee.charSpace||Rs,pt=ee.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Ha=[],ru=function(fn){return f.getStringUnitWidth(fn,{font:Ph,charSpace:bt,fontSize:Ne,doKerning:!1})*Ne/me};if(Object.prototype.toString.call(y)==="[object Array]"){var as;Pe=Pt(y),nt!=="left"&&(Ms=Pe.map(ru));var ls,Wa=0;if(nt==="right"){D-=Ms[0],y=[],On=Pe.length;for(var aa=0;aa<On;aa++)aa===0?(ls=Ci(D),as=Ps(G)):(ls=R(Wa-Ms[aa]),as=-nu),y.push([Pe[aa],ls,as]),Wa=Ms[aa]}else if(nt==="center"){D-=Ms[0]/2,y=[],On=Pe.length;for(var Ga=0;Ga<On;Ga++)Ga===0?(ls=Ci(D),as=Ps(G)):(ls=R((Wa-Ms[Ga])/2),as=-nu),y.push([Pe[Ga],ls,as]),Wa=Ms[Ga]}else if(nt==="left"){y=[],On=Pe.length;for(var Rh=0;Rh<On;Rh++)y.push(Pe[Rh])}else if(nt==="justify"&&Ph.encoding==="Identity-H"){y=[],On=Pe.length,pt=pt!==0?pt:kh;for(var ic=0,hr=0;hr<On;hr++)if(as=hr===0?Ps(G):-nu,ls=hr===0?Ci(D):ic,hr<On-1){var Ud=R((pt-Ms[hr])/(Pe[hr].split(" ").length-1)),Co=Pe[hr].split(" ");y.push([Co[0]+" ",ls,as]),ic=0;for(var ko=1;ko<Co.length;ko++){var Lh=(ru(Co[ko-1]+" "+Co[ko])-ru(Co[ko]))*me+Ud;ko==Co.length-1?y.push([Co[ko],Lh,0]):y.push([Co[ko]+" ",Lh,0]),ic-=Lh}}else y.push([Pe[hr],ls,as]);y.push(["",ic,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],On=Pe.length,pt=pt!==0?pt:kh,hr=0;hr<On;hr++){as=hr===0?Ps(G):-nu,ls=hr===0?Ci(D):0;var Dh=Pe[hr].split(" ").length-1,Mh=Dh>0?(pt-Ms[hr])/Dh:0;hr<On-1?Ha.push(C(R(Mh))):Ha.push(0),y.push([Pe[hr],ls,as])}}}(typeof ee.R2L=="boolean"?ee.R2L:dt)===!0&&(y=Dn(y,function(fn,In,fr){return[fn.split("").reverse().join(""),In,fr]})),Ee={text:y,x:D,y:G,options:ee,mutex:{pdfEscape:Oe,activeFontKey:et,fonts:Je,activeFontSize:Ne}},qt.publish("postProcessText",Ee),y=Ee.text,T=Ee.mutex.isHex||!1;var Oh=Je[et].encoding;Oh!=="WinAnsiEncoding"&&Oh!=="StandardEncoding"||(y=Dn(y,function(fn,In,fr){return[je(fn),In,fr]})),Pe=Pt(y),y=[];for(var Ka,Ya,Qa,iu=Array.isArray(Pe[0])?1:0,Xa="",su=function(fn,In,fr){var Nr="";return fr instanceof gt?(fr=typeof ee.angle=="number"?Kn(fr,new gt(1,0,0,1,fn,In)):Kn(new gt(1,0,0,1,fn,In),fr),O===I&&(fr=Kn(new gt(1,0,0,-1,0,0),fr)),Nr=fr.join(" ")+` Tm
`):Nr=C(fn)+" "+C(In)+` Td
`,Nr},Os=0;Os<Pe.length;Os++){switch(Xa="",iu){case 1:Qa=(T?"<":"(")+Pe[Os][0]+(T?">":")"),Ka=parseFloat(Pe[Os][1]),Ya=parseFloat(Pe[Os][2]);break;case 0:Qa=(T?"<":"(")+Pe[Os]+(T?">":")"),Ka=Ci(D),Ya=Ps(G)}Ha!==void 0&&Ha[Os]!==void 0&&(Xa=Ha[Os]+` Tw
`),Os===0?y.push(Xa+su(Ka,Ya,An)+Qa):iu===0?y.push(Xa+Qa):iu===1&&y.push(Xa+su(Ka,Ya,An)+Qa)}y=iu===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Po=`BT
/`;return Po+=et+" "+Ne+` Tf
`,Po+=C(Ne*he)+` TL
`,Po+=Eo+`
`,Po+=q,Po+=y,H(Po+="ET"),g[et]=!0,f};var Ql=m.__private__.clip=m.clip=function(y){return H(y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ql("evenodd")},m.__private__.discardPath=m.discardPath=function(){return H("n"),this};var Ni=m.__private__.isValidStyle=function(y){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(D=!0),D};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(y){return Ni(y)&&(u=y),this};var ra=m.__private__.getStyle=m.getStyle=function(y){var D=u;switch(y){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=y}return D},ks=m.close=function(){return H("h"),this};m.stroke=function(){return H("S"),this},m.fill=function(y){return Ut("f",y),this},m.fillEvenOdd=function(y){return Ut("f*",y),this},m.fillStroke=function(y){return Ut("B",y),this},m.fillStrokeEvenOdd=function(y){return Ut("B*",y),this};var Ut=function(y,D){_n(D)==="object"?Ti(D,y):H(y)},gn=function(y){y===null||O===I&&y===void 0||(y=ra(y),H(y))};function Fr(y,D,G,ee,le){var Ee=new kc(D||this.boundingBox,G||this.xStep,ee||this.yStep,this.gState,le||this.matrix);Ee.stream=this.stream;var Pe=y+"$$"+this.cloneIndex+++"$$";return Hr(Pe,Ee),Ee}var Ti=function(y,D){var G=sn[y.key],ee=tt[G];if(ee instanceof hu)H("q"),H(ss(D)),ee.gState&&m.setGState(ee.gState),H(y.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(ee instanceof kc){var le=new gt(1,0,0,-1,0,eo());y.matrix&&(le=le.multiply(y.matrix||$r),G=Fr.call(ee,y.key,y.boundingBox,y.xStep,y.yStep,le).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),ee.gState&&m.setGState(ee.gState),H(D),H("Q")}},ss=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},os=m.moveTo=function(y,D){return H(C(R(y))+" "+C(X(D))+" m"),this},qi=m.lineTo=function(y,D){return H(C(R(y))+" "+C(X(D))+" l"),this},ci=m.curveTo=function(y,D,G,ee,le,Ee){return H([C(R(y)),C(X(D)),C(R(G)),C(X(ee)),C(R(le)),C(X(Ee)),"c"].join(" ")),this};m.__private__.line=m.line=function(y,D,G,ee,le){if(isNaN(y)||isNaN(D)||isNaN(G)||isNaN(ee)||!Ni(le))throw new Error("Invalid arguments passed to jsPDF.line");return O===A?this.lines([[G-y,ee-D]],y,D,[1,1],le||"S"):this.lines([[G-y,ee-D]],y,D,[1,1]).stroke()},m.__private__.lines=m.lines=function(y,D,G,ee,le,Ee){var Pe,Ye,nt,bt,pt,Wt,Ln,An,f,w,T,q;if(typeof y=="number"&&(q=G,G=D,D=y,y=q),ee=ee||[1,1],Ee=Ee||!1,isNaN(D)||isNaN(G)||!Array.isArray(y)||!Array.isArray(ee)||!Ni(le)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(os(D,G),Pe=ee[0],Ye=ee[1],bt=y.length,w=D,T=G,nt=0;nt<bt;nt++)(pt=y[nt]).length===2?(w=pt[0]*Pe+w,T=pt[1]*Ye+T,qi(w,T)):(Wt=pt[0]*Pe+w,Ln=pt[1]*Ye+T,An=pt[2]*Pe+w,f=pt[3]*Ye+T,w=pt[4]*Pe+w,T=pt[5]*Ye+T,ci(Wt,Ln,An,f,w,T));return Ee&&ks(),gn(le),this},m.path=function(y){for(var D=0;D<y.length;D++){var G=y[D],ee=G.c;switch(G.op){case"m":os(ee[0],ee[1]);break;case"l":qi(ee[0],ee[1]);break;case"c":ci.apply(this,ee);break;case"h":ks()}}return this},m.__private__.rect=m.rect=function(y,D,G,ee,le){if(isNaN(y)||isNaN(D)||isNaN(G)||isNaN(ee)||!Ni(le))throw new Error("Invalid arguments passed to jsPDF.rect");return O===A&&(ee=-ee),H([C(R(y)),C(X(D)),C(R(G)),C(R(ee)),"re"].join(" ")),gn(le),this},m.__private__.triangle=m.triangle=function(y,D,G,ee,le,Ee,Pe){if(isNaN(y)||isNaN(D)||isNaN(G)||isNaN(ee)||isNaN(le)||isNaN(Ee)||!Ni(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-y,ee-D],[le-G,Ee-ee],[y-le,D-Ee]],y,D,[1,1],Pe,!0),this},m.__private__.roundedRect=m.roundedRect=function(y,D,G,ee,le,Ee,Pe){if(isNaN(y)||isNaN(D)||isNaN(G)||isNaN(ee)||isNaN(le)||isNaN(Ee)||!Ni(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*G),Ee=Math.min(Ee,.5*ee),this.lines([[G-2*le,0],[le*Ye,0,le,Ee-Ee*Ye,le,Ee],[0,ee-2*Ee],[0,Ee*Ye,-le*Ye,Ee,-le,Ee],[2*le-G,0],[-le*Ye,0,-le,-Ee*Ye,-le,-Ee],[0,2*Ee-ee],[0,-Ee*Ye,le*Ye,-Ee,le,-Ee]],y+le,D,[1,1],Pe,!0),this},m.__private__.ellipse=m.ellipse=function(y,D,G,ee,le){if(isNaN(y)||isNaN(D)||isNaN(G)||isNaN(ee)||!Ni(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*ee;return os(y+G,D),ci(y+G,D-Pe,y+Ee,D-ee,y,D-ee),ci(y-Ee,D-ee,y-G,D-Pe,y-G,D),ci(y-G,D+Pe,y-Ee,D+ee,y,D+ee),ci(y+Ee,D+ee,y+G,D+Pe,y+G,D),gn(le),this},m.__private__.circle=m.circle=function(y,D,G,ee){if(isNaN(y)||isNaN(D)||isNaN(G)||!Ni(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,D,G,G,ee)},m.setFont=function(y,D,G){return G&&(D=j(D,G)),et=So(y,D,{disableWarning:!1}),this};var ja=m.__private__.getFont=m.getFont=function(){return Je[So.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var y,D,G={};for(y in Rt)if(Rt.hasOwnProperty(y))for(D in G[y]=[],Rt[y])Rt[y].hasOwnProperty(D)&&G[y].push(D);return G},m.addFont=function(y,D,G,ee,le){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(G=j(G,ee)),mn.call(this,y,D,G,le=le||"Identity-H")};var Zs,hi=t.lineWidth||.200025,Xl=m.__private__.getLineWidth=m.getLineWidth=function(){return hi},_t=m.__private__.setLineWidth=m.setLineWidth=function(y){return hi=y,H(C(R(y))+" w"),this};m.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(y,D){if(y=y||[],D=D||0,isNaN(D)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(G){return C(R(G))}).join(" "),D=C(R(D)),H("["+y+"] "+D+" d"),this};var Va=m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*Zs};m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*Zs};var Zu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Zs=y),this},ia=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Zs};Zu(t.lineHeight);var Ci=m.__private__.getHorizontalCoordinate=function(y){return R(y)},Ps=m.__private__.getVerticalCoordinate=function(y){return O===I?y:ut[W].mediaBox.topRightY-ut[W].mediaBox.bottomLeftY-R(y)},Jl=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(y){return C(Ci(y))},Rn=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(y){return C(Ps(y))},Ua=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return li(Ua)},m.__private__.setStrokeColor=m.setDrawColor=function(y,D,G,ee){return Ua=Gr({ch1:y,ch2:D,ch3:G,ch4:ee,pdfColorType:"draw",precision:2}),H(Ua),this};var Zl=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return li(Zl)},m.__private__.setFillColor=m.setFillColor=function(y,D,G,ee){return Zl=Gr({ch1:y,ch2:D,ch3:G,ch4:ee,pdfColorType:"fill",precision:2}),H(Zl),this};var Eo=t.textColor||"0 g",ec=m.__private__.getTextColor=m.getTextColor=function(){return li(Eo)};m.__private__.setTextColor=m.setTextColor=function(y,D,G,ee){return Eo=Gr({ch1:y,ch2:D,ch3:G,ch4:ee,pdfColorType:"text",precision:3}),this};var Rs=t.charSpace,Ba=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Rs||0)};m.__private__.setCharSpace=m.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rs=y,this};var $i=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(y){var D=m.CapJoinStyles[y];if(D===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $i=D,H(D+" J"),this};var za=0;m.__private__.setLineJoin=m.setLineJoin=function(y){var D=m.CapJoinStyles[y];if(D===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=D,H(D+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(C(R(y))+" M"),this},m.GState=yg,m.setGState=function(y){(y=typeof y=="string"?ht[mt[y]]:tc(null,y)).equals(on)||(H("/"+y.id+" gs"),on=y)};var tc=function(y,D){if(!y||!mt[y]){var G=!1;for(var ee in ht)if(ht.hasOwnProperty(ee)&&ht[ee].equals(D)){G=!0;break}if(G)D=ht[ee];else{var le="GS"+(Object.keys(ht).length+1).toString(10);ht[le]=D,D.id=le}return y&&(mt[y]=D.id),qt.publish("addGState",D),D}};m.addGState=function(y,D){return tc(y,D),this},m.saveGraphicsState=function(){return H("q"),en.push({key:et,size:Ne,color:Eo}),this},m.restoreGraphicsState=function(){H("Q");var y=en.pop();return et=y.key,Ne=y.size,Eo=y.color,on=null,this},m.setCurrentTransformationMatrix=function(y){return H(y.toString()+" cm"),this},m.comment=function(y){return H("#"+y),this};var ki=function(y,D){var G=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ee){isNaN(Ee)||(G=parseFloat(Ee))}});var ee=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ee){isNaN(Ee)||(ee=parseFloat(Ee))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(Ee){le=Ee.toString()}}),this},qa=function(y,D,G,ee){ki.call(this,y,D),this.type="rect";var le=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Pe){isNaN(Pe)||(le=parseFloat(Pe))}});var Ee=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Pe){isNaN(Pe)||(Ee=parseFloat(Pe))}}),this},Ao=function(){this.page=Ke,this.currentPage=W,this.pages=De.slice(0),this.pagesContext=ut.slice(0),this.x=We,this.y=kn,this.matrix=Ft,this.width=To(W),this.height=eu(W),this.outputDestination=Ve,this.id="",this.objectNumber=-1};Ao.prototype.restore=function(){Ke=this.page,W=this.currentPage,ut=this.pagesContext,De=this.pages,We=this.x,kn=this.y,Ft=this.matrix,nc(W,this.width),Pi(W,this.height),Ve=this.outputDestination};var Io=function(y,D,G,ee,le){Ar.push(new Ao),Ke=W=0,De=[],We=y,kn=D,Ft=le,cn([G,ee])};for(var No in m.beginFormObject=function(y,D,G,ee,le){return Io(y,D,G,ee,le),this},m.endFormObject=function(y){return function(D){if(oi[D])Ar.pop().restore();else{var G=new Ao,ee="Xo"+(Object.keys(Un).length+1).toString(10);G.id=ee,oi[D]=ee,Un[ee]=G,qt.publish("addFormObject",G),Ar.pop().restore()}}(y),this},m.doFormObject=function(y,D){var G=Un[oi[y]];return H("q"),H(D.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},m.getFormObject=function(y){var D=Un[oi[y]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},m.save=function(y,D){return y=y||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(cu(tn(Or()),y),typeof cu.unload=="function"&&Nt.setTimeout&&setTimeout(cu.unload,911),this):new Promise(function(G,ee){try{var le=cu(tn(Or()),y);typeof cu.unload=="function"&&Nt.setTimeout&&setTimeout(cu.unload,911),G(le)}catch(Ee){ee(Ee.message)}})},ft.API)ft.API.hasOwnProperty(No)&&(No==="events"&&ft.API.events.length?function(y,D){var G,ee,le;for(le=D.length-1;le!==-1;le--)G=D[le][0],ee=D[le][1],y.subscribe.apply(y,[G].concat(typeof ee=="function"?[ee]:ee))}(qt,ft.API.events):m[No]=ft.API[No]);function To(y){return ut[y].mediaBox.topRightX-ut[y].mediaBox.bottomLeftX}function nc(y,D){ut[y].mediaBox.topRightX=D+ut[y].mediaBox.bottomLeftX}function eu(y){return ut[y].mediaBox.topRightY-ut[y].mediaBox.bottomLeftY}function Pi(y,D){ut[y].mediaBox.topRightY=D+ut[y].mediaBox.bottomLeftY}var Ls=m.getPageWidth=function(y){return To(y=y||W)/kt},tu=m.setPageWidth=function(y,D){nc(y,D*kt)},eo=m.getPageHeight=function(y){return eu(y=y||W)/kt},$a=m.setPageHeight=function(y,D){Pi(y,D*kt)};return m.internal={pdfEscape:Oe,getStyle:ra,getFont:ja,getFontSize:qe,getCharSpace:Ba,getTextColor:ec,getLineHeight:Va,getLineHeightFactor:ia,getLineWidth:Xl,write:Ue,getHorizontalCoordinate:Ci,getVerticalCoordinate:Ps,getCoordinateString:Jl,getVerticalCoordinateString:Rn,collections:{},newObject:pn,newAdditionalObject:Dr,newObjectDeferred:Pn,newObjectDeferredBegin:ur,getFilters:ui,putStream:Ir,events:qt,scaleFactor:kt,pageSize:{getWidth:function(){return Ls(W)},setWidth:function(y){tu(W,y)},getHeight:function(){return eo(W)},setHeight:function(y){$a(W,y)}},encryptionOptions:c,encryption:En,getEncryptor:function(y){return c!==null?En.encryptor(y,0):function(D){return D}},output:Cs,getNumberOfPages:Js,get pages(){return De},out:H,f2:S,f3:P,getPageInfo:is,getPageInfoByObjId:na,getCurrentPageInfo:Ju,getPDFVersion:x,Point:ki,Rectangle:qa,Matrix:gt,hasHotfix:cr},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ls(W)},set:function(y){tu(W,y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return eo(W)},set:function(y){$a(W,y)},enumerable:!0,configurable:!0}),(function(y){for(var D=0,G=at.length;D<G;D++){var ee=mn.call(this,y[D][0],y[D][1],y[D][2],at[D][3],!0);d===!1&&(g[ee]=!0);var le=y[D][0].split("-");un({id:ee,fontName:le[0],fontStyle:le[1]||""})}qt.publish("addFonts",{fonts:Je,dictionary:Rt})}).call(m,at),et="F1",tr(i,n),qt.publish("initialized"),m}gc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},gc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},gc.prototype.processOwnerPassword=function(t,e){return ky(Cy(e).substr(0,5),t)},gc.prototype.encryptor=function(t,e){var n=Cy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ky(n,r)}},yg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||_n(t)!==_n(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="4.0.0";var or=ft.API,X5=1,Xu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(t){return t.toFixed(2)},al=function(t){return t.toFixed(5)};or.__acroform__={};var ts=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},G4=function(t){return t*X5},Do=function(t){var e=new YN,n=Ze.internal.getHeight(t)||0,r=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mt(r)),Number(Mt(n))],e},Dz=or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Mz=or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Oz=or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},yr=or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Oz(t,e-1)},vr=or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Dz(t,e-1)},wr=or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Mz(t,e-1)},Fz=or.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Mt(l.lowerLeft_X)),Number(Mt(l.lowerLeft_Y)),Number(Mt(l.upperRight_X)),Number(Mt(l.upperRight_Y))]},jz=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Py(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Do(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Py=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=n,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(S,P,R){if(S+1<i.length){var X=P+" "+i[S+1][0];return Op(X,t,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=Op("3",t,s).height,g=t.multiline?o-s:(o-d)/2,m=g+=2,b=0,x=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Op(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",A=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var O=!1;if(i[I].length!==1&&k!==i[I].length-1){if((d+2)*(A+2)+2>o)continue e;_+=i[I][k],O=!0,x=I,I--}else{_=(_+=i[I][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var Q=parseInt(I),te=l(Q,_,s),j=I>=i.length-1;if(te&&!j){_+=" ",k=0;continue}if(te||j){if(j)x=Q;else if(t.multiline&&(d+2)*(A+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(A+2)+2>o)continue e;x=Q}}for(var C="",N=b;N<=x;N++){var F=i[N];if(t.multiline){if(N===x){C+=F[k]+" ",k=(k+1)%F.length;continue}if(N===b){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,c=Op(C,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Mt(u)+" "+Mt(m)+` Td
`,e+="("+Xu(C)+`) Tj
`,e+=-Mt(u)+` 0 Td
`,m=-(s+2),c=0,b=O?x:x+1,A++,_=""}break}return r.text=e,r.fontSize=s,r},Op=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Vz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uz=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Bz=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Vz)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new QN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Uz(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Fz(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),_n(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=jz(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var b=m[o];typeof b=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,a)),d+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(x,k){for(var _ in x)if(x.hasOwnProperty(_)){var A=_,I=x[_];k.internal.newObjectDeferredBegin(I.objId,!0),_n(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete x[A]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},KN=or.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),_n(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Xu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xu(r(t))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:KN(i,this.objId,this.scope)}):i instanceof Vo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var YN=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ts(YN,Vo);var QN=function(){Vo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xu(n(t))+")"}},set:function(n){t=n}})};ts(QN,Vo);var bo=function t(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(_){_?this.F=vr(e,3):this.F=wr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vg)return;s="FieldObject"+t.FieldNum++}var _=function(A){return A};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Xu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/X5:u},set:function(_){u=_}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof vg||this instanceof Au))return V1(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zr==0?V1(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof zr==0?_.substr(0,1)==="("?cc(_.substr(1,_.length-2)):cc(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr==1?cc(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof zr==1?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zr==0?V1(m,this.objId,this.scope):m},set:function(_){_=_.toString(),m=this instanceof zr==0?_.substr(0,1)==="("?cc(_.substr(1,_.length-2)):cc(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr==1?cc(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof zr==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(_){_=!!_,x=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(_){b=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(_){_?this.Ff=vr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(_){_?this.Ff=vr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(_){_?this.Ff=vr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ts(bo,Vo);var Hc=function(){bo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(n){n?this.Ff=vr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(n){n?(this.Ff=vr(this.Ff,20),e.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(n){n?this.Ff=vr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(n){n?this.Ff=vr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(n){n?this.Ff=vr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};ts(Hc,bo);var Wc=function(){Hc.call(this),this.fontName="helvetica",this.combo=!1};ts(Wc,Hc);var Gc=function(){Wc.call(this),this.combo=!0};ts(Gc,Wc);var gm=function(){Gc.call(this),this.edit=!0};ts(gm,Gc);var zr=function(){bo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(n){n?this.Ff=vr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(n){n?this.Ff=vr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(n){n?this.Ff=vr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(n){n?this.Ff=vr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){_n(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ts(zr,bo);var ym=function(){zr.call(this),this.pushButton=!0};ts(ym,zr);var Kc=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ts(Kc,zr);var vg=function(){var t,e;bo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Xu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){_n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ts(vg,bo),Kc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kc.prototype.createOption=function(t){var e=new vg;return e.Parent=this,e.optionName=t,this.Kids.push(e),zz.call(this.scope,e),e};var vm=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};ts(vm,zr);var Au=function(){bo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=vr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=vr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=vr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=vr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=vr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=vr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ts(Au,bo);var wm=function(){Au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(t){t?this.Ff=vr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};ts(wm,Au);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Py(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Mt(Ze.internal.getWidth(t))+" "+Mt(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),a=Py(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mt(o)+" "+Mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(o-1)+" "+Mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Mt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(Ze.internal.getWidth(t))+" "+Mt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+al(Ze.internal.getWidth(t)/2)+" "+al(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+al(Ze.internal.getWidth(t)/2)+" "+al(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+al(Ze.internal.getWidth(t)/2)+" "+al(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+al(Ze.internal.getWidth(t)/2)+" "+al(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var n=[],r=Ze.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Mt(Ze.internal.getWidth(t)-2)+" "+Mt(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=Ze.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(Ze.internal.getWidth(t))+" "+Mt(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Mt(Ze.internal.getWidth(t)-2)+" "+Mt(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(Ze.internal.getWidth(t))+" "+Mt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),n=Ze.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(t){var e=0;return _n(t)==="object"&&(e=G4(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return _n(t)==="object"&&(e=G4(t.Rect[3])),e};var zz=or.addField=function(t){if(Bz(this,t),!(t instanceof bo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=Hc,or.AcroFormListBox=Wc,or.AcroFormComboBox=Gc,or.AcroFormEditBox=gm,or.AcroFormButton=zr,or.AcroFormPushButton=ym,or.AcroFormRadioButton=Kc,or.AcroFormCheckBox=vm,or.AcroFormTextField=Au,or.AcroFormPasswordField=wm,or.AcroFormAppearance=Ze,or.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:gm,Button:zr,PushButton:ym,RadioButton:Kc,CheckBox:vm,TextField:Au,PasswordField:wm,Appearance:Ze},ft.AcroForm={ChoiceField:Hc,ListBox:Wc,ComboBox:Gc,EditBox:gm,Button:zr,PushButton:ym,RadioButton:Kc,CheckBox:vm,TextField:Au,PasswordField:wm,Appearance:Ze};function XN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,P){var R,X,ue,ge,ye,Z=n;if((P=P||n)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(te(S))for(ye in r)for(ue=r[ye],R=0;R<ue.length;R+=1){for(ge=!0,X=0;X<ue[R].length;X+=1)if(ue[R][X]!==void 0&&ue[R][X]!==S[X]){ge=!1;break}if(ge===!0){Z=ye;break}}else for(ye in r)for(ue=r[ye],R=0;R<ue.length;R+=1){for(ge=!0,X=0;X<ue[R].length;X+=1)if(ue[R][X]!==void 0&&ue[R][X]!==S.charCodeAt(X)){ge=!1;break}if(ge===!0){Z=ye;break}}return Z===n&&P!==n&&(Z=P),Z},s=function S(P){for(var R=this.internal.write,X=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:P.width}),ge.push({key:"Height",value:P.height}),P.colorSpace===_.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===_.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var ye="",Z=0,ce=P.transparency.length;Z<ce;Z++)ye+=P.transparency[Z]+" "+P.transparency[Z]+" ";ge.push({key:"Mask",value:"["+ye+"]"})}P.sMask!==void 0&&ge.push({key:"SMask",value:P.objectId+1+" 0 R"});var _e=P.filter!==void 0?["/"+P.filter]:void 0;if(X({data:P.data,additionalKeyValues:ge,alreadyAppliedFilters:_e,objectId:P.objectId}),R("endobj"),"sMask"in P&&P.sMask!==void 0){var be,V=(be=P.sMaskBitsPerComponent)!==null&&be!==void 0?be:P.bitsPerComponent,W={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:P.sMask};"filter"in P&&(W.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(P.width),W.filter=P.filter),S.call(this,W)}if(P.colorSpace===_.INDEXED){var J=this.internal.newObject();X({data:C(new Uint8Array(P.palette)),objectId:J}),R("endobj")}},o=function(){var S=this.internal.collections[e+"images"];for(var P in S)s.call(this,S[P])},a=function(){var S,P=this.internal.collections[e+"images"],R=this.internal.write;for(var X in P)R("/I"+(S=P[X]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(S){return typeof t["process"+S.toUpperCase()]=="function"},g=function(S){return _n(S)==="object"&&S.nodeType===1},m=function(S,P){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var R=""+S.getAttribute("src");if(R.indexOf("data:image/")===0)return mm(unescape(R).split("base64,").pop());var X=t.loadFile(R,!0);if(X!==void 0)return X}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ue;switch(P){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return mm(S.toDataURL(ue,1).split("base64,").pop())}},b=function(S){var P=this.internal.collections[e+"images"];if(P){for(var R in P)if(S===P[R].alias)return P[R]}},x=function(S,P,R){return S||P||(S=-96,P=-96),S<0&&(S=-1*R.width*72/S/this.internal.scaleFactor),P<0&&(P=-1*R.height*72/P/this.internal.scaleFactor),S===0&&(S=P*R.width/R.height),P===0&&(P=S*R.height/R.width),[S,P]},k=function(S,P,R,X,ue,ge){var ye=x.call(this,R,X,ue),Z=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,_e=u.call(this);if(R=ye[0],X=ye[1],_e[ue.index]=ue,ge){ge*=Math.PI/180;var be=Math.cos(ge),V=Math.sin(ge),W=function(ne){return ne.toFixed(4)},J=[W(be),W(V),W(-1*V),W(be),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,Z(S),ce(P+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Z(R),"0","0",Z(X),"0","0","cm"].join(" "))):this.internal.write([Z(R),"0","0",Z(X),Z(S),ce(P+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(S){var P,R,X=0;if(typeof S=="string")for(R=S.length,P=0;P<R;P++)X=(X<<5)-X+S.charCodeAt(P),X|=0;else if(te(S))for(R=S.byteLength/2,P=0;P<R;P++)X=(X<<5)-X+S[P],X|=0;return X},O=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var P=!0;return S.length===0&&(P=!1),S.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(P=!1),P},Q=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var P=S.indexOf(",");return P<0?null:S.substring(0,P).trim().endsWith("base64")?S.substring(P+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var te=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(S){for(var P=S.length,R=new Uint8Array(P),X=0;X<P;X++)R[X]=S.charCodeAt(X);return R},C=t.__addimage__.arrayBufferToBinaryString=function(S){for(var P="",R=te(S)?S:new Uint8Array(S),X=0;X<R.length;X+=8192)P+=String.fromCharCode.apply(null,R.subarray(X,X+8192));return P};t.addImage=function(){var S,P,R,X,ue,ge,ye,Z,ce;if(typeof arguments[1]=="number"?(P=n,R=arguments[1],X=arguments[2],ue=arguments[3],ge=arguments[4],ye=arguments[5],Z=arguments[6],ce=arguments[7]):(P=arguments[1],R=arguments[2],X=arguments[3],ue=arguments[4],ge=arguments[5],ye=arguments[6],Z=arguments[7],ce=arguments[8]),_n(S=arguments[0])==="object"&&!g(S)&&"imageData"in S){var _e=S;S=_e.imageData,P=_e.format||P||n,R=_e.x||R||0,X=_e.y||X||0,ue=_e.w||_e.width||ue,ge=_e.h||_e.height||ge,ye=_e.alias||ye,Z=_e.compression||Z,ce=_e.rotation||_e.angle||ce}var be=this.internal.getFilters();if(Z===void 0&&be.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(R)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=N.call(this,S,P,ye,Z);return k.call(this,R,X,ue,ge,V,ce),this};var N=function(S,P,R,X){var ue,ge,ye;if(typeof S=="string"&&i(S)===n){S=unescape(S);var Z=F(S,!1);(Z!==""||(Z=t.loadFile(S,!0))!==void 0)&&(S=Z)}if(g(S)&&(S=m(S,P)),P=i(S,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ye=R)==null||ye.length===0)&&(R=function(ce){return typeof ce=="string"||te(ce)?I(ce):te(ce.data)?I(ce.data):null}(S)),(ue=b.call(this,R))||(S instanceof Uint8Array||P==="RGBA"||(ge=S,S=j(S)),ue=this["process"+P.toUpperCase()](S,c.call(this),R,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:A.NONE}(X),ge)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},F=t.__addimage__.convertBase64ToBinaryString=function(S,P){P=typeof P!="boolean"||P;var R,X="";if(typeof S=="string"){var ue;R=(ue=Q(S))!==null&&ue!==void 0?ue:S;try{X=mm(R)}catch(ge){if(P)throw O(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(S){var P,R,X="";if(g(S)&&(S=m(S)),typeof S=="string"&&i(S)===n&&((X=F(S,!1))===""&&(X=t.loadFile(S)||""),S=X),R=i(S),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(S instanceof Uint8Array||(S=j(S)),!(P=this["process"+R.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=R,P}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(x.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(_(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(_(A))+") >>",x.content=s;var I=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(x.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Q=this.annotations._nameMap[r.options.name];r.options.pageNumber=Q.page,r.options.top=Q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var te=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+te+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(x){var k=0,_=n,A="",I=0;for(k=0;k<x.length;k+=1)_[x.charCodeAt(k)]!==void 0?(I++,typeof(_=_[x.charCodeAt(k)])=="number"&&(A+=String.fromCharCode(_),_=n,I=0),k===x.length-1&&(_=n,A+=x.charAt(k-(I-1)),k-=I-1,I=0)):(_=n,A+=x.charAt(k-I),k-=I,I=0);return A};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,k,_){return o(x)?s(x)===!1?-1:!u(x)||!o(k)&&!o(_)||!o(_)&&a(k)||a(x)&&!o(k)||a(x)&&l(k)||a(x)&&a(k)?0:c(x)&&o(k)&&!a(k)&&o(_)&&u(_)?3:a(x)||!o(_)?1:2:-1},m=function(x){var k=0,_=0,A=0,I="",O="",Q="",te=(x=x||"").split("\\s+"),j=[];for(k=0;k<te.length;k+=1){for(j.push(""),_=0;_<te[k].length;_+=1)I=te[k][_],O=te[k][_-1],Q=te[k][_+1],o(I)?(A=g(I,O,Q),j[k]+=A!==-1?String.fromCharCode(e[I.charCodeAt(0)][A]):I):j[k]+=I;j[k]=d(j[k])}return j.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var A=0;for(_=[],A=0;A<k.length;A+=1)Array.isArray(k[A])?_.push([m(k[A][0]),k[A][1],k[A][2]]):_.push([m(k[A])]);x=_}else x=m(k);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(ft.API),ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,b=0,x=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,O){return I.concat(k.splitTextToSize(O,_))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)m<(x=this.getStringUnitWidth(l[A],{font:d})*c)&&(m=x);return m!==0&&(b=l.length),{w:m/=g,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var m,b,x,k,_=[],A=[],I=[],O={},Q={},te=[],j=[],C=(g=g||{}).autoSize||!1,N=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,S=g.margins||Object.assign({width:this.getPageWidth()},e),P=typeof g.padding=="number"?g.padding:3,R=g.headerBackgroundColor||"#c8c8c8",X=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=X,this.setFontSize(F),d==null)A=_=Object.keys(c[0]),I=_.map(function(){return"left"});else if(Array.isArray(d)&&_n(d[0])==="object")for(_=d.map(function(_e){return _e.name}),A=d.map(function(_e){return _e.prompt||_e.name||""}),I=d.map(function(_e){return _e.align||"left"}),m=0;m<d.length;m+=1)Q[d[m].name]=.7499990551181103*d[m].width;else Array.isArray(d)&&typeof d[0]=="string"&&(A=_=d,I=_.map(function(){return"left"}));if(C||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<_.length;m+=1){for(O[k=_[m]]=c.map(function(_e){return _e[k]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=O[k],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)te.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[k]=Math.max.apply(null,te)+P+P,te=[]}if(N){var ue={};for(m=0;m<_.length;m+=1)ue[_[m]]={},ue[_[m]].text=A[m],ue[_[m]].align=I[m];var ge=a.call(this,ue,Q);j=_.map(function(_e){return new s(l,u,Q[_e],ge,ue[_e].text,void 0,ue[_e].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ye=d.reduce(function(_e,be){return _e[be.name]=be.align,_e},{});for(m=0;m<c.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:c[m]},this);var Z=a.call(this,c[m],Q);for(x=0;x<_.length;x+=1){var ce=c[m][_[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:x,data:ce},this),o.call(this,new s(l,u,Q[_[x]],Z,ce,m+2,ye[_[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var b=l[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/g+c+c},this).reduce(function(m,b){return Math.max(m,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ft.API);var JN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ry=XN(ZN),eT=[100,200,300,400,500,600,700,800,900],qz=XN(eT);function U1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return JN[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Ry[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function K4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var $z={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function X4(t){return t.trimLeft()}function Hz(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Wz(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Fp,J4,Z4,hc,jp,e3,t3,n3,B1=["times"];function r3(t,e,n,r,i){var s=4,o=s3;switch(i){case ft.API.image_compression.FAST:s=1,o=i3;break;case ft.API.image_compression.MEDIUM:s=6,o=o3;break;case ft.API.image_compression.SLOW:s=9,o=a3}t=function(l,u,c,d){for(var g,m=l.length/u,b=new Uint8Array(l.length+m),x=[Gz,i3,s3,o3,a3],k=0;k<m;k+=1){var _=k*u,A=l.subarray(_,_+u);if(d)b.set(d(A,c,g),_+k);else{for(var I=x.length,O=[],Q=0;Q<I;Q+=1)O[Q]=x[Q](A,c,g);var te=Yz(O.concat());b.set(O[te],_+k)}g=A}return b}(t,e,Math.ceil(n*r/8),o);var a=wy(t,{level:s});return ft.API.__addimage__.arrayBufferToBinaryString(a)}function Gz(t){var e=Array.apply([],t);return e.unshift(0),e}function i3(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function s3(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function o3(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function a3(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Kz(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function Kz(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Yz(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function z1(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return tT(t,i)>>s&o}function l3(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var g=d>>8&255;u.setUint8(c,g)}})(t,s,tT(t,s)&~(a<<o)&65535|l)}function tT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Qz(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,g=null,m=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,O=t[e++],Q=O>>6&1,te=1<<1+(7&O),j=a,C=l,N=!1;O>>7&&(N=!0,j=e,C=te,e+=3*te);var F=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}c.push({x:k,y:_,width:A,height:I,has_local_palette:N,palette_offset:j,palette_size:C,data_offset:F,data_length:e-F,transparent_index:g,interlaced:!!Q,delay:d,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=c.length)throw new Error("Frame index out of range.");return c[P]},this.decodeAndBlitFrameBGRA=function(P,R){var X=this.frameInfo(P),ue=X.width*X.height,ge=new Uint8Array(ue);u3(t,X.data_offset,ge,ue);var ye=X.palette_offset,Z=X.transparent_index;Z===null&&(Z=256);var ce=X.width,_e=n-ce,be=ce,V=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),J=V,ne=4*_e;X.interlaced===!0&&(ne+=4*n*7);for(var ie=8,ae=0,ve=ge.length;ae<ve;++ae){var we=ge[ae];if(be===0&&(be=ce,(J+=ne)>=W&&(ne=4*_e+4*n*(ie-1),J=V+(ce+_e)*(ie<<1),ie>>=1)),we===Z)J+=4;else{var Ie=t[ye+3*we],De=t[ye+3*we+1],ze=t[ye+3*we+2];R[J++]=ze,R[J++]=De,R[J++]=Ie,R[J++]=255}--be}},this.decodeAndBlitFrameRGBA=function(P,R){var X=this.frameInfo(P),ue=X.width*X.height,ge=new Uint8Array(ue);u3(t,X.data_offset,ge,ue);var ye=X.palette_offset,Z=X.transparent_index;Z===null&&(Z=256);var ce=X.width,_e=n-ce,be=ce,V=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),J=V,ne=4*_e;X.interlaced===!0&&(ne+=4*n*7);for(var ie=8,ae=0,ve=ge.length;ae<ve;++ae){var we=ge[ae];if(be===0&&(be=ce,(J+=ne)>=W&&(ne=4*_e+4*n*(ie-1),J=V+(ce+_e)*(ie<<1),ie>>=1)),we===Z)J+=4;else{var Ie=t[ye+3*we],De=t[ye+3*we+1],ze=t[ye+3*we+2];R[J++]=Ie,R[J++]=De,R[J++]=ze,R[J++]=255}--be}}}function u3(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,m=t[e++],b=new Int32Array(4096),x=null;;){for(;c<16&&m!==0;)d|=t[e++]<<c,c+=8,m===1?m=t[e++]:--m;if(c<l)break;var k=d&u;if(d>>=l,c-=l,k!==s){if(k===o)break;for(var _=k<a?k:x,A=0,I=_;I>s;)I=b[I]>>8,++A;var O=I;if(g+A+(_!==k?1:0)>r)return void Tn.log("Warning, gif stream longer than expected.");n[g++]=O;var Q=g+=A;for(_!==k&&(n[g++]=O),I=_;A--;)I=b[I],n[--Q]=255&I,I>>=8;x!==null&&a<4096&&(b[a++]=x<<8|O,a>=u+1&&l<12&&(++l,u=u<<1|1)),x=k}else a=o+1,u=(1<<(l=i+1))-1,x=null}return g!==r&&Tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function q1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),x=[],k=0,_=7,A=new Array(64),I=new Array(64),O=new Array(64),Q=new Array(256),te=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(V,W){for(var J=0,ne=0,ie=new Array,ae=1;ae<=16;ae++){for(var ve=1;ve<=V[ae];ve++)ie[W[ne]]=[],ie[W[ne]][0]=J,ie[W[ne]][1]=ae,ne++,J++;J*=2}return ie}function ye(V){for(var W=V[0],J=V[1]-1;J>=0;)W&1<<J&&(k|=1<<_),J--,--_<0&&(k==255?(Z(255),Z(0)):Z(k),_=7,k=0)}function Z(V){x.push(V)}function ce(V){Z(V>>8&255),Z(255&V)}function _e(V,W,J,ne,ie){for(var ae,ve=ie[0],we=ie[240],Ie=function(Ne,He){var qe,dt,rt,Xt,Ct,xt,Dt,Vt,et,kt,We=0;for(et=0;et<8;++et){qe=Ne[We],dt=Ne[We+1],rt=Ne[We+2],Xt=Ne[We+3],Ct=Ne[We+4],xt=Ne[We+5],Dt=Ne[We+6];var kn=qe+(Vt=Ne[We+7]),Ft=qe-Vt,Je=dt+Dt,Rt=dt-Dt,en=rt+xt,tt=rt-xt,sn=Xt+Ct,ht=Xt-Ct,mt=kn+sn,on=kn-sn,Ke=Je+en,ut=Je-en;Ne[We]=mt+Ke,Ne[We+4]=mt-Ke;var qt=.707106781*(ut+on);Ne[We+2]=on+qt,Ne[We+6]=on-qt;var er=.382683433*((mt=ht+tt)-(ut=Rt+Ft)),Un=.5411961*mt+er,oi=1.306562965*ut+er,Ar=.707106781*(Ke=tt+Rt),gt=Ft+Ar,Kn=Ft-Ar;Ne[We+5]=Kn+Un,Ne[We+3]=Kn-Un,Ne[We+1]=gt+oi,Ne[We+7]=gt-oi,We+=8}for(We=0,et=0;et<8;++et){qe=Ne[We],dt=Ne[We+8],rt=Ne[We+16],Xt=Ne[We+24],Ct=Ne[We+32],xt=Ne[We+40],Dt=Ne[We+48];var $r=qe+(Vt=Ne[We+56]),Hr=qe-Vt,Wr=dt+Dt,pn=dt-Dt,Pn=rt+xt,ur=rt-xt,Dr=Xt+Ct,ns=Xt-Ct,ai=$r+Dr,li=$r-Dr,Gr=Wr+Pn,ui=Wr-Pn;Ne[We]=ai+Gr,Ne[We+32]=ai-Gr;var Ir=.707106781*(ui+li);Ne[We+16]=li+Ir,Ne[We+48]=li-Ir;var Ns=.382683433*((ai=ns+ur)-(ui=pn+Hr)),zi=.5411961*ai+Ns,xe=1.306562965*ui+Ns,Le=.707106781*(Gr=ur+pn),lt=Hr+Le,wt=Hr-Le;Ne[We+40]=wt+zi,Ne[We+24]=wt-zi,Ne[We+8]=lt+xe,Ne[We+56]=lt-xe,We++}for(et=0;et<64;++et)kt=Ne[et]*He[et],m[et]=kt>0?kt+.5|0:kt-.5|0;return m}(V,W),De=0;De<64;++De)b[j[De]]=Ie[De];var ze=b[0]-J;J=b[0],ze==0?ye(ne[0]):(ye(ne[g[ae=32767+ze]]),ye(d[ae]));for(var Ve=63;Ve>0&&b[Ve]==0;)Ve--;if(Ve==0)return ye(ve),J;for(var ot,H=1;H<=Ve;){for(var Ue=H;b[H]==0&&H<=Ve;)++H;var St=H-Ue;if(St>=16){ot=St>>4;for(var at=1;at<=ot;++at)ye(we);St&=15}ae=32767+b[H],ye(ie[(St<<4)+g[ae]]),ye(d[ae]),H++}return Ve!=63&&ye(ve),J}function be(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ie=o((J[ne]*W+50)/100);ie=Math.min(Math.max(ie,1),255),a[j[ne]]=ie}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=o((ae[ve]*W+50)/100);we=Math.min(Math.max(we,1),255),l[j[ve]]=we}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,ze=0;ze<8;ze++)for(var Ve=0;Ve<8;Ve++)u[De]=1/(a[j[De]]*Ie[ze]*Ie[Ve]*8),c[De]=1/(l[j[De]]*Ie[ze]*Ie[Ve]*8),De++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,W){W&&be(W),x=new Array,k=0,_=7,ce(65496),ce(65504),ce(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ce(1),ce(1),Z(0),Z(0),function(){ce(65499),ce(132),Z(0);for(var dt=0;dt<64;dt++)Z(a[dt]);Z(1);for(var rt=0;rt<64;rt++)Z(l[rt])}(),function(dt,rt){ce(65472),ce(17),Z(8),ce(rt),ce(dt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(V.width,V.height),function(){ce(65476),ce(418),Z(0);for(var dt=0;dt<16;dt++)Z(C[dt+1]);for(var rt=0;rt<=11;rt++)Z(N[rt]);Z(16);for(var Xt=0;Xt<16;Xt++)Z(F[Xt+1]);for(var Ct=0;Ct<=161;Ct++)Z(S[Ct]);Z(1);for(var xt=0;xt<16;xt++)Z(P[xt+1]);for(var Dt=0;Dt<=11;Dt++)Z(R[Dt]);Z(17);for(var Vt=0;Vt<16;Vt++)Z(X[Vt+1]);for(var et=0;et<=161;et++)Z(ue[et])}(),ce(65498),ce(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var J=0,ne=0,ie=0;k=0,_=7,this.encode.displayName="_encode_";for(var ae,ve,we,Ie,De,ze,Ve,ot,H,Ue=V.data,St=V.width,at=V.height,Ne=4*St,He=0;He<at;){for(ae=0;ae<Ne;){for(De=Ne*He+ae,Ve=-1,ot=0,H=0;H<64;H++)ze=De+(ot=H>>3)*Ne+(Ve=4*(7&H)),He+ot>=at&&(ze-=Ne*(He+1+ot-at)),ae+Ve>=Ne&&(ze-=ae+Ve-Ne+4),ve=Ue[ze++],we=Ue[ze++],Ie=Ue[ze++],A[H]=(te[ve]+te[we+256|0]+te[Ie+512|0]>>16)-128,I[H]=(te[ve+768|0]+te[we+1024|0]+te[Ie+1280|0]>>16)-128,O[H]=(te[ve+1280|0]+te[we+1536|0]+te[Ie+1792|0]>>16)-128;J=_e(A,u,J,e,r),ne=_e(I,c,ne,n,i),ie=_e(O,c,ie,n,i),ae+=32}He+=8}if(_>=0){var qe=[];qe[1]=_+1,qe[0]=(1<<_+1)-1,ye(qe)}return ce(65497),new Uint8Array(x)},t=t||50,function(){for(var V=String.fromCharCode,W=0;W<256;W++)Q[W]=V(W)}(),e=ge(C,N),n=ge(P,R),r=ge(F,S),i=ge(X,ue),function(){for(var V=1,W=2,J=1;J<=15;J++){for(var ne=V;ne<W;ne++)g[32767+ne]=J,d[32767+ne]=[],d[32767+ne][1]=J,d[32767+ne][0]=ne;for(var ie=-(W-1);ie<=-V;ie++)g[32767+ie]=J,d[32767+ie]=[],d[32767+ie][1]=J,d[32767+ie][0]=W-1+ie;V<<=1,W<<=1}}(),function(){for(var V=0;V<256;V++)te[V]=19595*V,te[V+256|0]=38470*V,te[V+512|0]=7471*V+32768,te[V+768|0]=-11059*V,te[V+1024|0]=-21709*V,te[V+1280|0]=32768*V+8421375,te[V+1536|0]=-27439*V,te[V+1792|0]=-5329*V}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function so(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function c3(t){function e(N){if(!N)throw Error("assert :P")}function n(N,F,S){for(var P=0;4>P;P++)if(N[F+P]!=S.charCodeAt(P))return!0;return!1}function r(N,F,S,P,R){for(var X=0;X<R;X++)N[F+X]=S[P+X]}function i(N,F,S,P){for(var R=0;R<P;R++)N[F+R]=S}function s(N){return new Int32Array(N)}function o(N,F){for(var S=[],P=0;P<N;P++)S.push(new F);return S}function a(N,F){var S=[];return function P(R,X,ue){for(var ge=ue[X],ye=0;ye<ge&&(R.push(ue.length>X+1?[]:new F),!(ue.length<X+1));ye++)P(R[ye],X+1,ue)}(S,0,N),S}var l=function(){var N=this;function F(h,p){for(var v=1<<p-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function S(h,p,v,E,M){e(!(E%v));do h[p+(E-=v)]=M;while(0<E)}function P(h,p,v,E,M){if(e(2328>=M),512>=M)var U=s(512);else if((U=s(M))==null)return 0;return function(B,z,$,K,re,pe){var Y,oe,fe=z,Se=1<<$,de=s(16),Ae=s(16);for(e(re!=0),e(K!=null),e(B!=null),e(0<$),oe=0;oe<re;++oe){if(15<K[oe])return 0;++de[K[oe]]}if(de[0]==re)return 0;for(Ae[1]=0,Y=1;15>Y;++Y){if(de[Y]>1<<Y)return 0;Ae[Y+1]=Ae[Y]+de[Y]}for(oe=0;oe<re;++oe)Y=K[oe],0<K[oe]&&(pe[Ae[Y]++]=oe);if(Ae[15]==1)return(K=new R).g=0,K.value=pe[0],S(B,fe,1,Se,K),Se;var Te,Me=-1,Re=Se-1,ct=0,Xe=1,Bt=1,it=1<<$;for(oe=0,Y=1,re=2;Y<=$;++Y,re<<=1){if(Xe+=Bt<<=1,0>(Bt-=de[Y]))return 0;for(;0<de[Y];--de[Y])(K=new R).g=Y,K.value=pe[oe++],S(B,fe+ct,re,it,K),ct=F(ct,Y)}for(Y=$+1,re=2;15>=Y;++Y,re<<=1){if(Xe+=Bt<<=1,0>(Bt-=de[Y]))return 0;for(;0<de[Y];--de[Y]){if(K=new R,(ct&Re)!=Me){for(fe+=it,Te=1<<(Me=Y)-$;15>Me&&!(0>=(Te-=de[Me]));)++Me,Te<<=1;Se+=it=1<<(Te=Me-$),B[z+(Me=ct&Re)].g=Te+$,B[z+Me].value=fe-z-Me}K.g=Y-$,K.value=pe[oe++],S(B,fe+(ct>>$),re,it,K),ct=F(ct,Y)}}return Xe!=2*Ae[15]-1?0:Se}(h,p,v,E,M,U)}function R(){this.value=this.g=0}function X(){this.value=this.g=0}function ue(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ru,X)}function ge(h,p,v,E){e(h!=null),e(p!=null),e(2147483648>E),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=v,h.Jd=p,h.Yc=v+E,h.Zc=4<=E?v+E-4+1:v,ve(h)}function ye(h,p){for(var v=0;0<p--;)v|=Ie(h,128)<<p;return v}function Z(h,p){var v=ye(h,p);return we(h)?-v:v}function ce(h,p,v,E){var M,U=0;for(e(h!=null),e(p!=null),e(4294967288>E),h.Sb=E,h.Ra=0,h.u=0,h.h=0,4<E&&(E=4),M=0;M<E;++M)U+=p[v+M]<<8*M;h.Ra=U,h.bb=E,h.oa=p,h.pa=v}function _e(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Wa-8>>>0,++h.bb,h.u-=8;ne(h)&&(h.h=1,h.u=0)}function be(h,p){if(e(0<=p),!h.h&&p<=ls){var v=J(h)&as[p];return h.u+=p,_e(h),v}return h.h=1,h.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(h){return h.Ra>>>(h.u&Wa-1)>>>0}function ne(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Wa}function ie(h,p){h.u=p,h.h=ne(h)}function ae(h){h.u>=aa&&(e(h.u>=aa),_e(h))}function ve(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function we(h){return ye(h,1)}function Ie(h,p){var v=h.Ca;0>h.b&&ve(h);var E=h.b,M=v*p>>>8,U=(h.I>>>E>M)+0;for(U?(v-=M,h.I-=M+1<<E>>>0):v=M+1,E=v,M=0;256<=E;)M+=8,E>>=8;return E=7^M+Ga[E],h.b-=E,h.Ca=(v<<E)-1,U}function De(h,p,v){h[p+0]=v>>24&255,h[p+1]=v>>16&255,h[p+2]=v>>8&255,h[p+3]=255&v}function ze(h,p){return h[p+0]|h[p+1]<<8}function Ve(h,p){return ze(h,p)|h[p+2]<<16}function ot(h,p){return ze(h,p)|ze(h,p+2)<<16}function H(h,p){var v=1<<p;return e(h!=null),e(0<p),h.X=s(v),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function Ue(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),r(p.X,0,h.X,0,1<<p.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function at(h,p,v,E){e(v!=null),e(E!=null);var M=v[0],U=E[0];return M==0&&(M=(h*U+p/2)/p),U==0&&(U=(p*M+h/2)/h),0>=M||0>=U?0:(v[0]=M,E[0]=U,1)}function Ne(h,p){return h+(1<<p)-1>>>p}function He(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function qe(h,p){N[p]=function(v,E,M,U,B,z,$){var K;for(K=0;K<B;++K){var re=N[h](z[$+K-1],M,U+K);z[$+K]=He(v[E+K],re)}}}function dt(){this.ud=this.hd=this.jd=0}function rt(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function Xt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ct(h,p){return Xt(h+(h-p+.5>>1))}function xt(h,p,v){return Math.abs(p-v)-Math.abs(h-v)}function Dt(h,p,v,E,M,U,B){for(E=U[B-1],v=0;v<M;++v)U[B+v]=E=He(h[p+v],E)}function Vt(h,p,v,E,M){var U;for(U=0;U<v;++U){var B=h[p+U],z=B>>8&255,$=16711935&($=($=16711935&B)+((z<<16)+z));E[M+U]=(4278255360&B)+$>>>0}}function et(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function kt(h,p,v,E,M,U){var B;for(B=0;B<E;++B){var z=p[v+B],$=z>>>8,K=z,re=255&(re=(re=z>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));K=255&(K=(K+=(h.hd<<24>>24)*($<<24>>24)>>>5)+((h.ud<<24>>24)*(re<<24>>24)>>>5)),M[U+B]=(4278255360&z)+(re<<16)+K}}function We(h,p,v,E,M){N[p]=function(U,B,z,$,K,re,pe,Y,oe){for($=pe;$<Y;++$)for(pe=0;pe<oe;++pe)K[re++]=M(z[E(U[B++])])},N[h]=function(U,B,z,$,K,re,pe){var Y=8>>U.b,oe=U.Ea,fe=U.K[0],Se=U.w;if(8>Y)for(U=(1<<U.b)-1,Se=(1<<Y)-1;B<z;++B){var de,Ae=0;for(de=0;de<oe;++de)de&U||(Ae=E($[K++])),re[pe++]=M(fe[Ae&Se]),Ae>>=Y}else N["VP8LMapColor"+v]($,K,fe,Se,re,pe,B,z,oe)}}function kn(h,p,v,E,M){for(v=p+v;p<v;){var U=h[p++];E[M++]=U>>16&255,E[M++]=U>>8&255,E[M++]=255&U}}function Ft(h,p,v,E,M){for(v=p+v;p<v;){var U=h[p++];E[M++]=U>>16&255,E[M++]=U>>8&255,E[M++]=255&U,E[M++]=U>>24&255}}function Je(h,p,v,E,M){for(v=p+v;p<v;){var U=(B=h[p++])>>16&240|B>>12&15,B=240&B|B>>28&15;E[M++]=U,E[M++]=B}}function Rt(h,p,v,E,M){for(v=p+v;p<v;){var U=(B=h[p++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;E[M++]=U,E[M++]=B}}function en(h,p,v,E,M){for(v=p+v;p<v;){var U=h[p++];E[M++]=255&U,E[M++]=U>>8&255,E[M++]=U>>16&255}}function tt(h,p,v,E,M,U){if(U==0)for(v=p+v;p<v;)De(E,((U=h[p++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),M+=32;else r(E,M,h,p,v)}function sn(h,p){N[p][0]=N[h+"0"],N[p][1]=N[h+"1"],N[p][2]=N[h+"2"],N[p][3]=N[h+"3"],N[p][4]=N[h+"4"],N[p][5]=N[h+"5"],N[p][6]=N[h+"6"],N[p][7]=N[h+"7"],N[p][8]=N[h+"8"],N[p][9]=N[h+"9"],N[p][10]=N[h+"10"],N[p][11]=N[h+"11"],N[p][12]=N[h+"12"],N[p][13]=N[h+"13"],N[p][14]=N[h+"0"],N[p][15]=N[h+"0"]}function ht(h){return h==d0||h==p0||h==Gd||h==m0}function mt(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mt,this.f.kb=new on,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function er(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Un(h,p){var v=h.T,E=p.ba.f.RGBA,M=E.eb,U=E.fb+h.ka*E.A,B=js[p.ba.S],z=h.y,$=h.O,K=h.f,re=h.N,pe=h.ea,Y=h.W,oe=p.cc,fe=p.dc,Se=p.Mc,de=p.Nc,Ae=h.ka,Te=h.ka+h.T,Me=h.U,Re=Me+1>>1;for(Ae==0?B(z,$,null,null,K,re,pe,Y,K,re,pe,Y,M,U,null,null,Me):(B(p.ec,p.fc,z,$,oe,fe,Se,de,K,re,pe,Y,M,U-E.A,M,U,Me),++v);Ae+2<Te;Ae+=2)oe=K,fe=re,Se=pe,de=Y,re+=h.Rc,Y+=h.Rc,U+=2*E.A,B(z,($+=2*h.fa)-h.fa,z,$,oe,fe,Se,de,K,re,pe,Y,M,U-E.A,M,U,Me);return $+=h.fa,h.j+Te<h.o?(r(p.ec,p.fc,z,$,Me),r(p.cc,p.dc,K,re,Re),r(p.Mc,p.Nc,pe,Y,Re),v--):1&Te||B(z,$,null,null,K,re,pe,Y,K,re,pe,Y,M,U+E.A,null,null,Me),v}function oi(h,p,v){var E=h.F,M=[h.J];if(E!=null){var U=h.U,B=p.ba.S,z=B==Wd||B==Gd;p=p.ba.f.RGBA;var $=[0],K=h.ka;$[0]=h.T,h.Kb&&(K==0?--$[0]:(--K,M[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-K));var re=p.eb;K=p.fb+K*p.A,h=sw(E,M[0],h.width,U,$,re,K+(z?0:3),p.A),e(v==$),h&&ht(B)&&jh(re,K,z,U,$,p.A)}return 0}function Ar(h){var p=h.ma,v=p.ba.S,E=11>v,M=v==$d||v==Hd||v==Wd||v==f0||v==12||ht(v);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!kh(p.Oa,h,M?11:12))return 0;if(M&&ht(v)&&Pt(),h.da)alert("todo:use_scaling");else{if(E){if(p.Ib=er,h.Kb){if(v=h.U+1>>1,p.memory=s(h.U+2*v),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+v,p.Ib=Un,Pt()}}else alert("todo:EmitYUV");M&&(p.Jb=oi,E&&me())}if(E&&!xw){for(h=0;256>h;++h)YT[h]=89858*(h-128)+Yd>>Kd,JT[h]=-22014*(h-128)+Yd,XT[h]=-45773*(h-128),QT[h]=113618*(h-128)+Yd>>Kd;for(h=Uh;h<v0;++h)p=76283*(h-16)+Yd>>Kd,ZT[h-Uh]=rs(p,255),eC[h-Uh]=rs(p+8>>4,15);xw=1}return 1}function gt(h){var p=h.ma,v=h.U,E=h.T;return e(!(1&h.ka)),0>=v||0>=E?0:(v=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,v),p.Dc+=v,1)}function Kn(h){h.ma.memory=null}function $r(h,p,v,E){return be(h,8)!=47?0:(p[0]=be(h,14)+1,v[0]=be(h,14)+1,E[0]=be(h,1),be(h,3)!=0?0:!h.h)}function Hr(h,p){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+be(p,v)+1}function Wr(h,p){return 120<p?p-120:1<=(v=((v=MT[p-1])>>4)*h+(8-(15&v)))?v:1;var v}function pn(h,p,v){var E=J(v),M=h[p+=255&E].g-8;return 0<M&&(ie(v,v.u+8),E=J(v),p+=h[p].value,p+=E&(1<<M)-1),ie(v,v.u+h[p].g),h[p].value}function Pn(h,p,v){return v.g+=h.g,v.value+=h.value<<p>>>0,e(8>=v.g),h.g}function ur(h,p,v){var E=h.xc;return e((p=E==0?0:h.vc[h.md*(v>>E)+(p>>E)])<h.Wb),h.Ya[p]}function Dr(h,p,v,E){var M=h.ab,U=h.c*p,B=h.C;p=B+p;var z=v,$=E;for(E=h.Ta,v=h.Ua;0<M--;){var K=h.gc[M],re=B,pe=p,Y=z,oe=$,fe=($=E,z=v,K.Ea);switch(e(re<pe),e(pe<=K.nc),K.hc){case 2:hr(Y,oe,(pe-re)*fe,$,z);break;case 0:var Se=re,de=pe,Ae=$,Te=z,Me=(it=K).Ea;Se==0&&(Rh(Y,oe,null,null,1,Ae,Te),Dt(Y,oe+1,0,0,Me-1,Ae,Te+1),oe+=Me,Te+=Me,++Se);for(var Re=1<<it.b,ct=Re-1,Xe=Ne(Me,it.b),Bt=it.K,it=it.w+(Se>>it.b)*Xe;Se<de;){var Jt=Bt,Tr=it,zt=1;for(ic(Y,oe,Ae,Te-Me,1,Ae,Te);zt<Me;){var st=(zt&~ct)+Re;st>Me&&(st=Me),(0,Dh[Jt[Tr++]>>8&15])(Y,oe+ +zt,Ae,Te+zt-Me,st-zt,Ae,Te+zt),zt=st}oe+=Me,Te+=Me,++Se&ct||(it+=Xe)}pe!=K.nc&&r($,z-fe,$,z+(pe-re-1)*fe,fe);break;case 1:for(fe=Y,de=oe,Me=(Y=K.Ea)-(Te=Y&~(Ae=(oe=1<<K.b)-1)),Se=Ne(Y,K.b),Re=K.K,K=K.w+(re>>K.b)*Se;re<pe;){for(ct=Re,Xe=K,Bt=new dt,it=de+Te,Jt=de+Y;de<it;)et(ct[Xe++],Bt),Mh(Bt,fe,de,oe,$,z),de+=oe,z+=oe;de<Jt&&(et(ct[Xe++],Bt),Mh(Bt,fe,de,Me,$,z),de+=Me,z+=Me),++re&Ae||(K+=Se)}break;case 3:if(Y==$&&oe==z&&0<K.b){for(de=$,Y=fe=z+(pe-re)*fe-(Te=(pe-re)*Ne(K.Ea,K.b)),oe=$,Ae=z,Se=[],Te=(Me=Te)-1;0<=Te;--Te)Se[Te]=oe[Ae+Te];for(Te=Me-1;0<=Te;--Te)de[Y+Te]=Se[Te];Ud(K,re,pe,$,fe,$,z)}else Ud(K,re,pe,Y,oe,$,z)}z=E,$=v}$!=v&&r(E,v,z,$,U)}function ns(h,p){var v=h.V,E=h.Ba+h.c*h.C,M=p-h.C;if(e(p<=h.l.o),e(16>=M),0<M){var U=h.l,B=h.Ta,z=h.Ua,$=U.width;if(Dr(h,M,v,E),M=z=[z],e((v=h.C)<(E=p)),e(U.v<U.va),E>U.o&&(E=U.o),v<U.j){var K=U.j-v;v=U.j,M[0]+=K*$}if(v>=E?v=0:(M[0]+=4*U.v,U.ka=v-U.j,U.U=U.va-U.v,U.T=E-v,v=1),v){if(z=z[0],11>(v=h.ca).S){var re=v.f.RGBA,pe=(E=v.S,M=U.U,U=U.T,K=re.eb,re.A),Y=U;for(re=re.fb+h.Ma*re.A;0<Y--;){var oe=B,fe=z,Se=M,de=K,Ae=re;switch(E){case qd:Oh(oe,fe,Se,de,Ae);break;case $d:Ka(oe,fe,Se,de,Ae);break;case d0:Ka(oe,fe,Se,de,Ae),jh(de,Ae,0,Se,1,0);break;case fw:iu(oe,fe,Se,de,Ae);break;case Hd:tt(oe,fe,Se,de,Ae,1);break;case p0:tt(oe,fe,Se,de,Ae,1),jh(de,Ae,0,Se,1,0);break;case Wd:tt(oe,fe,Se,de,Ae,0);break;case Gd:tt(oe,fe,Se,de,Ae,0),jh(de,Ae,1,Se,1,0);break;case f0:Ya(oe,fe,Se,de,Ae);break;case m0:Ya(oe,fe,Se,de,Ae),iw(de,Ae,Se,1,0);break;case dw:Qa(oe,fe,Se,de,Ae);break;default:e(0)}z+=$,re+=pe}h.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=p,e(h.C<=h.i)}function ai(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var v=h.Ya[p].G,E=h.Ya[p].H;if(0<v[1][E[1]+0].g||0<v[2][E[2]+0].g||0<v[3][E[3]+0].g)return 0}return 1}function li(h,p,v,E,M,U){if(h.Z!=0){var B=h.qd,z=h.rd;for(e(Za[h.Z]!=null);p<v;++p)Za[h.Z](B,z,E,M,E,M,U),B=E,z=M,M+=U;h.qd=B,h.rd=z}}function Gr(h,p){var v=h.l.ma,E=v.Z==0||v.Z==1?h.l.j:h.C;if(E=h.C<E?E:h.C,e(p<=h.l.o),p>E){var M=h.l.width,U=v.ca,B=v.tb+M*E,z=h.V,$=h.Ba+h.c*E,K=h.gc;e(h.ab==1),e(K[0].hc==3),ko(K[0],E,p,z,$,U,B),li(v,E,p,U,B,M)}h.C=h.Ma=p}function ui(h,p,v,E,M,U,B){var z=h.$/E,$=h.$%E,K=h.m,re=h.s,pe=v+h.$,Y=pe;M=v+E*M;var oe=v+E*U,fe=280+re.ua,Se=h.Pb?z:16777216,de=0<re.ua?re.Wa:null,Ae=re.wc,Te=pe<oe?ur(re,$,z):null;e(h.C<U),e(oe<=M);var Me=!1;e:for(;;){for(;Me||pe<oe;){var Re=0;if(z>=Se){var ct=pe-v;e((Se=h).Pb),Se.wd=Se.m,Se.xd=ct,0<Se.s.ua&&Ue(Se.s.Wa,Se.s.vb),Se=z+FT}if($&Ae||(Te=ur(re,$,z)),e(Te!=null),Te.Qb&&(p[pe]=Te.qb,Me=!0),!Me)if(ae(K),Te.jc){Re=K,ct=p;var Xe=pe,Bt=Te.pd[J(Re)&ru-1];e(Te.jc),256>Bt.g?(ie(Re,Re.u+Bt.g),ct[Xe]=Bt.value,Re=0):(ie(Re,Re.u+Bt.g-256),e(256<=Bt.value),Re=Bt.value),Re==0&&(Me=!0)}else Re=pn(Te.G[0],Te.H[0],K);if(K.h)break;if(Me||256>Re){if(!Me)if(Te.nd)p[pe]=(Te.qb|Re<<8)>>>0;else{if(ae(K),Me=pn(Te.G[1],Te.H[1],K),ae(K),ct=pn(Te.G[2],Te.H[2],K),Xe=pn(Te.G[3],Te.H[3],K),K.h)break;p[pe]=(Xe<<24|Me<<16|Re<<8|ct)>>>0}if(Me=!1,++pe,++$>=E&&($=0,++z,B!=null&&z<=U&&!(z%16)&&B(h,z),de!=null))for(;Y<pe;)Re=p[Y++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re}else if(280>Re){if(Re=Hr(Re-256,K),ct=pn(Te.G[4],Te.H[4],K),ae(K),ct=Wr(E,ct=Hr(ct,K)),K.h)break;if(pe-v<ct||M-pe<Re)break e;for(Xe=0;Xe<Re;++Xe)p[pe+Xe]=p[pe+Xe-ct];for(pe+=Re,$+=Re;$>=E;)$-=E,++z,B!=null&&z<=U&&!(z%16)&&B(h,z);if(e(pe<=M),$&Ae&&(Te=ur(re,$,z)),de!=null)for(;Y<pe;)Re=p[Y++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re}else{if(!(Re<fe))break e;for(Me=Re-280,e(de!=null);Y<pe;)Re=p[Y++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re;Re=pe,e(!(Me>>>(ct=de).Xa)),p[Re]=ct.X[Me],Me=!0}Me||e(K.h==ne(K))}if(h.Pb&&K.h&&pe<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ue(h.s.vb,h.s.Wa);else{if(K.h)break e;B!=null&&B(h,z>U?U:z),h.a=0,h.$=pe-v}return 1}return h.a=3,0}function Ir(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function Ns(){var h=new bt;return h==null?null:(h.a=0,h.xb=gw,sn("Predictor","VP8LPredictors"),sn("Predictor","VP8LPredictors_C"),sn("PredictorAdd","VP8LPredictorsAdd"),sn("PredictorAdd","VP8LPredictorsAdd_C"),hr=Vt,Mh=kt,Oh=kn,Ka=Ft,Ya=Je,Qa=Rt,iu=en,N.VP8LMapColor32b=Co,N.VP8LMapColor8b=Lh,h)}function zi(h,p,v,E,M){var U=1,B=[h],z=[p],$=E.m,K=E.s,re=null,pe=0;e:for(;;){if(v)for(;U&&be($,1);){var Y=B,oe=z,fe=E,Se=1,de=fe.m,Ae=fe.gc[fe.ab],Te=be(de,2);if(fe.Oc&1<<Te)U=0;else{switch(fe.Oc|=1<<Te,Ae.hc=Te,Ae.Ea=Y[0],Ae.nc=oe[0],Ae.K=[null],++fe.ab,e(4>=fe.ab),Te){case 0:case 1:Ae.b=be(de,3)+2,Se=zi(Ne(Ae.Ea,Ae.b),Ne(Ae.nc,Ae.b),0,fe,Ae.K),Ae.K=Ae.K[0];break;case 3:var Me,Re=be(de,8)+1,ct=16<Re?0:4<Re?1:2<Re?2:3;if(Y[0]=Ne(Ae.Ea,ct),Ae.b=ct,Me=Se=zi(Re,1,0,fe,Ae.K)){var Xe,Bt=Re,it=Ae,Jt=1<<(8>>it.b),Tr=s(Jt);if(Tr==null)Me=0;else{var zt=it.K[0],st=it.w;for(Tr[0]=it.K[0][0],Xe=1;Xe<1*Bt;++Xe)Tr[Xe]=He(zt[st+Xe],Tr[Xe-1]);for(;Xe<4*Jt;++Xe)Tr[Xe]=0;it.K[0]=null,it.K[0]=Tr,Me=1}}Se=Me;break;case 2:break;default:e(0)}U=Se}}if(B=B[0],z=z[0],U&&be($,1)&&!(U=1<=(pe=be($,4))&&11>=pe)){E.a=3;break e}var Be;if(Be=U)t:{var dr,jt,nn,Bn=E,Yr=B,Li=z,rr=pe,pi=v,Di=Bn.m,Cr=Bn.s,an=[null],yn=1,ir=0,vn=OT[rr];n:for(;;){if(pi&&be(Di,1)){var Qr=be(Di,3)+2,no=Ne(Yr,Qr),pr=Ne(Li,Qr),Hi=no*pr;if(!zi(no,pr,0,Bn,an))break n;for(an=an[0],Cr.xc=Qr,dr=0;dr<Hi;++dr){var Nn=an[dr]>>8&65535;an[dr]=Nn,Nn>=yn&&(yn=Nn+1)}}if(Di.h)break n;for(jt=0;5>jt;++jt){var kr=pw[jt];!jt&&0<rr&&(kr+=1<<rr),ir<kr&&(ir=kr)}var cs=o(yn*vn,R),Mi=yn,hs=o(Mi,ue);if(hs==null)var fs=null;else e(65536>=Mi),fs=hs;var Wi=s(ir);if(fs==null||Wi==null||cs==null){Bn.a=1;break n}var ds=cs;for(dr=nn=0;dr<yn;++dr){var Fn=fs[dr],ps=Fn.G,ro=Fn.H,ou=0,ca=1,Xr=0;for(jt=0;5>jt;++jt){kr=pw[jt],ps[jt]=ds,ro[jt]=nn,!jt&&0<rr&&(kr+=1<<rr);i:{var Xd,w0=kr,Jd=Bn,Bh=Wi,rC=ds,iC=nn,_0=0,el=Jd.m,sC=be(el,1);if(i(Bh,0,0,w0),sC){var oC=be(el,1)+1,aC=be(el,1),Aw=be(el,aC==0?1:8);Bh[Aw]=1,oC==2&&(Bh[Aw=be(el,8)]=1);var Zd=1}else{var Iw=s(19),Nw=be(el,4)+4;if(19<Nw){Jd.a=3;var ep=0;break i}for(Xd=0;Xd<Nw;++Xd)Iw[DT[Xd]]=be(el,3);var b0=void 0,zh=void 0,Tw=Jd,lC=Iw,tp=w0,Cw=Bh,x0=0,tl=Tw.m,kw=8,Pw=o(128,R);r:for(;P(Pw,0,7,lC,19);){if(be(tl,1)){var uC=2+2*be(tl,3);if((b0=2+be(tl,uC))>tp)break r}else b0=tp;for(zh=0;zh<tp&&b0--;){ae(tl);var Rw=Pw[0+(127&J(tl))];ie(tl,tl.u+Rw.g);var oc=Rw.value;if(16>oc)Cw[zh++]=oc,oc!=0&&(kw=oc);else{var cC=oc==16,Lw=oc-16,hC=RT[Lw],Dw=be(tl,PT[Lw])+hC;if(zh+Dw>tp)break r;for(var fC=cC?kw:0;0<Dw--;)Cw[zh++]=fC}}x0=1;break r}x0||(Tw.a=3),Zd=x0}(Zd=Zd&&!el.h)&&(_0=P(rC,iC,8,Bh,w0)),Zd&&_0!=0?ep=_0:(Jd.a=3,ep=0)}if(ep==0)break n;if(ca&&LT[jt]==1&&(ca=ds[nn].g==0),ou+=ds[nn].g,nn+=ep,3>=jt){var qh,S0=Wi[0];for(qh=1;qh<kr;++qh)Wi[qh]>S0&&(S0=Wi[qh]);Xr+=S0}}if(Fn.nd=ca,Fn.Qb=0,ca&&(Fn.qb=(ps[3][ro[3]+0].value<<24|ps[1][ro[1]+0].value<<16|ps[2][ro[2]+0].value)>>>0,ou==0&&256>ps[0][ro[0]+0].value&&(Fn.Qb=1,Fn.qb+=ps[0][ro[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Xr,Fn.jc){var np,ha=Fn;for(np=0;np<ru;++np){var nl=np,rl=ha.pd[nl],rp=ha.G[0][ha.H[0]+nl];256<=rp.value?(rl.g=rp.g+256,rl.value=rp.value):(rl.g=0,rl.value=0,nl>>=Pn(rp,8,rl),nl>>=Pn(ha.G[1][ha.H[1]+nl],16,rl),nl>>=Pn(ha.G[2][ha.H[2]+nl],0,rl),Pn(ha.G[3][ha.H[3]+nl],24,rl))}}}Cr.vc=an,Cr.Wb=yn,Cr.Ya=fs,Cr.yc=cs,Be=1;break t}Be=0}if(!(U=Be)){E.a=3;break e}if(0<pe){if(K.ua=1<<pe,!H(K.Wa,pe)){E.a=1,U=0;break e}}else K.ua=0;var E0=E,Mw=B,dC=z,A0=E0.s,I0=A0.xc;if(E0.c=Mw,E0.i=dC,A0.md=Ne(Mw,I0),A0.wc=I0==0?-1:(1<<I0)-1,v){E.xb=$T;break e}if((re=s(B*z))==null){E.a=1,U=0;break e}U=(U=ui(E,re,0,B,z,z,null))&&!$.h;break e}return U?(M!=null?M[0]=re:(e(re==null),e(v)),E.$=0,v||Ir(K)):Ir(K),U}function xe(h,p){var v=h.c*h.i,E=v+p+16*p;return e(h.c<=p),h.V=s(E),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+p,1)}function Le(h,p){var v=h.C,E=p-v,M=h.V,U=h.Ba+h.c*v;for(e(p<=h.l.o);0<E;){var B=16<E?16:E,z=h.l.ma,$=h.l.width,K=$*B,re=z.ca,pe=z.tb+$*v,Y=h.Ta,oe=h.Ua;Dr(h,B,M,U),ow(Y,oe,re,pe,K),li(z,v,v+B,re,pe,$),E-=B,M+=B*h.c,v+=B}e(v==p),h.C=h.Ma=p}function lt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function It(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Et(){this.Yb=function(){var h=[];return function p(v,E,M){for(var U=M[E],B=0;B<U&&(v.push(M.length>E+1?[]:0),!(M.length<E+1));B++)p(v[B],E+1,M)}(h,0,[3,11]),h}()}function un(){this.jb=s(3),this.Wc=a([4,8],Et),this.Xc=a([4,17],Et)}function mn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Oe(){this.ld=this.La=this.dd=this.tc=0}function cn(){this.Na=this.la=0}function tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oe),this.Y=0,this.ya=Array(new yt),this.aa=0,this.l=new Mr}function Js(){this.y=s(16),this.f=s(8),this.ea=s(8)}function So(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new lt,this.Kc=new wt,this.ed=new mn,this.Qa=new It,this.Ic=this.$c=this.Aa=0,this.D=new nr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,tr),this.Pa=new un,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Js),this.Hd=0,this.rb=Array(new cn),this.sb=0,this.wa=Array(new Oe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yt),this.L=this.aa=0,this.gd=a([4,2],Oe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rs(h,p){return 0>h?0:h>p?p:h}function Mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kr(){var h=new So;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Vh||(Vh=tn)),h}function xn(h,p,v){return h.a==0&&(h.a=p,h.sc=v,h.cb=0),0}function Ts(h,p,v){return 3<=v&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Or(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return xn(h,2,"null VP8Io passed to VP8GetHeaders()");var v=p.data,E=p.w,M=p.ha;if(4>M)return xn(h,7,"Truncated header.");var U=v[E+0]|v[E+1]<<8|v[E+2]<<16,B=h.Od;if(B.Rb=!(1&U),B.td=U>>1&7,B.yd=U>>4&1,B.ub=U>>5,3<B.td)return xn(h,3,"Incorrect keyframe parameters.");if(!B.yd)return xn(h,4,"Frame not displayable.");E+=3,M-=3;var z=h.Kc;if(B.Rb){if(7>M)return xn(h,7,"cannot parse picture header");if(!Ts(v,E,M))return xn(h,3,"Bad code word");z.c=16383&(v[E+4]<<8|v[E+3]),z.Td=v[E+4]>>6,z.i=16383&(v[E+6]<<8|v[E+5]),z.Ud=v[E+6]>>6,E+=7,M-=7,h.za=z.c+15>>4,h.Ub=z.i+15>>4,p.width=z.c,p.height=z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((U=h.Pa).jb,0,255,U.jb.length),e((U=h.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(B.ub>M)return xn(h,7,"bad partition length");ge(U=h.m,v,E,B.ub),E+=B.ub,M-=B.ub,B.Rb&&(z.Ld=we(U),z.Kd=we(U)),z=h.Qa;var $,K=h.Pa;if(e(U!=null),e(z!=null),z.Cb=we(U),z.Cb){if(z.Bb=we(U),we(U)){for(z.Fb=we(U),$=0;4>$;++$)z.Zb[$]=we(U)?Z(U,7):0;for($=0;4>$;++$)z.Lb[$]=we(U)?Z(U,6):0}if(z.Bb)for($=0;3>$;++$)K.jb[$]=we(U)?ye(U,8):255}else z.Bb=0;if(U.Ka)return xn(h,3,"cannot parse segment header");if((z=h.ed).zd=we(U),z.Tb=ye(U,6),z.wb=ye(U,3),z.Pc=we(U),z.Pc&&we(U)){for(K=0;4>K;++K)we(U)&&(z.vd[K]=Z(U,6));for(K=0;4>K;++K)we(U)&&(z.od[K]=Z(U,6))}if(h.L=z.Tb==0?0:z.zd?1:2,U.Ka)return xn(h,3,"cannot parse filter header");var re=M;if(M=$=E,E=$+re,z=re,h.Xb=(1<<ye(h.m,2))-1,re<3*(K=h.Xb))v=7;else{for($+=3*K,z-=3*K,re=0;re<K;++re){var pe=v[M+0]|v[M+1]<<8|v[M+2]<<16;pe>z&&(pe=z),ge(h.Jc[+re],v,$,pe),$+=pe,z-=pe,M+=3}ge(h.Jc[+K],v,$,z),v=$<E?0:5}if(v!=0)return xn(h,v,"cannot parse partitions");for(v=ye($=h.m,7),M=we($)?Z($,4):0,E=we($)?Z($,4):0,z=we($)?Z($,4):0,K=we($)?Z($,4):0,$=we($)?Z($,4):0,re=h.Qa,pe=0;4>pe;++pe){if(re.Cb){var Y=re.Zb[pe];re.Fb||(Y+=v)}else{if(0<pe){h.pb[pe]=h.pb[0];continue}Y=v}var oe=h.pb[pe];oe.Sc[0]=g0[rs(Y+M,127)],oe.Sc[1]=y0[rs(Y+0,127)],oe.Eb[0]=2*g0[rs(Y+E,127)],oe.Eb[1]=101581*y0[rs(Y+z,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=g0[rs(Y+K,117)],oe.Qc[1]=y0[rs(Y+$,127)],oe.lc=Y+$}if(!B.Rb)return xn(h,4,"Not a key frame.");for(we(U),B=h.Pa,v=0;4>v;++v){for(M=0;8>M;++M)for(E=0;3>E;++E)for(z=0;11>z;++z)K=Ie(U,zT[v][M][E][z])?ye(U,8):UT[v][M][E][z],B.Wc[v][M].Yb[E][z]=K;for(M=0;17>M;++M)B.Xc[v][M]=B.Wc[v][qT[M]]}return h.kc=we(U),h.kc&&(h.Bd=ye(U,8)),h.cb=1}function tn(h,p,v,E,M,U,B){var z=p[M].Yb[v];for(v=0;16>M;++M){if(!Ie(h,z[v+0]))return M;for(;!Ie(h,z[v+1]);)if(z=p[++M].Yb[0],v=0,M==16)return 16;var $=p[M+1].Yb;if(Ie(h,z[v+2])){var K=h,re=0;if(Ie(K,(Y=z)[(pe=v)+3]))if(Ie(K,Y[pe+6])){for(z=0,pe=2*(re=Ie(K,Y[pe+8]))+(Y=Ie(K,Y[pe+9+re])),re=0,Y=jT[pe];Y[z];++z)re+=re+Ie(K,Y[z]);re+=3+(8<<pe)}else Ie(K,Y[pe+7])?(re=7+2*Ie(K,165),re+=Ie(K,145)):re=5+Ie(K,159);else re=Ie(K,Y[pe+4])?3+Ie(K,Y[pe+5]):2;z=$[2]}else re=1,z=$[1];$=B+VT[M],0>(K=h).b&&ve(K);var pe,Y=K.b,oe=(pe=K.Ca>>1)-(K.I>>Y)>>31;--K.b,K.Ca+=oe,K.Ca|=1,K.I-=(pe+1&oe)<<Y,U[$]=((re^oe)-oe)*E[(0<M)+0]}return 16}function Cs(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function cr(h,p,v,E,M){M=h[p+v+32*E]+(M>>3),h[p+v+32*E]=-256&M?0>M?0:255:M}function En(h,p,v,E,M,U){cr(h,p,0,v,E+M),cr(h,p,1,v,E+U),cr(h,p,2,v,E-U),cr(h,p,3,v,E-M)}function is(h){return(20091*h>>16)+h}function na(h,p,v,E){var M,U=0,B=s(16);for(M=0;4>M;++M){var z=h[p+0]+h[p+8],$=h[p+0]-h[p+8],K=(35468*h[p+4]>>16)-is(h[p+12]),re=is(h[p+4])+(35468*h[p+12]>>16);B[U+0]=z+re,B[U+1]=$+K,B[U+2]=$-K,B[U+3]=z-re,U+=4,p++}for(M=U=0;4>M;++M)z=(h=B[U+0]+4)+B[U+8],$=h-B[U+8],K=(35468*B[U+4]>>16)-is(B[U+12]),cr(v,E,0,0,z+(re=is(B[U+4])+(35468*B[U+12]>>16))),cr(v,E,1,0,$+K),cr(v,E,2,0,$-K),cr(v,E,3,0,z-re),U++,E+=32}function Ju(h,p,v,E){var M=h[p+0]+4,U=35468*h[p+4]>>16,B=is(h[p+4]),z=35468*h[p+1]>>16;En(v,E,0,M+B,h=is(h[p+1]),z),En(v,E,1,M+U,h,z),En(v,E,2,M-U,h,z),En(v,E,3,M-B,h,z)}function Ql(h,p,v,E,M){na(h,p,v,E),M&&na(h,p+16,v,E+4)}function Ni(h,p,v,E){su(h,p+0,v,E,1),su(h,p+32,v,E+128,1)}function ra(h,p,v,E){var M;for(h=h[p+0]+4,M=0;4>M;++M)for(p=0;4>p;++p)cr(v,E,p,M,h)}function ks(h,p,v,E){h[p+0]&&fn(h,p+0,v,E),h[p+16]&&fn(h,p+16,v,E+4),h[p+32]&&fn(h,p+32,v,E+128),h[p+48]&&fn(h,p+48,v,E+128+4)}function Ut(h,p,v,E){var M,U=s(16);for(M=0;4>M;++M){var B=h[p+0+M]+h[p+12+M],z=h[p+4+M]+h[p+8+M],$=h[p+4+M]-h[p+8+M],K=h[p+0+M]-h[p+12+M];U[0+M]=B+z,U[8+M]=B-z,U[4+M]=K+$,U[12+M]=K-$}for(M=0;4>M;++M)B=(h=U[0+4*M]+3)+U[3+4*M],z=U[1+4*M]+U[2+4*M],$=U[1+4*M]-U[2+4*M],K=h-U[3+4*M],v[E+0]=B+z>>3,v[E+16]=K+$>>3,v[E+32]=B-z>>3,v[E+48]=K-$>>3,E+=64}function gn(h,p,v){var E,M=p-32,U=us,B=255-h[M-1];for(E=0;E<v;++E){var z,$=U,K=B+h[p-1];for(z=0;z<v;++z)h[p+z]=$[K+h[M+z]];p+=32}}function Fr(h,p){gn(h,p,4)}function Ti(h,p){gn(h,p,8)}function ss(h,p){gn(h,p,16)}function os(h,p){var v;for(v=0;16>v;++v)r(h,p+32*v,h,p-32,16)}function qi(h,p){var v;for(v=16;0<v;--v)i(h,p,h[p-1],16),p+=32}function ci(h,p,v){var E;for(E=0;16>E;++E)i(p,v+32*E,h,16)}function ja(h,p){var v,E=16;for(v=0;16>v;++v)E+=h[p-1+32*v]+h[p+v-32];ci(E>>5,h,p)}function Zs(h,p){var v,E=8;for(v=0;16>v;++v)E+=h[p-1+32*v];ci(E>>4,h,p)}function hi(h,p){var v,E=8;for(v=0;16>v;++v)E+=h[p+v-32];ci(E>>4,h,p)}function Xl(h,p){ci(128,h,p)}function _t(h,p,v){return h+2*p+v+2>>2}function Va(h,p){var v,E=p-32;for(E=new Uint8Array([_t(h[E-1],h[E+0],h[E+1]),_t(h[E+0],h[E+1],h[E+2]),_t(h[E+1],h[E+2],h[E+3]),_t(h[E+2],h[E+3],h[E+4])]),v=0;4>v;++v)r(h,p+32*v,E,0,E.length)}function Zu(h,p){var v=h[p-1],E=h[p-1+32],M=h[p-1+64],U=h[p-1+96];De(h,p+0,16843009*_t(h[p-1-32],v,E)),De(h,p+32,16843009*_t(v,E,M)),De(h,p+64,16843009*_t(E,M,U)),De(h,p+96,16843009*_t(M,U,U))}function ia(h,p){var v,E=4;for(v=0;4>v;++v)E+=h[p+v-32]+h[p-1+32*v];for(E>>=3,v=0;4>v;++v)i(h,p+32*v,E,4)}function Ci(h,p){var v=h[p-1+0],E=h[p-1+32],M=h[p-1+64],U=h[p-1-32],B=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+96]=_t(E,M,h[p-1+96]),h[p+1+96]=h[p+0+64]=_t(v,E,M),h[p+2+96]=h[p+1+64]=h[p+0+32]=_t(U,v,E),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=_t(B,U,v),h[p+3+64]=h[p+2+32]=h[p+1+0]=_t(z,B,U),h[p+3+32]=h[p+2+0]=_t($,z,B),h[p+3+0]=_t(K,$,z)}function Ps(h,p){var v=h[p+1-32],E=h[p+2-32],M=h[p+3-32],U=h[p+4-32],B=h[p+5-32],z=h[p+6-32],$=h[p+7-32];h[p+0+0]=_t(h[p+0-32],v,E),h[p+1+0]=h[p+0+32]=_t(v,E,M),h[p+2+0]=h[p+1+32]=h[p+0+64]=_t(E,M,U),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=_t(M,U,B),h[p+3+32]=h[p+2+64]=h[p+1+96]=_t(U,B,z),h[p+3+64]=h[p+2+96]=_t(B,z,$),h[p+3+96]=_t(z,$,$)}function Jl(h,p){var v=h[p-1+0],E=h[p-1+32],M=h[p-1+64],U=h[p-1-32],B=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+0]=h[p+1+64]=U+B+1>>1,h[p+1+0]=h[p+2+64]=B+z+1>>1,h[p+2+0]=h[p+3+64]=z+$+1>>1,h[p+3+0]=$+K+1>>1,h[p+0+96]=_t(M,E,v),h[p+0+64]=_t(E,v,U),h[p+0+32]=h[p+1+96]=_t(v,U,B),h[p+1+32]=h[p+2+96]=_t(U,B,z),h[p+2+32]=h[p+3+96]=_t(B,z,$),h[p+3+32]=_t(z,$,K)}function Rn(h,p){var v=h[p+0-32],E=h[p+1-32],M=h[p+2-32],U=h[p+3-32],B=h[p+4-32],z=h[p+5-32],$=h[p+6-32],K=h[p+7-32];h[p+0+0]=v+E+1>>1,h[p+1+0]=h[p+0+64]=E+M+1>>1,h[p+2+0]=h[p+1+64]=M+U+1>>1,h[p+3+0]=h[p+2+64]=U+B+1>>1,h[p+0+32]=_t(v,E,M),h[p+1+32]=h[p+0+96]=_t(E,M,U),h[p+2+32]=h[p+1+96]=_t(M,U,B),h[p+3+32]=h[p+2+96]=_t(U,B,z),h[p+3+64]=_t(B,z,$),h[p+3+96]=_t(z,$,K)}function Ua(h,p){var v=h[p-1+0],E=h[p-1+32],M=h[p-1+64],U=h[p-1+96];h[p+0+0]=v+E+1>>1,h[p+2+0]=h[p+0+32]=E+M+1>>1,h[p+2+32]=h[p+0+64]=M+U+1>>1,h[p+1+0]=_t(v,E,M),h[p+3+0]=h[p+1+32]=_t(E,M,U),h[p+3+32]=h[p+1+64]=_t(M,U,U),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=U}function Zl(h,p){var v=h[p-1+0],E=h[p-1+32],M=h[p-1+64],U=h[p-1+96],B=h[p-1-32],z=h[p+0-32],$=h[p+1-32],K=h[p+2-32];h[p+0+0]=h[p+2+32]=v+B+1>>1,h[p+0+32]=h[p+2+64]=E+v+1>>1,h[p+0+64]=h[p+2+96]=M+E+1>>1,h[p+0+96]=U+M+1>>1,h[p+3+0]=_t(z,$,K),h[p+2+0]=_t(B,z,$),h[p+1+0]=h[p+3+32]=_t(v,B,z),h[p+1+32]=h[p+3+64]=_t(E,v,B),h[p+1+64]=h[p+3+96]=_t(M,E,v),h[p+1+96]=_t(U,M,E)}function Eo(h,p){var v;for(v=0;8>v;++v)r(h,p+32*v,h,p-32,8)}function ec(h,p){var v;for(v=0;8>v;++v)i(h,p,h[p-1],8),p+=32}function Rs(h,p,v){var E;for(E=0;8>E;++E)i(p,v+32*E,h,8)}function Ba(h,p){var v,E=8;for(v=0;8>v;++v)E+=h[p+v-32]+h[p-1+32*v];Rs(E>>4,h,p)}function $i(h,p){var v,E=4;for(v=0;8>v;++v)E+=h[p+v-32];Rs(E>>3,h,p)}function za(h,p){var v,E=4;for(v=0;8>v;++v)E+=h[p-1+32*v];Rs(E>>3,h,p)}function tc(h,p){Rs(128,h,p)}function ki(h,p,v){var E=h[p-v],M=h[p+0],U=3*(M-E)+h0[1020+h[p-2*v]-h[p+v]],B=zd[112+(U+4>>3)];h[p-v]=us[255+E+zd[112+(U+3>>3)]],h[p+0]=us[255+M-B]}function qa(h,p,v,E){var M=h[p+0],U=h[p+v];return Fs[255+h[p-2*v]-h[p-v]]>E||Fs[255+U-M]>E}function Ao(h,p,v,E){return 4*Fs[255+h[p-v]-h[p+0]]+Fs[255+h[p-2*v]-h[p+v]]<=E}function Io(h,p,v,E,M){var U=h[p-3*v],B=h[p-2*v],z=h[p-v],$=h[p+0],K=h[p+v],re=h[p+2*v],pe=h[p+3*v];return 4*Fs[255+z-$]+Fs[255+B-K]>E?0:Fs[255+h[p-4*v]-U]<=M&&Fs[255+U-B]<=M&&Fs[255+B-z]<=M&&Fs[255+pe-re]<=M&&Fs[255+re-K]<=M&&Fs[255+K-$]<=M}function No(h,p,v,E){var M=2*E+1;for(E=0;16>E;++E)Ao(h,p+E,v,M)&&ki(h,p+E,v)}function To(h,p,v,E){var M=2*E+1;for(E=0;16>E;++E)Ao(h,p+E*v,1,M)&&ki(h,p+E*v,1)}function nc(h,p,v,E){var M;for(M=3;0<M;--M)No(h,p+=4*v,v,E)}function eu(h,p,v,E){var M;for(M=3;0<M;--M)To(h,p+=4,v,E)}function Pi(h,p,v,E,M,U,B,z){for(U=2*U+1;0<M--;){if(Io(h,p,v,U,B))if(qa(h,p,v,z))ki(h,p,v);else{var $=h,K=p,re=v,pe=$[K-2*re],Y=$[K-re],oe=$[K+0],fe=$[K+re],Se=$[K+2*re],de=27*(Te=h0[1020+3*(oe-Y)+h0[1020+pe-fe]])+63>>7,Ae=18*Te+63>>7,Te=9*Te+63>>7;$[K-3*re]=us[255+$[K-3*re]+Te],$[K-2*re]=us[255+pe+Ae],$[K-re]=us[255+Y+de],$[K+0]=us[255+oe-de],$[K+re]=us[255+fe-Ae],$[K+2*re]=us[255+Se-Te]}p+=E}}function Ls(h,p,v,E,M,U,B,z){for(U=2*U+1;0<M--;){if(Io(h,p,v,U,B))if(qa(h,p,v,z))ki(h,p,v);else{var $=h,K=p,re=v,pe=$[K-re],Y=$[K+0],oe=$[K+re],fe=zd[112+(4+(Se=3*(Y-pe))>>3)],Se=zd[112+(Se+3>>3)],de=fe+1>>1;$[K-2*re]=us[255+$[K-2*re]+de],$[K-re]=us[255+pe+Se],$[K+0]=us[255+Y-fe],$[K+re]=us[255+oe-de]}p+=E}}function tu(h,p,v,E,M,U){Pi(h,p,v,1,16,E,M,U)}function eo(h,p,v,E,M,U){Pi(h,p,1,v,16,E,M,U)}function $a(h,p,v,E,M,U){var B;for(B=3;0<B;--B)Ls(h,p+=4*v,v,1,16,E,M,U)}function y(h,p,v,E,M,U){var B;for(B=3;0<B;--B)Ls(h,p+=4,1,v,16,E,M,U)}function D(h,p,v,E,M,U,B,z){Pi(h,p,M,1,8,U,B,z),Pi(v,E,M,1,8,U,B,z)}function G(h,p,v,E,M,U,B,z){Pi(h,p,1,M,8,U,B,z),Pi(v,E,1,M,8,U,B,z)}function ee(h,p,v,E,M,U,B,z){Ls(h,p+4*M,M,1,8,U,B,z),Ls(v,E+4*M,M,1,8,U,B,z)}function le(h,p,v,E,M,U,B,z){Ls(h,p+4,1,M,8,U,B,z),Ls(v,E+4,1,M,8,U,B,z)}function Ee(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new R}function bt(){this.xb=this.a=0,this.l=new Mr,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=o(4,Ye),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(h,p,v,E,M,U,B){for(h=h==null?0:h[p+0],p=0;p<B;++p)M[U+p]=h+v[E+p]&255,h=M[U+p]}function Ln(h,p,v,E,M,U,B){var z;if(h==null)Wt(null,null,v,E,M,U,B);else for(z=0;z<B;++z)M[U+z]=h[p+z]+v[E+z]&255}function An(h,p,v,E,M,U,B){if(h==null)Wt(null,null,v,E,M,U,B);else{var z,$=h[p+0],K=$,re=$;for(z=0;z<B;++z)K=re+($=h[p+z])-K,re=v[E+z]+(-256&K?0>K?0:255:K)&255,K=$,M[U+z]=re}}function f(h,p,v,E){var M=p.width,U=p.o;if(e(h!=null&&p!=null),0>v||0>=E||v+E>U)return null;if(!h.Cc){if(h.ga==null){var B;if(h.ga=new pt,(B=h.ga==null)||(B=p.width*p.o,e(h.Gb.length==0),h.Gb=s(B),h.Uc=0,h.Gb==null?B=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,B=1),B=!B),!B){B=h.ga;var z=h.Fa,$=h.P,K=h.qc,re=h.mb,pe=h.nb,Y=$+1,oe=K-1,fe=B.l;if(e(z!=null&&re!=null&&p!=null),Za[0]=null,Za[1]=Wt,Za[2]=Ln,Za[3]=An,B.ca=re,B.tb=pe,B.c=p.width,B.i=p.height,e(0<B.c&&0<B.i),1>=K)p=0;else if(B.$a=3&z[$+0],B.Z=z[$+0]>>2&3,B.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||$)p=0;else if(fe.put=gt,fe.ac=Ar,fe.bc=Kn,fe.ma=B,fe.width=p.width,fe.height=p.height,fe.Da=p.Da,fe.v=p.v,fe.va=p.va,fe.j=p.j,fe.o=p.o,B.$a)e:{e(B.$a==1),p=Ns();t:for(;;){if(p==null){p=0;break e}if(e(B!=null),B.mc=p,p.c=B.c,p.i=B.i,p.l=B.l,p.l.ma=B,p.l.width=B.c,p.l.height=B.i,p.a=0,ce(p.m,z,Y,oe),!zi(B.c,B.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ai(p.s)?(B.ic=1,z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(B.ic=0,p=xe(p,B.c)),!p))break t;p=1;break e}B.mc=null,p=0}else p=oe>=B.c*B.i;B=!p}if(B)return null;h.ga.Lc!=1?h.Ga=0:E=U-v}e(h.ga!=null),e(v+E<=U);e:{if(p=(z=h.ga).c,U=z.l.o,z.$a==0){if(Y=h.rc,oe=h.Vc,fe=h.Fa,$=h.P+1+v*p,K=h.mb,re=h.nb+v*p,e($<=h.P+h.qc),z.Z!=0)for(e(Za[z.Z]!=null),B=0;B<E;++B)Za[z.Z](Y,oe,fe,$,K,re,p),Y=K,oe=re,re+=p,$+=p;else for(B=0;B<E;++B)r(K,re,fe,$,p),Y=K,oe=re,re+=p,$+=p;h.rc=Y,h.Vc=oe}else{if(e(z.mc!=null),p=v+E,e((B=z.mc)!=null),e(p<=B.i),B.C>=p)p=1;else if(z.ic||me(),z.ic){z=B.V,Y=B.Ba,oe=B.c;var Se=B.i,de=(fe=1,$=B.$/oe,K=B.$%oe,re=B.m,pe=B.s,B.$),Ae=oe*Se,Te=oe*p,Me=pe.wc,Re=de<Te?ur(pe,K,$):null;e(de<=Ae),e(p<=Se),e(ai(pe));t:for(;;){for(;!re.h&&de<Te;){if(K&Me||(Re=ur(pe,K,$)),e(Re!=null),ae(re),256>(Se=pn(Re.G[0],Re.H[0],re)))z[Y+de]=Se,++de,++K>=oe&&(K=0,++$<=p&&!($%16)&&Gr(B,$));else{if(!(280>Se)){fe=0;break t}Se=Hr(Se-256,re);var ct,Xe=pn(Re.G[4],Re.H[4],re);if(ae(re),!(de>=(Xe=Wr(oe,Xe=Hr(Xe,re)))&&Ae-de>=Se)){fe=0;break t}for(ct=0;ct<Se;++ct)z[Y+de+ct]=z[Y+de+ct-Xe];for(de+=Se,K+=Se;K>=oe;)K-=oe,++$<=p&&!($%16)&&Gr(B,$);de<Te&&K&Me&&(Re=ur(pe,K,$))}e(re.h==ne(re))}Gr(B,$>p?p:$);break t}!fe||re.h&&de<Ae?(fe=0,B.a=re.h?5:3):B.$=de,p=fe}else p=ui(B,B.V,B.Ba,B.c,B.i,p,Le);if(!p){E=0;break e}}v+E>=U&&(h.Cc=1),E=1}if(!E)return null;if(h.Cc&&((E=h.ga)!=null&&(E.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*M}function w(h,p,v,E,M,U){for(;0<M--;){var B,z=h,$=p+(v?1:0),K=h,re=p+(v?0:3);for(B=0;B<E;++B){var pe=K[re+4*B];pe!=255&&(pe*=32897,z[$+4*B+0]=z[$+4*B+0]*pe>>23,z[$+4*B+1]=z[$+4*B+1]*pe>>23,z[$+4*B+2]=z[$+4*B+2]*pe>>23)}p+=U}}function T(h,p,v,E,M){for(;0<E--;){var U;for(U=0;U<v;++U){var B=h[p+2*U+0],z=15&(K=h[p+2*U+1]),$=4369*z,K=(240&K|K>>4)*$>>16;h[p+2*U+0]=(240&B|B>>4)*$>>16&240|(15&B|B<<4)*$>>16>>4&15,h[p+2*U+1]=240&K|z}p+=M}}function q(h,p,v,E,M,U,B,z){var $,K,re=255;for(K=0;K<M;++K){for($=0;$<E;++$){var pe=h[p+$];U[B+4*$]=pe,re&=pe}p+=v,B+=z}return re!=255}function he(h,p,v,E,M){var U;for(U=0;U<M;++U)v[E+U]=h[p+U]>>8}function me(){jh=w,iw=T,sw=q,ow=he}function je(h,p,v){N[h]=function(E,M,U,B,z,$,K,re,pe,Y,oe,fe,Se,de,Ae,Te,Me){var Re,ct=Me-1>>1,Xe=z[$+0]|K[re+0]<<16,Bt=pe[Y+0]|oe[fe+0]<<16;e(E!=null);var it=3*Xe+Bt+131074>>2;for(p(E[M+0],255&it,it>>16,Se,de),U!=null&&(it=3*Bt+Xe+131074>>2,p(U[B+0],255&it,it>>16,Ae,Te)),Re=1;Re<=ct;++Re){var Jt=z[$+Re]|K[re+Re]<<16,Tr=pe[Y+Re]|oe[fe+Re]<<16,zt=Xe+Jt+Bt+Tr+524296,st=zt+2*(Jt+Bt)>>3;it=st+Xe>>1,Xe=(zt=zt+2*(Xe+Tr)>>3)+Jt>>1,p(E[M+2*Re-1],255&it,it>>16,Se,de+(2*Re-1)*v),p(E[M+2*Re-0],255&Xe,Xe>>16,Se,de+(2*Re-0)*v),U!=null&&(it=zt+Bt>>1,Xe=st+Tr>>1,p(U[B+2*Re-1],255&it,it>>16,Ae,Te+(2*Re-1)*v),p(U[B+2*Re+0],255&Xe,Xe>>16,Ae,Te+(2*Re+0)*v)),Xe=Jt,Bt=Tr}1&Me||(it=3*Xe+Bt+131074>>2,p(E[M+Me-1],255&it,it>>16,Se,de+(Me-1)*v),U!=null&&(it=3*Bt+Xe+131074>>2,p(U[B+Me-1],255&it,it>>16,Ae,Te+(Me-1)*v)))}}function Pt(){js[qd]=HT,js[$d]=yw,js[fw]=WT,js[Hd]=vw,js[Wd]=ww,js[f0]=_w,js[dw]=GT,js[d0]=yw,js[p0]=vw,js[Gd]=ww,js[m0]=_w}function Dn(h){return h&~KT?0>h?0:255:h>>bw}function Gt(h,p){return Dn((19077*h>>8)+(26149*p>>8)-14234)}function Mn(h,p,v){return Dn((19077*h>>8)-(6419*p>>8)-(13320*v>>8)+8708)}function jr(h,p){return Dn((19077*h>>8)+(33050*p>>8)-17685)}function fi(h,p,v,E,M){E[M+0]=Gt(h,v),E[M+1]=Mn(h,p,v),E[M+2]=jr(h,p)}function On(h,p,v,E,M){E[M+0]=jr(h,p),E[M+1]=Mn(h,p,v),E[M+2]=Gt(h,v)}function di(h,p,v,E,M){var U=Mn(h,p,v);p=U<<3&224|jr(h,p)>>3,E[M+0]=248&Gt(h,v)|U>>5,E[M+1]=p}function Ds(h,p,v,E,M){var U=240&jr(h,p)|15;E[M+0]=240&Gt(h,v)|Mn(h,p,v)>>4,E[M+1]=U}function sa(h,p,v,E,M){E[M+0]=255,fi(h,p,v,E,M+1)}function Ch(h,p,v,E,M){On(h,p,v,E,M),E[M+3]=255}function Ri(h,p,v,E,M){fi(h,p,v,E,M),E[M+3]=255}function oa(h,p,v){N[h]=function(E,M,U,B,z,$,K,re,pe){for(var Y=re+(-2&pe)*v;re!=Y;)p(E[M+0],U[B+0],z[$+0],K,re),p(E[M+1],U[B+0],z[$+0],K,re+v),M+=2,++B,++$,re+=2*v;1&pe&&p(E[M+0],U[B+0],z[$+0],K,re)}}function rc(h,p,v){return v==0?h==0?p==0?6:5:p==0?4:0:v}function Vd(h,p,v,E,M){switch(h>>>30){case 3:su(p,v,E,M,0);break;case 2:Os(p,v,E,M);break;case 1:fn(p,v,E,M)}}function Ms(h,p){var v,E,M=p.M,U=p.Nb,B=h.oc,z=h.pc+40,$=h.oc,K=h.pc+584,re=h.oc,pe=h.pc+600;for(v=0;16>v;++v)B[z+32*v-1]=129;for(v=0;8>v;++v)$[K+32*v-1]=129,re[pe+32*v-1]=129;for(0<M?B[z-1-32]=$[K-1-32]=re[pe-1-32]=129:(i(B,z-32-1,127,21),i($,K-32-1,127,9),i(re,pe-32-1,127,9)),E=0;E<h.za;++E){var Y=p.ya[p.aa+E];if(0<E){for(v=-1;16>v;++v)r(B,z+32*v-4,B,z+32*v+12,4);for(v=-1;8>v;++v)r($,K+32*v-4,$,K+32*v+4,4),r(re,pe+32*v-4,re,pe+32*v+4,4)}var oe=h.Gd,fe=h.Hd+E,Se=Y.ad,de=Y.Hc;if(0<M&&(r(B,z-32,oe[fe].y,0,16),r($,K-32,oe[fe].f,0,8),r(re,pe-32,oe[fe].ea,0,8)),Y.Za){var Ae=B,Te=z-32+16;for(0<M&&(E>=h.za-1?i(Ae,Te,oe[fe].y[15],4):r(Ae,Te,oe[fe+1].y,0,4)),v=0;4>v;v++)Ae[Te+128+v]=Ae[Te+256+v]=Ae[Te+384+v]=Ae[Te+0+v];for(v=0;16>v;++v,de<<=2)Ae=B,Te=z+Sw[v],to[Y.Ob[v]](Ae,Te),Vd(de,Se,16*+v,Ae,Te)}else if(Ae=rc(E,M,Y.Ob[0]),Ja[Ae](B,z),de!=0)for(v=0;16>v;++v,de<<=2)Vd(de,Se,16*+v,B,z+Sw[v]);for(v=Y.Gc,Ae=rc(E,M,Y.Dd),ua[Ae]($,K),ua[Ae](re,pe),de=Se,Ae=$,Te=K,255&(Y=0|v)&&(170&Y?Po(de,256,Ae,Te):In(de,256,Ae,Te)),Y=re,de=pe,255&(v>>=8)&&(170&v?Po(Se,320,Y,de):In(Se,320,Y,de)),M<h.Ub-1&&(r(oe[fe].y,0,B,z+480,16),r(oe[fe].f,0,$,K+224,8),r(oe[fe].ea,0,re,pe+224,8)),v=8*U*h.B,oe=h.sa,fe=h.ta+16*E+16*U*h.R,Se=h.qa,Y=h.ra+8*E+v,de=h.Ha,Ae=h.Ia+8*E+v,v=0;16>v;++v)r(oe,fe+v*h.R,B,z+32*v,16);for(v=0;8>v;++v)r(Se,Y+v*h.B,$,K+32*v,8),r(de,Ae+v*h.B,re,pe+32*v,8)}}function nu(h,p,v,E,M,U,B,z,$){var K=[0],re=[0],pe=0,Y=$!=null?$.kd:0,oe=$??new Pe;if(h==null||12>v)return 7;oe.data=h,oe.w=p,oe.ha=v,p=[p],v=[v],oe.gb=[oe.gb];e:{var fe=p,Se=v,de=oe.gb;if(e(h!=null),e(Se!=null),e(de!=null),de[0]=0,12<=Se[0]&&!n(h,fe[0],"RIFF")){if(n(h,fe[0]+8,"WEBP")){de=3;break e}var Ae=ot(h,fe[0]+4);if(12>Ae||4294967286<Ae){de=3;break e}if(Y&&Ae>Se[0]-8){de=7;break e}de[0]=Ae,fe[0]+=12,Se[0]-=12}de=0}if(de!=0)return de;for(Ae=0<oe.gb[0],v=v[0];;){e:{var Te=h;Se=p,de=v;var Me=K,Re=re,ct=fe=[0];if((it=pe=[pe])[0]=0,8>de[0])de=7;else{if(!n(Te,Se[0],"VP8X")){if(ot(Te,Se[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Xe=ot(Te,Se[0]+8),Bt=1+Ve(Te,Se[0]+12);if(2147483648<=Bt*(Te=1+Ve(Te,Se[0]+15))){de=3;break e}ct!=null&&(ct[0]=Xe),Me!=null&&(Me[0]=Bt),Re!=null&&(Re[0]=Te),Se[0]+=18,de[0]-=18,it[0]=1}de=0}}if(pe=pe[0],fe=fe[0],de!=0)return de;if(Se=!!(2&fe),!Ae&&pe)return 3;if(U!=null&&(U[0]=!!(16&fe)),B!=null&&(B[0]=Se),z!=null&&(z[0]=0),B=K[0],fe=re[0],pe&&Se&&$==null){de=0;break}if(4>v){de=7;break}if(Ae&&pe||!Ae&&!pe&&!n(h,p[0],"ALPH")){v=[v],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Xe=h,de=p,Ae=v;var it=oe.gb;Me=oe.na,Re=oe.P,ct=oe.Sa,Bt=22,e(Xe!=null),e(Ae!=null),Te=de[0];var Jt=Ae[0];for(e(Me!=null),e(ct!=null),Me[0]=null,Re[0]=null,ct[0]=0;;){if(de[0]=Te,Ae[0]=Jt,8>Jt){de=7;break e}var Tr=ot(Xe,Te+4);if(4294967286<Tr){de=3;break e}var zt=8+Tr+1&-2;if(Bt+=zt,0<it&&Bt>it){de=3;break e}if(!n(Xe,Te,"VP8 ")||!n(Xe,Te,"VP8L")){de=0;break e}if(Jt[0]<zt){de=7;break e}n(Xe,Te,"ALPH")||(Me[0]=Xe,Re[0]=Te+8,ct[0]=Tr),Te+=zt,Jt-=zt}}if(v=v[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],de!=0)break}v=[v],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(it=h,de=p,Ae=v,Me=oe.gb[0],Re=oe.Ja,ct=oe.xa,Xe=de[0],Te=!n(it,Xe,"VP8 "),Bt=!n(it,Xe,"VP8L"),e(it!=null),e(Ae!=null),e(Re!=null),e(ct!=null),8>Ae[0])de=7;else{if(Te||Bt){if(it=ot(it,Xe+4),12<=Me&&it>Me-12){de=3;break e}if(Y&&it>Ae[0]-8){de=7;break e}Re[0]=it,de[0]+=8,Ae[0]-=8,ct[0]=Bt}else ct[0]=5<=Ae[0]&&it[Xe+0]==47&&!(it[Xe+4]>>5),Re[0]=Ae[0];de=0}if(v=v[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],p=p[0],de!=0)break;if(4294967286<oe.Ja)return 3;if(z==null||Se||(z[0]=oe.xa?2:1),B=[B],fe=[fe],oe.xa){if(5>v){de=7;break}z=B,Y=fe,Se=U,h==null||5>v?h=0:5<=v&&h[p+0]==47&&!(h[p+4]>>5)?(Ae=[0],it=[0],Me=[0],ce(Re=new W,h,p,v),$r(Re,Ae,it,Me)?(z!=null&&(z[0]=Ae[0]),Y!=null&&(Y[0]=it[0]),Se!=null&&(Se[0]=Me[0]),h=1):h=0):h=0}else{if(10>v){de=7;break}z=fe,h==null||10>v||!Ts(h,p+3,v-3)?h=0:(Y=h[p+0]|h[p+1]<<8|h[p+2]<<16,Se=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=oe.Ja||!Se||!h?h=0:(B&&(B[0]=Se),z&&(z[0]=h),h=1))}if(!h||(B=B[0],fe=fe[0],pe&&(K[0]!=B||re[0]!=fe)))return 3;$!=null&&($[0]=oe,$.offset=p-$.w,e(4294967286>p-$.w),e($.offset==$.ha-v));break}return de==0||de==7&&pe&&$==null?(U!=null&&(U[0]|=oe.na!=null&&0<oe.na.length),E!=null&&(E[0]=B),M!=null&&(M[0]=fe),0):de}function kh(h,p,v){var E=p.width,M=p.height,U=0,B=0,z=E,$=M;if(p.Da=h!=null&&0<h.Da,p.Da&&(z=h.cd,$=h.bd,U=h.v,B=h.j,11>v||(U&=-2,B&=-2),0>U||0>B||0>=z||0>=$||U+z>E||B+$>M))return 0;if(p.v=U,p.j=B,p.va=U+z,p.o=B+$,p.U=z,p.T=$,p.da=h!=null&&0<h.da,p.da){if(!at(z,$,v=[h.ib],U=[h.hb]))return 0;p.ib=v[0],p.hb=U[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*E/4&&p.hb<3*M/4,p.Kb=0),1}function Ph(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function Ha(h,p,v,E){if(E==null||0>=h||0>=p)return 2;if(v!=null){if(v.Da){var M=v.cd,U=v.bd,B=-2&v.v,z=-2&v.j;if(0>B||0>z||0>=M||0>=U||B+M>h||z+U>p)return 2;h=M,p=U}if(v.da){if(!at(h,p,M=[v.ib],U=[v.hb]))return 2;h=M[0],p=U[0]}}E.width=h,E.height=p;e:{var $=E.width,K=E.height;if(h=E.S,0>=$||0>=K||!(h>=qd&&13>h))h=2;else{if(0>=E.Rd&&E.sd==null){B=U=M=p=0;var re=(z=$*Ew[h])*K;if(11>h||(U=(K+1)/2*(p=($+1)/2),h==12&&(B=(M=$)*K)),(K=s(re+2*U+B))==null){h=1;break e}E.sd=K,11>h?(($=E.f.RGBA).eb=K,$.fb=0,$.A=z,$.size=re):(($=E.f.kb).y=K,$.O=0,$.fa=z,$.Fd=re,$.f=K,$.N=0+re,$.Ab=p,$.Cd=U,$.ea=K,$.W=0+re+U,$.Db=p,$.Ed=U,h==12&&($.F=K,$.J=0+re+2*U),$.Tc=B,$.lb=M)}if(p=1,M=E.S,U=E.width,B=E.height,M>=qd&&13>M)if(11>M)h=E.f.RGBA,p&=(z=Math.abs(h.A))*(B-1)+U<=h.size,p&=z>=U*Ew[M],p&=h.eb!=null;else{h=E.f.kb,z=(U+1)/2,re=(B+1)/2,$=Math.abs(h.fa),K=Math.abs(h.Ab);var pe=Math.abs(h.Db),Y=Math.abs(h.lb),oe=Y*(B-1)+U;p&=$*(B-1)+U<=h.Fd,p&=K*(re-1)+z<=h.Cd,p=(p&=pe*(re-1)+z<=h.Ed)&$>=U&K>=z&pe>=z,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,M==12&&(p&=Y>=U,p&=oe<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||v!=null&&v.fd&&(h=Ph(E)),h}var ru=64,as=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ls=24,Wa=32,aa=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(h){return h},N.Predictor2=function(h,p,v){return p[v+0]},N.Predictor3=function(h,p,v){return p[v+1]},N.Predictor4=function(h,p,v){return p[v-1]},N.Predictor5=function(h,p,v){return rt(rt(h,p[v+1]),p[v+0])},N.Predictor6=function(h,p,v){return rt(h,p[v-1])},N.Predictor7=function(h,p,v){return rt(h,p[v+0])},N.Predictor8=function(h,p,v){return rt(p[v-1],p[v+0])},N.Predictor9=function(h,p,v){return rt(p[v+0],p[v+1])},N.Predictor10=function(h,p,v){return rt(rt(h,p[v-1]),rt(p[v+0],p[v+1]))},N.Predictor11=function(h,p,v){var E=p[v+0];return 0>=xt(E>>24&255,h>>24&255,(p=p[v-1])>>24&255)+xt(E>>16&255,h>>16&255,p>>16&255)+xt(E>>8&255,h>>8&255,p>>8&255)+xt(255&E,255&h,255&p)?E:h},N.Predictor12=function(h,p,v){var E=p[v+0];return(Xt((h>>24&255)+(E>>24&255)-((p=p[v-1])>>24&255))<<24|Xt((h>>16&255)+(E>>16&255)-(p>>16&255))<<16|Xt((h>>8&255)+(E>>8&255)-(p>>8&255))<<8|Xt((255&h)+(255&E)-(255&p)))>>>0},N.Predictor13=function(h,p,v){var E=p[v-1];return(Ct((h=rt(h,p[v+0]))>>24&255,E>>24&255)<<24|Ct(h>>16&255,E>>16&255)<<16|Ct(h>>8&255,E>>8&255)<<8|Ct(255&h,255&E))>>>0};var Rh=N.PredictorAdd0;N.PredictorAdd1=Dt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var ic=N.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var hr,Ud=N.ColorIndexInverseTransform,Co=N.MapARGB,ko=N.VP8LColorIndexInverseTransformAlpha,Lh=N.MapAlpha,Dh=N.VP8LPredictorsAdd=[];Dh.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Mh,Oh,Ka,Ya,Qa,iu,Xa,su,Os,Po,fn,In,fr,Nr,la,Fh,sc,Bd,J5,Z5,ew,tw,nw,rw,jh,iw,sw,ow,aw=s(511),lw=s(2041),uw=s(225),cw=s(767),hw=0,h0=lw,zd=uw,us=cw,Fs=aw,qd=0,$d=1,fw=2,Hd=3,Wd=4,f0=5,dw=6,d0=7,p0=8,Gd=9,m0=10,PT=[2,3,7],RT=[3,3,11],pw=[280,256,256,256,40],LT=[0,1,1,1,0],DT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],MT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],FT=8,g0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],y0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vh=null,jT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ja=[],to=[],ua=[],$T=1,gw=2,Za=[],js=[];je("UpsampleRgbLinePair",fi,3),je("UpsampleBgrLinePair",On,3),je("UpsampleRgbaLinePair",Ri,4),je("UpsampleBgraLinePair",Ch,4),je("UpsampleArgbLinePair",sa,4),je("UpsampleRgba4444LinePair",Ds,2),je("UpsampleRgb565LinePair",di,2);var HT=N.UpsampleRgbLinePair,WT=N.UpsampleBgrLinePair,yw=N.UpsampleRgbaLinePair,vw=N.UpsampleBgraLinePair,ww=N.UpsampleArgbLinePair,_w=N.UpsampleRgba4444LinePair,GT=N.UpsampleRgb565LinePair,Kd=16,Yd=1<<Kd-1,Uh=-227,v0=482,bw=6,KT=(256<<bw)-1,xw=0,YT=s(256),QT=s(256),XT=s(256),JT=s(256),ZT=s(v0-Uh),eC=s(v0-Uh);oa("YuvToRgbRow",fi,3),oa("YuvToBgrRow",On,3),oa("YuvToRgbaRow",Ri,4),oa("YuvToBgraRow",Ch,4),oa("YuvToArgbRow",sa,4),oa("YuvToRgba4444Row",Ds,2),oa("YuvToRgb565Row",di,2);var Sw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qd=[0,2,8],tC=[8,7,6,4,4,2,2,2,1,1,1,1],nC=1;this.WebPDecodeRGBA=function(h,p,v,E,M){var U=$d,B=new Ee,z=new Ke;B.ba=z,z.S=U,z.width=[z.width],z.height=[z.height];var $=z.width,K=z.height,re=new ut;if(re==null||h==null)var pe=2;else e(re!=null),pe=nu(h,p,v,re.width,re.height,re.Pd,re.Qd,re.format,null);if(pe!=0?$=0:($!=null&&($[0]=re.width[0]),K!=null&&(K[0]=re.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],E!=null&&(E[0]=z.width),M!=null&&(M[0]=z.height);e:{if(E=new Mr,(M=new Pe).data=h,M.w=p,M.ha=v,M.kd=1,p=[0],e(M!=null),((h=nu(M.data,M.w,M.ha,null,null,null,p,null,M))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(B!=null),E.data=M.data,E.w=M.w+M.offset,E.ha=M.ha-M.offset,E.put=gt,E.ac=Ar,E.bc=Kn,E.ma=B,M.xa){if((h=Ns())==null){B=1;break e}if(function(Y,oe){var fe=[0],Se=[0],de=[0];t:for(;;){if(Y==null)return 0;if(oe==null)return Y.a=2,0;if(Y.l=oe,Y.a=0,ce(Y.m,oe.data,oe.w,oe.ha),!$r(Y.m,fe,Se,de)){Y.a=3;break t}if(Y.xb=gw,oe.width=fe[0],oe.height=Se[0],!zi(fe[0],Se[0],1,Y,null))break t;return 1}return e(Y.a!=0),0}(h,E)){if(E=(p=Ha(E.width,E.height,B.Oa,B.ba))==0){t:{E=h;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((v=E.l)!=null),e((M=v.ma)!=null),E.xb!=0){if(E.ca=M.ba,E.tb=M.tb,e(E.ca!=null),!kh(M.Oa,v,Hd)){E.a=2;break n}if(!xe(E,v.width)||v.da)break n;if((v.da||ht(E.ca.S))&&me(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&me()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!H(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!ui(E,E.V,E.Ba,E.c,E.i,v.o,ns))break n;M.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(p=h.a)}else p=h.a}else{if((h=new Kr)==null){B=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,Or(h,E)){if((p=Ha(E.width,E.height,B.Oa,B.ba))==0){if(h.Aa=0,v=B.Oa,e((M=h)!=null),v!=null){if(0<($=0>($=v.Md)?0:100<$?255:255*$/100)){for(K=re=0;4>K;++K)12>(pe=M.pb[K]).lc&&(pe.ia=$*tC[0>pe.lc?0:pe.lc]>>3),re|=pe.ia;re&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=v.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(Y,oe){if(Y==null)return 0;if(oe==null)return xn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!Or(Y,oe))return 0;if(e(Y.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(Y.L=0);var fe=Qd[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=oe.v-fe>>4,Y.zb=oe.j-fe>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=oe.o+15+fe>>4,Y.Hb=oe.va+15+fe>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var Se=Y.ed;for(fe=0;4>fe;++fe){var de;if(Y.Qa.Cb){var Ae=Y.Qa.Lb[fe];Y.Qa.Fb||(Ae+=Se.Tb)}else Ae=Se.Tb;for(de=0;1>=de;++de){var Te=Y.gd[fe][de],Me=Ae;if(Se.Pc&&(Me+=Se.vd[0],de&&(Me+=Se.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Re=Me;0<Se.wb&&(Re=4<Se.wb?Re>>2:Re>>1)>9-Se.wb&&(Re=9-Se.wb),1>Re&&(Re=1),Te.dd=Re,Te.tc=2*Me+Re,Te.ld=40<=Me?2:15<=Me?1:0}else Te.tc=0;Te.La=de}}}fe=0}else xn(Y,6,"Frame setup failed"),fe=Y.a;if(fe=fe==0){if(fe){Y.$c=0,0<Y.Aa||(Y.Ic=nC);t:{fe=Y.Ic,Se=4*(Re=Y.za);var ct=32*Re,Xe=Re+1,Bt=0<Y.L?Re*(0<Y.Aa?2:1):0,it=(Y.Aa==2?2:1)*Re;if((Te=Se+832+(de=3*(16*fe+Qd[Y.L])/2*ct)+(Ae=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=Te)fe=0;else{if(Te>Y.Vb){if(Y.Vb=0,Y.Ec=s(Te),Y.Fc=0,Y.Ec==null){fe=xn(Y,1,"no memory during frame initialization.");break t}Y.Vb=Te}Te=Y.Ec,Me=Y.Fc,Y.Ac=Te,Y.Bc=Me,Me+=Se,Y.Gd=o(ct,Js),Y.Hd=0,Y.rb=o(Xe+1,cn),Y.sb=1,Y.wa=Bt?o(Bt,Oe):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Re),e(!0),Y.oc=Te,Y.pc=Me,Me+=832,Y.ya=o(it,yt),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Re),Y.R=16*Re,Y.B=8*Re,Re=(ct=Qd[Y.L])*Y.R,ct=ct/2*Y.B,Y.sa=Te,Y.ta=Me+Re,Y.qa=Y.sa,Y.ra=Y.ta+16*fe*Y.R+ct,Y.Ha=Y.qa,Y.Ia=Y.ra+8*fe*Y.B+ct,Y.$c=0,Me+=de,Y.mb=Ae?Te:null,Y.nb=Ae?Me:null,e(Me+Ae<=Y.Fc+Y.Vb),Cs(Y),i(Y.Ac,Y.Bc,0,Se),fe=1}}if(fe){if(oe.ka=0,oe.y=Y.sa,oe.O=Y.ta,oe.f=Y.qa,oe.N=Y.ra,oe.ea=Y.Ha,oe.Vd=Y.Ia,oe.fa=Y.R,oe.Rc=Y.B,oe.F=null,oe.J=0,!hw){for(fe=-255;255>=fe;++fe)aw[255+fe]=0>fe?-fe:fe;for(fe=-1020;1020>=fe;++fe)lw[1020+fe]=-128>fe?-128:127<fe?127:fe;for(fe=-112;112>=fe;++fe)uw[112+fe]=-16>fe?-16:15<fe?15:fe;for(fe=-255;510>=fe;++fe)cw[255+fe]=0>fe?0:255<fe?255:fe;hw=1}Xa=Ut,su=Ql,Po=Ni,fn=ra,In=ks,Os=Ju,fr=tu,Nr=eo,la=D,Fh=G,sc=$a,Bd=y,J5=ee,Z5=le,ew=No,tw=To,nw=nc,rw=eu,to[0]=ia,to[1]=Fr,to[2]=Va,to[3]=Zu,to[4]=Ci,to[5]=Jl,to[6]=Ps,to[7]=Rn,to[8]=Zl,to[9]=Ua,Ja[0]=ja,Ja[1]=ss,Ja[2]=os,Ja[3]=qi,Ja[4]=Zs,Ja[5]=hi,Ja[6]=Xl,ua[0]=Ba,ua[1]=Ti,ua[2]=Eo,ua[3]=ec,ua[4]=za,ua[5]=$i,ua[6]=tc,fe=1}else fe=0}fe&&(fe=function(Jt,Tr){for(Jt.M=0;Jt.M<Jt.Va;++Jt.M){var zt,st=Jt.Jc[Jt.M&Jt.Xb],Be=Jt.m,dr=Jt;for(zt=0;zt<dr.za;++zt){var jt=Be,nn=dr,Bn=nn.Ac,Yr=nn.Bc+4*zt,Li=nn.zc,rr=nn.ya[nn.aa+zt];if(nn.Qa.Bb?rr.$b=Ie(jt,nn.Pa.jb[0])?2+Ie(jt,nn.Pa.jb[2]):Ie(jt,nn.Pa.jb[1]):rr.$b=0,nn.kc&&(rr.Ad=Ie(jt,nn.Bd)),rr.Za=!Ie(jt,145)+0,rr.Za){var pi=rr.Ob,Di=0;for(nn=0;4>nn;++nn){var Cr,an=Li[0+nn];for(Cr=0;4>Cr;++Cr){an=BT[Bn[Yr+Cr]][an];for(var yn=mw[Ie(jt,an[0])];0<yn;)yn=mw[2*yn+Ie(jt,an[yn])];an=-yn,Bn[Yr+Cr]=an}r(pi,Di,Bn,Yr,4),Di+=4,Li[0+nn]=an}}else an=Ie(jt,156)?Ie(jt,128)?1:3:Ie(jt,163)?2:0,rr.Ob[0]=an,i(Bn,Yr,an,4),i(Li,0,an,4);rr.Dd=Ie(jt,142)?Ie(jt,114)?Ie(jt,183)?1:3:2:0}if(dr.m.Ka)return xn(Jt,7,"Premature end-of-partition0 encountered.");for(;Jt.ja<Jt.za;++Jt.ja){if(dr=st,jt=(Be=Jt).rb[Be.sb-1],Bn=Be.rb[Be.sb+Be.ja],zt=Be.ya[Be.aa+Be.ja],Yr=Be.kc?zt.Ad:0)jt.la=Bn.la=0,zt.Za||(jt.Na=Bn.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var ir,vn;if(jt=Bn,Bn=dr,Yr=Be.Pa.Xc,Li=Be.ya[Be.aa+Be.ja],rr=Be.pb[Li.$b],nn=Li.ad,pi=0,Di=Be.rb[Be.sb-1],an=Cr=0,i(nn,pi,0,384),Li.Za)var Qr=0,no=Yr[3];else{yn=s(16);var pr=jt.Na+Di.Na;if(pr=Vh(Bn,Yr[1],pr,rr.Eb,0,yn,0),jt.Na=Di.Na=(0<pr)+0,1<pr)Xa(yn,0,nn,pi);else{var Hi=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)nn[pi+yn]=Hi}Qr=1,no=Yr[0]}var Nn=15&jt.la,kr=15&Di.la;for(yn=0;4>yn;++yn){var cs=1&kr;for(Hi=vn=0;4>Hi;++Hi)Nn=Nn>>1|(cs=(pr=Vh(Bn,no,pr=cs+(1&Nn),rr.Sc,Qr,nn,pi))>Qr)<<7,vn=vn<<2|(3<pr?3:1<pr?2:nn[pi+0]!=0),pi+=16;Nn>>=4,kr=kr>>1|cs<<7,Cr=(Cr<<8|vn)>>>0}for(no=Nn,Qr=kr>>4,ir=0;4>ir;ir+=2){for(vn=0,Nn=jt.la>>4+ir,kr=Di.la>>4+ir,yn=0;2>yn;++yn){for(cs=1&kr,Hi=0;2>Hi;++Hi)pr=cs+(1&Nn),Nn=Nn>>1|(cs=0<(pr=Vh(Bn,Yr[2],pr,rr.Qc,0,nn,pi)))<<3,vn=vn<<2|(3<pr?3:1<pr?2:nn[pi+0]!=0),pi+=16;Nn>>=2,kr=kr>>1|cs<<5}an|=vn<<4*ir,no|=Nn<<4<<ir,Qr|=(240&kr)<<ir}jt.la=no,Di.la=Qr,Li.Hc=Cr,Li.Gc=an,Li.ia=43690&an?0:rr.ia,Yr=!(Cr|an)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[zt.$b][zt.Za],Be.wa[Be.Y+Be.ja].La|=!Yr),dr.Ka)return xn(Jt,7,"Premature end-of-file encountered.")}if(Cs(Jt),Be=Tr,dr=1,zt=(st=Jt).D,jt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(zt.M=st.M,zt.uc=jt,Ms(st,zt),dr=1,zt=(vn=st.D).Nb,jt=(an=Qd[st.L])*st.R,Bn=an/2*st.B,yn=16*zt*st.R,Hi=8*zt*st.B,Yr=st.sa,Li=st.ta-jt+yn,rr=st.qa,nn=st.ra-Bn+Hi,pi=st.Ha,Di=st.Ia-Bn+Hi,kr=(Nn=vn.M)==0,Cr=Nn>=st.Va-1,st.Aa==2&&Ms(st,vn),vn.uc)for(cs=(pr=st).D.M,e(pr.D.uc),vn=pr.yb;vn<pr.Hb;++vn){Qr=vn,no=cs;var Mi=(hs=(Xr=pr).D).Nb;ir=Xr.R;var hs=hs.wa[hs.Y+Qr],fs=Xr.sa,Wi=Xr.ta+16*Mi*ir+16*Qr,ds=hs.dd,Fn=hs.tc;if(Fn!=0)if(e(3<=Fn),Xr.L==1)0<Qr&&tw(fs,Wi,ir,Fn+4),hs.La&&rw(fs,Wi,ir,Fn),0<no&&ew(fs,Wi,ir,Fn+4),hs.La&&nw(fs,Wi,ir,Fn);else{var ps=Xr.B,ro=Xr.qa,ou=Xr.ra+8*Mi*ps+8*Qr,ca=Xr.Ha,Xr=Xr.Ia+8*Mi*ps+8*Qr;Mi=hs.ld,0<Qr&&(Nr(fs,Wi,ir,Fn+4,ds,Mi),Fh(ro,ou,ca,Xr,ps,Fn+4,ds,Mi)),hs.La&&(Bd(fs,Wi,ir,Fn,ds,Mi),Z5(ro,ou,ca,Xr,ps,Fn,ds,Mi)),0<no&&(fr(fs,Wi,ir,Fn+4,ds,Mi),la(ro,ou,ca,Xr,ps,Fn+4,ds,Mi)),hs.La&&(sc(fs,Wi,ir,Fn,ds,Mi),J5(ro,ou,ca,Xr,ps,Fn,ds,Mi))}}if(st.ia&&alert("todo:DitherRow"),Be.put!=null){if(vn=16*Nn,Nn=16*(Nn+1),kr?(Be.y=st.sa,Be.O=st.ta+yn,Be.f=st.qa,Be.N=st.ra+Hi,Be.ea=st.Ha,Be.W=st.Ia+Hi):(vn-=an,Be.y=Yr,Be.O=Li,Be.f=rr,Be.N=nn,Be.ea=pi,Be.W=Di),Cr||(Nn-=an),Nn>Be.o&&(Nn=Be.o),Be.F=null,Be.J=null,st.Fa!=null&&0<st.Fa.length&&vn<Nn&&(Be.J=f(st,Be,vn,Nn-vn),Be.F=st.mb,Be.F==null&&Be.F.length==0)){dr=xn(st,3,"Could not decode alpha data.");break t}vn<Be.j&&(an=Be.j-vn,vn=Be.j,e(!(1&an)),Be.O+=st.R*an,Be.N+=st.B*(an>>1),Be.W+=st.B*(an>>1),Be.F!=null&&(Be.J+=Be.width*an)),vn<Nn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=vn-Be.j,Be.U=Be.va-Be.v,Be.T=Nn-vn,dr=Be.put(Be))}zt+1!=st.Ic||Cr||(r(st.sa,st.ta-jt,Yr,Li+16*st.R,jt),r(st.qa,st.ra-Bn,rr,nn+8*st.B,Bn),r(st.Ha,st.Ia-Bn,pi,Di+8*st.B,Bn))}if(!dr)return xn(Jt,6,"Output aborted.")}return 1}(Y,oe)),oe.bc!=null&&oe.bc(oe),fe&=1}return fe?(Y.cb=0,fe):0})(h,E)||(p=h.a)}}else p=h.a}p==0&&B.Oa!=null&&B.Oa.fd&&(p=Ph(B.ba))}B=p}U=B!=0?null:11>U?z.f.RGBA.eb:z.f.kb.y}else U=null;return U};var Ew=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,F){for(var S="",P=0;P<4;P++)S+=String.fromCharCode(N[F++]);return S}function c(N,F){return N[F+0]|N[F+1]<<8}function d(N,F){return(N[F+0]|N[F+1]<<8|N[F+2]<<16)>>>0}function g(N,F){return(N[F+0]|N[F+1]<<8|N[F+2]<<16|N[F+3]<<24)>>>0}new l;var m=[0],b=[0],x=[],k=new l,_=t,A=function(N,F){var S={},P=0,R=!1,X=0,ue=0;if(S.frames=[],!function(V,W){for(var J=0;J<4;J++)if(V[W+J]!="RIFF".charCodeAt(J))return!0;return!1}(N,F)){for(g(N,F+=4),F+=8;F<N.length;){var ge=u(N,F),ye=g(N,F+=4);F+=4;var Z=ye+(1&ye);switch(ge){case"VP8 ":case"VP8L":S.frames[P]===void 0&&(S.frames[P]={}),(be=S.frames[P]).src_off=R?ue:F-8,be.src_size=X+ye+8,P++,R&&(R=!1,X=0,ue=0);break;case"VP8X":(be=S.header={}).feature_flags=N[F];var ce=F+4;be.canvas_width=1+d(N,ce),ce+=3,be.canvas_height=1+d(N,ce),ce+=3;break;case"ALPH":R=!0,X=Z+8,ue=F-8;break;case"ANIM":(be=S.header).bgcolor=g(N,F),ce=F+4,be.loop_count=c(N,ce),ce+=2;break;case"ANMF":var _e,be;(be=S.frames[P]={}).offset_x=2*d(N,F),F+=3,be.offset_y=2*d(N,F),F+=3,be.width=1+d(N,F),F+=3,be.height=1+d(N,F),F+=3,be.duration=d(N,F),F+=3,_e=N[F++],be.dispose=1&_e,be.blend=_e>>1&1}ge!="ANMF"&&(F+=Z)}return S}}(_,0);A.response=_,A.rgbaoutput=!0,A.dataurl=!1;var I=A.header?A.header:null,O=A.frames?A.frames:null;if(I){I.loop_counter=I.loop_count,m=[I.canvas_height],b=[I.canvas_width];for(var Q=0;Q<O.length&&O[Q].blend!=0;Q++);}var te=O[0],j=k.WebPDecodeRGBA(_,te.src_off,te.src_size,b,m);te.rgba=j,te.imgwidth=b[0],te.imgheight=m[0];for(var C=0;C<b[0]*m[0]*4;C++)x[C]=j[C];return this.width=b,this.height=m,this.data=x,this}(function(t){var e,n,r,i,s,o,a,l,u,c=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=V;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(H){J=!!H}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(H){ne=!!H}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(H){isNaN(H)||(ie=H)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(H){isNaN(H)||(ae=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Ue;typeof H=="number"?Ue=[H,H,H,H]:((Ue=new Array(4))[0]=H[0],Ue[1]=H.length>=2?H[1]:Ue[0],Ue[2]=H.length>=3?H[2]:Ue[0],Ue[3]=H.length>=4?H[3]:Ue[1]),u.margin=Ue}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(H){ve=H}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(H){we=H}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(H){Ie=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof c&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(H){De=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Ue;Ue=g(H),this.ctx.fillStyle=Ue.style,this.ctx.isFillTransparent=Ue.a===0,this.ctx.fillOpacity=Ue.a,this.pdf.setFillColor(Ue.r,Ue.g,Ue.b,{a:Ue.a}),this.pdf.setTextColor(Ue.r,Ue.g,Ue.b,{a:Ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Ue=g(H);this.ctx.strokeStyle=Ue.style,this.ctx.isStrokeTransparent=Ue.a===0,this.ctx.strokeOpacity=Ue.a,Ue.a===0?this.pdf.setDrawColor(255,255,255):(Ue.a,this.pdf.setDrawColor(Ue.r,Ue.g,Ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var ze=null,Ve=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(H){ze=null,Ve=null,ot=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Ue;if(this.ctx.font=H,(Ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var St=Ue[1];Ue[2];var at=Ue[3],Ne=Ue[4];Ue[5];var He=Ue[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(qe==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var dt=function(We){var kn,Ft,Je=[],Rt=We.trim();if(Rt==="")return B1;if(Rt in Y4)return[Y4[Rt]];for(;Rt!=="";){switch(Ft=null,kn=(Rt=X4(Rt)).charAt(0)){case'"':case"'":Ft=Hz(Rt.substring(1),kn);break;default:Ft=Wz(Rt)}if(Ft===null||(Je.push(Ft[0]),(Rt=X4(Ft[1]))!==""&&Rt.charAt(0)!==","))return B1;Rt=Rt.replace(/^,/,"")}return Je}(He);if(this.fontFaces){var rt=function(We,kn){var Ft=We.getFontList(),Je=JSON.stringify(Ft);if(ze===null||Ve!==Je){var Rt=function(en){var tt=[];return Object.keys(en).forEach(function(sn){en[sn].forEach(function(ht){var mt=null;switch(ht){case"bold":mt={family:sn,weight:"bold"};break;case"italic":mt={family:sn,style:"italic"};break;case"bolditalic":mt={family:sn,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:sn}}mt!==null&&(mt.ref={name:sn,style:ht},tt.push(mt))})}),tt}(Ft);ze=function(en){for(var tt={},sn=0;sn<en.length;++sn){var ht=U1(en[sn]),mt=ht.family,on=ht.stretch,Ke=ht.style,ut=ht.weight;tt[mt]=tt[mt]||{},tt[mt][on]=tt[mt][on]||{},tt[mt][on][Ke]=tt[mt][on][Ke]||{},tt[mt][on][Ke][ut]=ht}return tt}(Rt.concat(kn)),Ve=Je}return ze}(this.pdf,this.fontFaces),Xt=dt.map(function(We){return{family:We,stretch:"normal",weight:at,style:St}}),Ct=function(We,kn,Ft){for(var Je=(Ft=Ft||{}).defaultFontFamily||"times",Rt=Object.assign({},$z,Ft.genericFontFamilies||{}),en=null,tt=null,sn=0;sn<kn.length;++sn)if(Rt[(en=U1(kn[sn])).family]&&(en.family=Rt[en.family]),We.hasOwnProperty(en.family)){tt=We[en.family];break}if(!(tt=tt||We[Je]))throw new Error("Could not find a font-family for the rule '"+Q4(en)+"' and default family '"+Je+"'.");if(tt=function(ht,mt){if(mt[ht])return mt[ht];var on=Ry[ht],Ke=on<=Ry.normal?-1:1,ut=K4(mt,ZN,on,Ke);if(!ut)throw new Error("Could not find a matching font-stretch value for "+ht);return ut}(en.stretch,tt),tt=function(ht,mt){if(mt[ht])return mt[ht];for(var on=JN[ht],Ke=0;Ke<on.length;++Ke)if(mt[on[Ke]])return mt[on[Ke]];throw new Error("Could not find a matching font-style for "+ht)}(en.style,tt),!(tt=function(ht,mt){if(mt[ht])return mt[ht];if(ht===400&&mt[500])return mt[500];if(ht===500&&mt[400])return mt[400];var on=qz[ht],Ke=K4(mt,eT,on,ht<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+ht);return Ke}(en.weight,tt)))throw new Error("Failed to resolve a font for the rule '"+Q4(en)+"'.");return tt}(rt,Xt);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var xt="";(at==="bold"||parseInt(at,10)>=700||St==="bold")&&(xt="bold"),St==="italic"&&(xt+="italic"),xt.length===0&&(xt="normal");for(var Dt="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<dt.length;et++){if(this.pdf.internal.getFont(dt[et],xt,{noFallback:!0,disableWarning:!0})!==void 0){Dt=dt[et];break}if(xt==="bolditalic"&&this.pdf.internal.getFont(dt[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=dt[et],xt="bold";else if(this.pdf.internal.getFont(dt[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=dt[et],xt="normal";break}}if(Dt===""){for(var kt=0;kt<dt.length;kt++)if(Vt[dt[kt]]){Dt=Vt[dt[kt]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};d.prototype.setLineDash=function(V){this.lineDash=V},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){O.call(this,"fill",!1)},d.prototype.stroke=function(){O.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(V,W){if(isNaN(V)||isNaN(W))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(V,W)},d.prototype.closePath=function(){var V=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&_n(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){V=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.lineTo=function(V,W){if(isNaN(V)||isNaN(W))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},d.prototype.quadraticCurveTo=function(V,W,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(V)||isNaN(W))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(J,ne)),ae=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},d.prototype.bezierCurveTo=function(V,W,J,ne,ie,ae){if(isNaN(ie)||isNaN(ae)||isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(ie,ae)),we=this.ctx.transform.applyToPoint(new o(V,W)),Ie=this.ctx.transform.applyToPoint(new o(J,ne));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ie.x,y2:Ie.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},d.prototype.arc=function(V,W,J,ne,ie,ae){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne)||isNaN(ie))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(V,W));V=ve.x,W=ve.y;var we=this.ctx.transform.applyToPoint(new o(0,J)),Ie=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(we.x-Ie.x,2)+Math.pow(we.y-Ie.y,2))}Math.abs(ie-ne)>=2*Math.PI&&(ne=0,ie=2*Math.PI),this.path.push({type:"arc",x:V,y:W,radius:J,startAngle:ne,endAngle:ie,counterclockwise:ae})},d.prototype.arcTo=function(V,W,J,ne,ie){throw new Error("arcTo not implemented.")},d.prototype.rect=function(V,W,J,ne){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,W),this.lineTo(V+J,W),this.lineTo(V+J,W+ne),this.lineTo(V,W+ne),this.lineTo(V,W),this.lineTo(V+J,W),this.lineTo(V,W)},d.prototype.fillRect=function(V,W,J,ne){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,W,J,ne),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},d.prototype.strokeRect=function(V,W,J,ne){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,W,J,ne),this.stroke())},d.prototype.clearRect=function(V,W,J,ne){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,W,J,ne))},d.prototype.save=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var W,J,ne,ie;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))W=0,J=0,ne=0,ie=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ae!==null)W=parseInt(ae[1]),J=parseInt(ae[2]),ne=parseInt(ae[3]),ie=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)W=parseInt(ae[1]),J=parseInt(ae[2]),ne=parseInt(ae[3]),ie=parseFloat(ae[4]);else{if(ie=1,typeof V=="string"&&V.charAt(0)!=="#"){var ve=new HN(V);V=ve.ok?ve.toHex():"#000000"}V.length===4?(W=V.substring(1,2),W+=W,J=V.substring(2,3),J+=J,ne=V.substring(3,4),ne+=ne):(W=V.substring(1,3),J=V.substring(3,5),ne=V.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:W,g:J,b:ne,a:ie,style:V}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(V,W,J,ne){if(isNaN(W)||isNaN(J)||typeof V!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:V,x:W,y:J,scale:ae,angle:ie,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(V,W,J,ne){if(isNaN(W)||isNaN(J)||typeof V!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ne=isNaN(ne)?void 0:ne;var ie=Z(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:V,x:W,y:J,scale:ae,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(V){if(typeof V!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),ie=W.getStringUnitWidth(V)*ne/W.internal.scaleFactor;return new function(ae){var ve=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ie*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(V,W){if(isNaN(V)||isNaN(W))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(V,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(V){if(isNaN(V))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(V,W){if(isNaN(V)||isNaN(W))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,V,W);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(V,W,J,ne,ie,ae){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(ne)||isNaN(ie)||isNaN(ae))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(V,W,J,ne,ie,ae);this.ctx.transform=this.ctx.transform.multiply(ve)},d.prototype.setTransform=function(V,W,J,ne,ie,ae){V=isNaN(V)?1:V,W=isNaN(W)?0:W,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,ie=isNaN(ie)?0:ie,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(V,W,J,ne,ie,ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(V,W,J,ne,ie,ae,ve,we,Ie){var De=this.pdf.getImageProperties(V),ze=1,Ve=1,ot=1,H=1;ne!==void 0&&we!==void 0&&(ot=we/ne,H=Ie/ie,ze=De.width/ne*we/ne,Ve=De.height/ie*Ie/ie),ae===void 0&&(ae=W,ve=J,W=0,J=0),ne!==void 0&&we===void 0&&(we=ne,Ie=ie),ne===void 0&&we===void 0&&(we=De.width,Ie=De.height);var Ue=this.ctx.transform.decompose(),St=Z(Ue.rotate.shx),at=new l,Ne=(at=(at=(at=at.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new a(ae-W*ot,ve-J*H,ne*ze,ie*Ve));if(this.autoPaging){for(var He,qe=k.call(this,Ne),dt=[],rt=0;rt<qe.length;rt+=1)dt.indexOf(qe[rt])===-1&&dt.push(qe[rt]);I(dt);for(var Xt=dt[0],Ct=dt[dt.length-1],xt=Xt;xt<Ct+1;xt++){this.pdf.setPage(xt);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=xt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=xt===1?0:et+(xt-2)*kt;if(this.ctx.clip_path.length!==0){var kn=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(He,this.posX+this.margin[3],-We+Vt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=kn}var Ft=JSON.parse(JSON.stringify(Ne));Ft=A([Ft],this.posX+this.margin[3],-We+Vt+this.ctx.prevPageLastElemOffset)[0];var Je=(xt>Xt||xt<Ct)&&x.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,kt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,St),Je&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,St)};var k=function(V,W,J){var ne=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ne.push(Math.floor((V.y+ie)/J)+1);break;case"arc":ne.push(Math.floor((V.y+ie-V.radius)/J)+1),ne.push(Math.floor((V.y+ie+V.radius)/J)+1);break;case"qct":var ae=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ne.push(Math.floor((ae.y+ie)/J)+1),ne.push(Math.floor((ae.y+ae.h+ie)/J)+1);break;case"bct":var ve=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ne.push(Math.floor((ve.y+ie)/J)+1),ne.push(Math.floor((ve.y+ve.h+ie)/J)+1);break;case"rect":ne.push(Math.floor((V.y+ie)/J)+1),ne.push(Math.floor((V.y+V.h+ie)/J)+1)}for(var we=0;we<ne.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ne[we];)_.call(this);return ne},_=function(){var V=this.fillStyle,W=this.strokeStyle,J=this.font,ne=this.lineCap,ie=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=W,this.font=J,this.lineCap=ne,this.lineWidth=ie,this.lineJoin=ae},A=function(V,W,J){for(var ne=0;ne<V.length;ne++)switch(V[ne].type){case"bct":V[ne].x2+=W,V[ne].y2+=J;case"qct":V[ne].x1+=W,V[ne].y1+=J;default:V[ne].x+=W,V[ne].y+=J}return V},I=function(V){return V.sort(function(W,J){return W-J})},O=function(V,W){var J=this.fillStyle,ne=this.strokeStyle,ie=this.lineCap,ae=this.lineWidth,ve=Math.abs(ae*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Ie,De,ze=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),ot=[],H=0;H<Ve.length;H++)if(Ve[H].x!==void 0)for(var Ue=k.call(this,Ve[H]),St=0;St<Ue.length;St+=1)ot.indexOf(Ue[St])===-1&&ot.push(Ue[St]);for(var at=0;at<ot.length;at++)for(;this.pdf.internal.getNumberOfPages()<ot[at];)_.call(this);I(ot);for(var Ne=ot[0],He=ot[ot.length-1],qe=Ne;qe<He+1;qe++){this.pdf.setPage(qe),this.fillStyle=J,this.strokeStyle=ne,this.lineCap=ie,this.lineWidth=ve,this.lineJoin=we;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=qe===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=qe===1?0:Xt+(qe-2)*Ct;if(this.ctx.clip_path.length!==0){var Dt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Ie,this.posX+this.margin[3],-xt+rt+this.ctx.prevPageLastElemOffset),Q.call(this,V,!0),this.path=Dt}if(De=JSON.parse(JSON.stringify(ze)),this.path=A(De,this.posX+this.margin[3],-xt+rt+this.ctx.prevPageLastElemOffset),W===!1||qe===0){var Vt=(qe>Ne||qe<He)&&x.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Ct,null).clip().discardPath()),Q.call(this,V,W),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=ze}else this.lineWidth=ve,Q.call(this,V,W),this.lineWidth=ae},Q=function(V,W){if((V!=="stroke"||W||!b.call(this))&&(V==="stroke"||W||!m.call(this))){for(var J,ne,ie=[],ae=this.path,ve=0;ve<ae.length;ve++){var we=ae[ve];switch(we.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:we,deltas:[],abs:[]});break;case"lt":var Ie=ie.length;if(ae[ve-1]&&!isNaN(ae[ve-1].x)&&(J=[we.x-ae[ve-1].x,we.y-ae[ve-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ie[Ie-1].close!==!0&&ie[Ie-1].begin!==!0){ie[Ie-1].deltas.push(J),ie[Ie-1].abs.push(we);break}}break;case"bct":J=[we.x1-ae[ve-1].x,we.y1-ae[ve-1].y,we.x2-ae[ve-1].x,we.y2-ae[ve-1].y,we.x-ae[ve-1].x,we.y-ae[ve-1].y],ie[ie.length-1].deltas.push(J);break;case"qct":var De=ae[ve-1].x+2/3*(we.x1-ae[ve-1].x),ze=ae[ve-1].y+2/3*(we.y1-ae[ve-1].y),Ve=we.x+2/3*(we.x1-we.x),ot=we.y+2/3*(we.y1-we.y),H=we.x,Ue=we.y;J=[De-ae[ve-1].x,ze-ae[ve-1].y,Ve-ae[ve-1].x,ot-ae[ve-1].y,H-ae[ve-1].x,Ue-ae[ve-1].y],ie[ie.length-1].deltas.push(J);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(we)}}ne=W?null:V==="stroke"?"stroke":"fill";for(var St=!1,at=0;at<ie.length;at++)if(ie[at].arc)for(var Ne=ie[at].abs,He=0;He<Ne.length;He++){var qe=Ne[He];qe.type==="arc"?C.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,W,!St):R.call(this,qe.x,qe.y),St=!0}else if(ie[at].close===!0)this.pdf.internal.out("h"),St=!1;else if(ie[at].begin!==!0){var dt=ie[at].start.x,rt=ie[at].start.y;X.call(this,ie[at].deltas,dt,rt),St=!0}ne&&N.call(this,ne),W&&F.call(this)}},te=function(V){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-J;case"top":return V+W-J;case"hanging":return V+W-2*J;case"middle":return V+W/2-J;default:return V}},j=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(W,J){this.colorStops.push([W,J])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(V,W,J,ne,ie,ae,ve,we,Ie){for(var De=ge.call(this,J,ne,ie,ae),ze=0;ze<De.length;ze++){var Ve=De[ze];ze===0&&(Ie?S.call(this,Ve.x1+V,Ve.y1+W):R.call(this,Ve.x1+V,Ve.y1+W)),ue.call(this,V,W,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}we?F.call(this):N.call(this,ve)},N=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(V,W){this.pdf.internal.out(n(V)+" "+r(W)+" m")},P=function(V){var W;switch(V.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var J,ne,ie,ae=this.pdf.getTextDimensions(V.text),ve=te.call(this,V.y),we=j.call(this,ve)-ae.h,Ie=this.ctx.transform.applyToPoint(new o(V.x,ve));if(this.autoPaging){var De=this.ctx.transform.decompose(),ze=new l;ze=(ze=(ze=ze.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var Ve=this.ctx.transform.applyToRectangle(new a(V.x,ve,ae.w,ae.h)),ot=ze.applyToRectangle(new a(V.x,we,ae.w,ae.h)),H=k.call(this,ot),Ue=[],St=0;St<H.length;St+=1)Ue.indexOf(H[St])===-1&&Ue.push(H[St]);I(Ue);for(var at=Ue[0],Ne=Ue[Ue.length-1],He=at;He<Ne+1;He++){this.pdf.setPage(He);var qe=He===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Xt=rt-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],xt=Ct-this.margin[3],Dt=He===1?0:dt+(He-2)*Xt;if(this.ctx.clip_path.length!==0){var Vt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(J,this.posX+this.margin[3],-1*Dt+qe),Q.call(this,"fill",!0),this.path=Vt}var et=A([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Dt+qe+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*V.scale),ie=this.lineWidth,this.lineWidth=ie*V.scale);var kt=this.autoPaging!=="text";if(kt||et.y+et.h<=rt){if(kt||et.y>=qe&&et.x<=Ct){var We=kt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ct-et.x)[0],kn=A([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Dt+qe+this.ctx.prevPageLastElemOffset)[0],Ft=kt&&(He>at||He<Ne)&&x.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Xt,null).clip().discardPath()),this.pdf.text(We,kn.x,kn.y,{angle:V.angle,align:W,renderingMode:V.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else et.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-et.y);V.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ie)}}else V.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*V.scale),ie=this.lineWidth,this.lineWidth=ie*V.scale),this.pdf.text(V.text,Ie.x+this.posX,Ie.y+this.posY,{angle:V.angle,align:W,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ie)},R=function(V,W,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(V+J)+" "+r(W+ne)+" l")},X=function(V,W,J){return this.pdf.lines(V,W,J,null,null)},ue=function(V,W,J,ne,ie,ae,ve,we){this.pdf.internal.out([e(i(J+V)),e(s(ne+W)),e(i(ie+V)),e(s(ae+W)),e(i(ve+V)),e(s(we+W)),"c"].join(" "))},ge=function(V,W,J,ne){for(var ie=2*Math.PI,ae=Math.PI/2;W>J;)W-=ie;var ve=Math.abs(J-W);ve<ie&&ne&&(ve=ie-ve);for(var we=[],Ie=ne?-1:1,De=W;ve>1e-5;){var ze=De+Ie*Math.min(ve,ae);we.push(ye.call(this,V,De,ze)),ve-=Math.abs(ze-De),De=ze}return we},ye=function(V,W,J){var ne=(J-W)/2,ie=V*Math.cos(ne),ae=V*Math.sin(ne),ve=ie,we=-ae,Ie=ve*ve+we*we,De=Ie+ve*ie+we*ae,ze=4/3*(Math.sqrt(2*Ie*De)-De)/(ve*ae-we*ie),Ve=ve-ze*we,ot=we+ze*ve,H=Ve,Ue=-ot,St=ne+W,at=Math.cos(St),Ne=Math.sin(St);return{x1:V*Math.cos(W),y1:V*Math.sin(W),x2:Ve*at-ot*Ne,y2:Ve*Ne+ot*at,x3:H*at-Ue*Ne,y3:H*Ne+Ue*at,x4:V*Math.cos(J),y4:V*Math.sin(J)}},Z=function(V){return 180*V/Math.PI},ce=function(V,W,J,ne,ie,ae){var ve=V+.5*(J-V),we=W+.5*(ne-W),Ie=ie+.5*(J-ie),De=ae+.5*(ne-ae),ze=Math.min(V,ie,ve,Ie),Ve=Math.max(V,ie,ve,Ie),ot=Math.min(W,ae,we,De),H=Math.max(W,ae,we,De);return new a(ze,ot,Ve-ze,H-ot)},_e=function(V,W,J,ne,ie,ae,ve,we){var Ie,De,ze,Ve,ot,H,Ue,St,at,Ne,He,qe,dt,rt,Xt=J-V,Ct=ne-W,xt=ie-J,Dt=ae-ne,Vt=ve-ie,et=we-ae;for(De=0;De<41;De++)at=(Ue=(ze=V+(Ie=De/40)*Xt)+Ie*((ot=J+Ie*xt)-ze))+Ie*(ot+Ie*(ie+Ie*Vt-ot)-Ue),Ne=(St=(Ve=W+Ie*Ct)+Ie*((H=ne+Ie*Dt)-Ve))+Ie*(H+Ie*(ae+Ie*et-H)-St),De==0?(He=at,qe=Ne,dt=at,rt=Ne):(He=Math.min(He,at),qe=Math.min(qe,Ne),dt=Math.max(dt,at),rt=Math.max(rt,Ne));return new a(Math.round(He),Math.round(qe),Math.round(dt-He),Math.round(rt-qe))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,W,J=(V=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ft.API),function(t){var e=function(o){var a,l,u,c,d,g,m,b,x,k;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(k=d%85))/85)-(x=d%85))/85)-(b=d%85))/85)-(m=d%85))/85)%85,l.push(g+33,m+33,b+33,x+33,k+33)):l.push(122);return function(_,A){for(var I=A;I>0;I--)_.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,d,g=String,m="length",b=255,x="charCodeAt",k="slice",_="replace";for(o[k](-2),o=o[k](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],c=0,d=(o+=a="uuuuu"[k](o[m]%5||5))[m];d>c;c+=5)l=52200625*(o[x](c)-33)+614125*(o[x](c+1)-33)+7225*(o[x](c+2)-33)+85*(o[x](c+3)-33)+(o[x](c+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(A,I){for(var O=I;O>0;O--)A.pop()}(u,a[m]),g.fromCharCode.apply(g,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=wy(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,m=function(b){var x=b.length,k=[],_=String.fromCharCode;for(g=0;g<x;g+=1)k.push(_(255&b.charCodeAt(g)));return k.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(m(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return m(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(Nt.html2canvas?Promise.resolve(Nt.html2canvas):Zp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Nt.DOMPurify?Promise.resolve(Nt.DOMPurify):Zp(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=_n(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var b=c[m],x=b.src.find(function(k){return k.format==="truetype"});x&&u.addFont(x.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,d).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),g=u.call(d,a,l);return o.convert(g,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ft.getPageSize=function(a,l,u){if(_n(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,x=0,k=0;if(m.hasOwnProperty(g))x=m[g][1]/d,k=m[g][0]/d;else try{x=u[1],k=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",k>x&&(b=k,k=x,x=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>k&&(b=k,k=x,x=b)}return{width:k,height:x,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(U1):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(ft.API),ft.API.addJS=function(t){return Z4=t,this.internal.events.subscribe("postPutResources",function(){Fp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fp!==void 0&&J4!==void 0&&this.internal.out("/Names <</JavaScript "+Fp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var g,m=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,x={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=m,e.indexOf(d.charCodeAt(k+1))!==-1){g=256*d.charCodeAt(k+5)+d.charCodeAt(k+6),x={width:256*d.charCodeAt(k+7)+d.charCodeAt(k+8),height:g,numcomponents:d.charCodeAt(k+9)};break}m=256*d.charCodeAt(k+2)+d.charCodeAt(k+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ft.API),ft.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Cz(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(C){for(var N=C.width,F=C.height,S=C.data,P=C.palette,R=C.depth,X=!1,ue=[],ge=[],ye=void 0,Z=!1,ce=0,_e=0;_e<P.length;_e++){var be=Gx(P[_e],4),V=be[0],W=be[1],J=be[2],ne=be[3];ue.push(V,W,J),ne!=null&&(ne===0?(ce++,ge.length<1&&ge.push(_e)):ne<255&&(Z=!0))}if(Z||ce>1){X=!0,ge=void 0;var ie=N*F;ye=new Uint8Array(ie);for(var ae=new DataView(S.buffer),ve=0;ve<ie;ve++){var we=z1(ae,ve,R),Ie=Gx(P[we],4)[3];ye[ve]=Ie}}else ce===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:S,alphaBytes:ye,needSMask:X,palette:ue,mask:ge}}(s):l===2||l===4?function(C){for(var N=C.data,F=C.width,S=C.height,P=C.channels,R=C.depth,X=P===2?"DeviceGray":"DeviceRGB",ue=P-1,ge=F*S,ye=ue,Z=ge*ye,ce=1*ge,_e=Math.ceil(Z*R/8),be=Math.ceil(ce*R/8),V=new Uint8Array(_e),W=new Uint8Array(be),J=new DataView(N.buffer),ne=new DataView(V.buffer),ie=new DataView(W.buffer),ae=!1,ve=0;ve<ge;ve++){for(var we=ve*P,Ie=0;Ie<ye;Ie++)l3(ne,z1(J,we+Ie,R),ve*ye+Ie,R);var De=z1(J,we+ye,R);De<(1<<R)-1&&(ae=!0),l3(ie,De,1*ve,R)}return{colorSpace:X,colorsPerPixel:ue,sMaskBitsPerComponent:ae?R:void 0,colorBytes:V,alphaBytes:W,needSMask:ae}}(s):function(C){var N=C.data,F=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(S){for(var P=S.length,R=new Uint8Array(2*P),X=new DataView(R.buffer,R.byteOffset,R.byteLength),ue=0;ue<P;ue++)X.setUint16(2*ue,S[ue],!1);return R}(N):N,needSMask:!1}}(s);var d,g,m,b=i,x=b.colorSpace,k=b.colorsPerPixel,_=b.sMaskBitsPerComponent,A=b.colorBytes,I=b.alphaBytes,O=b.needSMask,Q=b.palette,te=b.mask,j=null;return r!==ft.API.image_compression.NONE&&typeof wy=="function"?(j=function(C){var N;switch(C){case ft.API.image_compression.FAST:N=11;break;case ft.API.image_compression.MEDIUM:N=13;break;case ft.API.image_compression.SLOW:N=14;break;default:N=12}return N}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(j," /Colors ").concat(k," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=r3(A,Math.ceil(o*k*c/8),k,c,r),O&&(m=r3(I,Math.ceil(o*_/8),1,_,r))):(d=void 0,g=void 0,t=A,O&&(m=I)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:te,palette:Q,sMask:m,predictor:j,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:_,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new Qz(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new q1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Tn.log("bit decode error:"+n)}},so.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},so.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},so.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},so.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new so(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new q1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),c3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new c3(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new q1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],g=r[u+2],m=r[u+3];s[a++]=c,s[a++]=d,s[a++]=g,o[l++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hc=ft.API,jp=hc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,g=0,m=t.length,b=0,x=a[0]||l,k=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&_n(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/c:0,k.push((a[r]||x)/l+g)),b=r;return k},e3=hc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return hc.processArabic&&(t=hc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:jp.apply(this,arguments).reduce(function(s,o){return s+o},0)},t3=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},n3=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],g=n.textIndent||0,m=0,b=0,x=t.split(" "),k=jp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),A=[];x.map(function(O){(O=O.split(/\s*\n/)).length>1?A=A.concat(O.map(function(Q,te){return(te&&Q.length?`
`:"")+Q})):A.push(O[0])}),x=A,l=e3.apply(this,[_,n])}for(s=0,o=x.length;s<o;s++){var I=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),I=1),g+m+(b=(i=jp.apply(this,[r,n])).reduce(function(O,Q){return O+Q},0))>e||I){if(b>e){for(a=t3.apply(this,[r,i,e-(g+m),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(O,Q){return O+Q},0)}else c=[r];d.push(c),g=b+l,m=k}else c.push(r),g+=m+b,m=k}return u=l?function(O,Q){return(Q?_:"")+O.join(" ")}:function(O){return O.join(" ")},d.map(u)},hc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(n3.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var m,b,x,k,_=["{"];for(var A in g){if(m=g[A],isNaN(parseInt(A,10))?b="'"+A+"'":(A=parseInt(A,10),b=(b=o(A).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(x=o(m).slice(3),k="-"):(x=o(m).slice(2),k=""),x=k+x.slice(0,-1)+i[x.slice(-1)];else{if(_n(m)!=="object")throw new Error("Don't know what to do with value type "+_n(m)+".");x=a(m)}_.push(b+x)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,x,k,_={},A=1,I=_,O=[],Q="",te="",j=g.length-1,C=1;C<j;C+=1)(k=g[C])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(k):k=="{"?(O.push([I,x]),I={},x=void 0):k=="}"?((b=O.pop())[0][b[1]]=I,x=void 0,I=b[0]):k=="-"?A=-1:x===void 0?r.hasOwnProperty(k)?(Q+=r[k],x=parseInt(Q,16)*A,A=1,Q=""):Q+=k:r.hasOwnProperty(k)?(te+=r[k],I[x]=parseInt(te,16)*A,A=1,x=void 0,te=""):te+=k;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,b=d.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var x=c.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(mm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),ft.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Nt.canvg?Promise.resolve(Nt.canvg):Zp(()=>import("./index.es-CUxhd4bb.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function g(b,x){var k,_=!1;for(k=0;k<b.length;k+=1)b[k]===x&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(d=0;d<m;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(_n(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(m,b){return m-b})).length;d<g;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var x=u();c({data:m,addLength1:!0,objectId:x}),l("endobj");var k=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+yc(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+yc(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+yc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",m=0;m<d.length;m++)g+=String.fromCharCode(d[m]);var b=u();c({data:g,addLength1:!0,objectId:b}),l("endobj");var x=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var k=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+yc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+yc(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},g=d.pdfEscape,m=d.activeFontKey,b=d.fonts,x=m,k="",_=0,A="",I=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(A=a,x=m,Array.isArray(a)&&(A=a[0]),_=0;_<A.length;_+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[A[_].charCodeAt(0)]),o||A[_].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?k+=A[_]:k+="";var O="";return parseInt(x.slice(1))<14||I==="WinAnsiEncoding"?O=g(k,x).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(O=n(k,b[x])),d.isHex=!0,{text:O,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,I=0;this.__bidiEngine__={};var O=function(S){var P=S.charCodeAt(),R=P>>8,X=x[R];return X!==void 0?d[256*X+(255&P)]:R===252||R===253?"AL":_.test(R)?"L":R===8?"R":"N"},Q=function(S){for(var P,R=0;R<S.length;R++){if((P=O(S.charAt(R)))==="L")return!1;if(P==="R")return!0}return!1},te=function(S,P,R,X){var ue,ge,ye,Z,ce=P[X];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ce="AN");break;case"AL":A=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":X<1||X+1>=P.length||(ue=R[X-1])!=="EN"&&ue!=="AN"||(ge=P[X+1])!=="EN"&&ge!=="AN"?ce="N":A&&(ge="AN"),ce=ge===ue?ge:"N";break;case"ES":ce=(ue=X>0?R[X-1]:"B")==="EN"&&X+1<P.length&&P[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&R[X-1]==="EN"){ce="EN";break}if(A){ce="N";break}for(ye=X+1,Z=P.length;ye<Z&&P[ye]==="ET";)ye++;ce=ye<Z&&P[ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=P.length,ye=X+1;ye<Z&&P[ye]==="NSM";)ye++;if(ye<Z){var _e=S[X],be=_e>=1425&&_e<=2303||_e===64286;if(ue=P[ye],be&&(ue==="R"||ue==="AL")){ce="R";break}}}ce=X<1||(ue=P[X-1])==="B"?"N":R[X-1];break;case"B":A=!1,i=!0,ce=I;break;case"S":s=!0,ce="N"}return ce},j=function(S,P,R){var X=S.split("");return R&&C(X,R,{hiLevel:I}),X.reverse(),P&&P.reverse(),X.join("")},C=function(S,P,R){var X,ue,ge,ye,Z,ce=-1,_e=S.length,be=0,V=[],W=I?m:g,J=[];for(A=!1,i=!1,s=!1,ue=0;ue<_e;ue++)J[ue]=O(S[ue]);for(ge=0;ge<_e;ge++){if(Z=be,V[ge]=te(S,J,V,ge),X=240&(be=W[Z][b[V[ge]]]),be&=15,P[ge]=ye=W[be][5],X>0)if(X===16){for(ue=ce;ue<ge;ue++)P[ue]=1;ce=-1}else ce=-1;if(W[be][6])ce===-1&&(ce=ge);else if(ce>-1){for(ue=ce;ue<ge;ue++)P[ue]=ye;ce=-1}J[ge]==="B"&&(P[ge]=0),R.hiLevel|=ye}s&&function(ne,ie,ae){for(var ve=0;ve<ae;ve++)if(ne[ve]==="S"){ie[ve]=I;for(var we=ve-1;we>=0&&ne[we]==="WS";we--)ie[we]=I}}(J,P,_e)},N=function(S,P,R,X,ue){if(!(ue.hiLevel<S)){if(S===1&&I===1&&!i)return P.reverse(),void(R&&R.reverse());for(var ge,ye,Z,ce,_e=P.length,be=0;be<_e;){if(X[be]>=S){for(Z=be+1;Z<_e&&X[Z]>=S;)Z++;for(ce=be,ye=Z-1;ce<ye;ce++,ye--)ge=P[ce],P[ce]=P[ye],P[ye]=ge,R&&(ge=R[ce],R[ce]=R[ye],R[ye]=ge);be=Z}be++}}},F=function(S,P,R){var X=S.split(""),ue={hiLevel:I};return R||(R=[]),C(X,R,ue),function(ge,ye,Z){if(Z.hiLevel!==0&&c)for(var ce,_e=0;_e<ge.length;_e++)ye[_e]===1&&(ce=k.indexOf(ge[_e]))>=0&&(ge[_e]=k[ce+1])}(X,R,ue),N(2,X,P,R,ue),N(1,X,P,R,ue),X.join("")};return this.__bidiEngine__.doBidiReorder=function(S,P,R){if(function(ue,ge){if(ge)for(var ye=0;ye<ue.length;ye++)ge[ye]=ye;a===void 0&&(a=Q(ue)),u===void 0&&(u=Q(ue))}(S,P),o||!l||u)if(o&&l&&a^u)I=a?1:0,S=j(S,P,R);else if(!o&&l&&u)I=a?1:0,S=F(S,P,R),S=j(S,P);else if(!o||a||l||u){if(o&&!l&&a^u)S=j(S,P),a?(I=0,S=F(S,P,R)):(I=1,S=F(S,P,R),S=j(S,P));else if(o&&a&&!l&&u)I=1,S=F(S,P,R),S=j(S,P);else if(!o&&!l&&a^u){var X=c;a?(I=1,S=F(S,P,R),I=0,c=!1,S=F(S,P,R),c=X):(I=0,S=F(S,P,R),S=j(S,P),I=1,c=!1,S=F(S,P,R),c=X,S=j(S,P))}}else I=0,S=F(S,P,R);else I=a?1:0,S=F(S,P,R);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,u=S.isOutputRtl,c=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Wl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new hq(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Xz(this.contents),this.head=new Zz(this),this.name=new iq(this),this.cmap=new nT(this),this.toUnicode={},this.hhea=new eq(this),this.maxp=new sq(this),this.hmtx=new oq(this),this.post=new nq(this),this.os2=new tq(this),this.loca=new cq(this),this.glyf=new aq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var xo,Wl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Xz=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,g,m,b,x;for(x in m=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),o=Math.floor(d/l),c=16*m-d,(i=new Wl).writeInt(this.scalarType),i.writeShort(m),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*m,u=i.pos+s,a=null,b=[],n)for(g=n[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),x==="head"&&(a=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=rT.call(n);n.length%4;)n.push(0);for(s=new Wl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Jz={}.hasOwnProperty,ta=function(t,e){for(var n in e)Jz.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};xo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Zz=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Wl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),h3=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,k,_,A,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=function(){var O,Q;for(Q=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Q.push(e.readUInt16());return Q}(),e.pos+=2,x=function(){var O,Q;for(Q=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Q.push(e.readUInt16());return Q}(),u=function(){var O,Q;for(Q=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Q.push(e.readUInt16());return Q}(),c=function(){var O,Q;for(Q=[],l=O=0;0<=g?O<g:O>g;l=0<=g?++O:--O)Q.push(e.readUInt16());return Q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var O,Q;for(Q=[],l=O=0;0<=i?O<i:O>i;l=0<=i?++O:--O)Q.push(e.readUInt16());return Q}(),l=_=0,I=s.length;_<I;l=++_)for(k=s[l],r=A=b=x[l];b<=k?A<=k:A>=k;r=b<=k?++A:--A)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-b)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,k,_,A,I,O,Q,te,j,C,N,F,S,P,R,X,ue,ge,ye,Z,ce,_e,be,V,W,J,ne,ie,ae,ve,we,Ie,De,ze;switch(X=new Wl,o=Object.keys(e).sort(function(Ve,ot){return Ve-ot}),n){case"macroman":for(x=0,k=function(){var Ve=[];for(b=0;b<256;++b)Ve.push(0);return Ve}(),A={0:0},s={},ue=0,ce=o.length;ue<ce;ue++)A[we=e[i=o[ue]]]==null&&(A[we]=++x),s[i]={old:e[i],new:A[e[i]]},k[i]=A[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(k),{charMap:s,subtable:X.data,maxGlyphID:x+1};case"unicode":for(P=[],d=[],I=0,A={},r={},_=u=null,ge=0,_e=o.length;ge<_e;ge++)A[Q=e[i=o[ge]]]==null&&(A[Q]=++I),r[i]={old:Q,new:A[Q]},a=A[Q]-i,_!=null&&a===u||(_&&d.push(_),P.push(i),u=a),_=i;for(_&&d.push(_),d.push(65535),P.push(65535),F=2*(N=P.length),C=2*Math.pow(Math.log(N)/Math.LN2,2),g=Math.log(C/2)/Math.LN2,j=2*N-C,l=[],te=[],m=[],b=ye=0,be=P.length;ye<be;b=++ye){if(S=P[b],c=d[b],S===65535){l.push(0),te.push(0);break}if(S-(R=r[S].new)>=32768)for(l.push(0),te.push(2*(m.length+N-b)),i=Z=S;S<=c?Z<=c:Z>=c;i=S<=c?++Z:--Z)m.push(r[i].new);else l.push(R-S),te.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*N+2*m.length),X.writeUInt16(0),X.writeUInt16(F),X.writeUInt16(C),X.writeUInt16(g),X.writeUInt16(j),ae=0,V=d.length;ae<V;ae++)i=d[ae],X.writeUInt16(i);for(X.writeUInt16(0),ve=0,W=P.length;ve<W;ve++)i=P[ve],X.writeUInt16(i);for(Ie=0,J=l.length;Ie<J;Ie++)a=l[Ie],X.writeUInt16(a);for(De=0,ne=te.length;De<ne;De++)O=te[De],X.writeUInt16(O);for(ze=0,ie=m.length;ze<ie;ze++)x=m[ze],X.writeUInt16(x);return{charMap:r,subtable:X.data,maxGlyphID:I+1}}},t}(),nT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new h3(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=h3.encode(e,n),(i=new Wl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),eq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),tq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),nq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),rq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,c,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new rq(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),sq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,d,g;for(g=[],u=0,c=(d=this.metrics).length;u<c;u++)s=d[u],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),rT=[].slice,aq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Wl(n.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new uq(a,u,d,l,c):new lq(a,o,u,d,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),lq=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uq=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Wl(rT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ta(t,xo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),hq=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,m,b,x,k,_;for(i in r=nT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},_=r.charMap)m[(l=_[i]).old]=l.new;for(b in g=r.maxGlyphID,o)b in m||(m[b]=g++);return c=function(A){var I,O;for(I in O={},A)O[A[I]]=I;return O}(m),d=Object.keys(c).sort(function(A,I){return A-I}),x=function(){var A,I,O;for(O=[],A=0,I=d.length;A<I;A++)a=d[A],O.push(c[a]);return O}(),s=this.font.glyf.encode(o,x,m),u=this.font.loca.encode(s.offsets,x),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function iT(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(c):t,g=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var m=a;if(r.halign==="center"&&(m*=.5),d&&g>=1){for(var b=0;b<d.length;b++)i.text(d[b],e-i.getStringUnitWidth(d[b])*m,n),n+=u;return i}e-=i.getStringUnitWidth(t)*m}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var f3={},Yc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:f3=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return f3||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Ly=function(t,e){return Ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ly(t,e)};function sT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ly(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var oT=function(t){sT(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function fq(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function dq(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function wg(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function aT(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=lT(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function lT(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function c0(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function uT(t,e){var n=c0(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function pq(t,e,n,r,i){var s={},o=1.3333333333333333,a=$1(e,function(I){return i.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var l=$1(e,function(I){return i.getComputedStyle(I).color});l!=null&&(s.textColor=l);var u=gq(r,n);u&&(s.cellPadding=u);var c="borderTopColor",d=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var m=(parseFloat(g)||0)/d;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var b=$1(e,function(I){return i.getComputedStyle(I)[c]});b!=null&&(s.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(s.fontSize=k/o);var _=mq(r);_&&(s.fontStyle=_);var A=(r.fontFamily||"").toLowerCase();return t.indexOf(A)!==-1&&(s.font=A),s}function mq(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function $1(t,e){var n=cT(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function cT(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:cT(t.parentElement,e):n}function gq(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=c0(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function hT(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],d=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:d,foot:g};for(var m=0;m<a.rows.length;m++){var b=a.rows[m],x=(o=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),k=yq(l,u,n,b,r,i);k&&(x==="thead"?c.push(k):x==="tfoot"?g.push(k):d.push(k))}return{head:c,body:d,foot:g}}function yq(t,e,n,r,i,s){for(var o=new oT(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=pq(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:vq(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function vq(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function wq(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Sa(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function fT(t,e){var n=new Yc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();wq(i,r,e);var s=Sa({},i,r,e),o;typeof window<"u"&&(o=window);var a=_q(i,r,e),l=bq(i,r,e),u=xq(n,s),c=Eq(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function _q(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],d=n[l];r.columnStyles=Sa({},u,c,d)}else{var g=[t,e,n],m=g.map(function(b){return b[l]||{}});r[l]=Sa({},m[0],m[1],m[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function bq(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function xq(t,e){var n,r,i,s,o,a,l,u,c,d,g,m,b=c0(e.margin,40/t.scaleFactor()),x=(n=Sq(t,e.startY))!==null&&n!==void 0?n:b.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var A=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(A?"plain":"striped"),O=!!e.horizontalPageBreak,Q=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:A,theme:I,startY:x,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:_,showFoot:k,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:O,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Sq(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Eq(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=hT(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Aq(r,i,s);return{columns:l,head:r,body:i,foot:s}}function Aq(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var Dy=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Iq=function(t){sT(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(Dy),Nq=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new Iq(e,this,r,i,s,o),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Dy(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Dy(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),dT=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof oT&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),pT=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=c0(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Tq=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function Cq(t,e){kq(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=My(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=My(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Rq(e),Lq(e,t),Pq(e)}function kq(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=uT(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=wg(u.text,u.styles,t)+d;var g=wg(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function My(t,e,n){for(var r=e,i=t.reduce(function(m,b){return m+b.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,c=n(o),d=u<c?c:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>n(m):!0});g.length&&(e=My(g,e,n))}return e}function Pq(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var d=r.length-i,g=c.rowSpan>d?d:c.rowSpan;e[l.index]={cell:c,left:g,row:s}}}}}function Rq(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function Lq(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=d3(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=d3(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function d3(t,e,n,r,i){return t.map(function(s){return Dq(s,e,n,r,i)})}function Dq(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=wg(t,n,r))return t;for(;e<wg(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function mT(t,e){var n=new Yc(t),r=Mq(e,n.scaleFactor()),i=new Nq(e,r);return Cq(n,i),n.applyStyles(n.userStyles),i}function Mq(t,e){var n=t.content,r=Fq(n.columns);if(n.head.length===0){var i=p3(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=p3(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:H1("head",n.head,r,o,s,e),body:H1("body",n.body,r,o,s,e),foot:H1("foot",n.foot,r,o,s,e)}}function H1(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var c=0,d={},g=0,m=0,b=0,x=n;b<x.length;b++){var k=x[b];if(o[k.index]==null||o[k.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[k.index-g-c]:_=l[k.dataKey];var A={};typeof _=="object"&&!Array.isArray(_)&&(A=(_==null?void 0:_.styles)||{});var I=jq(t,k,u,i,r,s,A),O=new pT(_,I,t);d[k.dataKey]=O,d[k.index]=O,m=O.colSpan-1,o[k.index]={left:O.rowSpan-1,times:m}}else m--,g++;else o[k.index].left--,m=o[k.index].times,c++}return new dT(l,u,t,d)});return a}function p3(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Oq(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Oq(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Fq(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Tq(i,e,n)})}function jq(t,e,n,r,i,s,o){var a=dq(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Sa({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?c:{},g=t==="body"&&n%2===0?Sa({},a.alternateRow,i.alternateRowStyles):{},m=fq(s),b=Sa({},m,u,g,d);return Sa(b,o)}function Vq(t,e,n){var r;n===void 0&&(n={});var i=uT(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(b){return b.dataKey===g||b.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),a.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var d=e.columns[c].wrappedWidth;if(u||i>=d)u=!1,o.push(c),a.push(e.columns[c]),i-=d;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function Uq(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Vq(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function gT(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,m){return g+m.height},0);a+=u}var c=new Yc(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(vT(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var d=Sa({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?Bq(c,e,d,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return Oa(c,e,g,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,m){var b=m===e.body.length-1;_g(c,e,g,b,d,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return Oa(c,e,g,s,e.columns)})),aT(c,e,d,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function Bq(t,e,n,r){var i=Uq(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Df(t,e,n,r,u.columns,!0):m3(t,e,r,u.columns),zq(t,e,n,r,u.columns),W1(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?Df(t,e,n,r,c,!0):m3(t,e,r,c),u=g3(t,e,o+1,r,c),W1(t,e,r,c)}var d=u-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Df(t,e,n,r,g.columns,!0),g3(t,e,o+1,r,g.columns,d),W1(t,e,r,g.columns)}),o=u};o<e.body.length-1;)l()}function m3(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Oa(t,e,s,n,r)})}function zq(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;_g(t,e,s,a,n,r,i)})}function g3(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,d=yT(t,e,c,r);l.canEntireRowFit(d,i)&&(Oa(t,e,l,r,i),a=n+u)}),a}function W1(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Oa(t,e,s,n,r)})}function qq(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function $q(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new pT(u.raw,u.styles,u.section);c=Sa(c,u),c.text=[];var d=qq(u,e,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var g=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,m),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var b=new dT(t.raw,-1,t.section,i,!0);b.height=s;for(var x=0,k=n.columns;x<k.length;x++){var l=k[x],c=b.cells[l.index];c&&(c.height=b.height);var u=t.cells[l.index];u&&(u.height=t.height)}return b}function Hq(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(c&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function _g(t,e,n,r,i,s,o){var a=yT(t,e,r,s);if(n.canEntireRowFit(a,o))Oa(t,e,n,s,o);else if(Hq(t,n,a,e)){var l=$q(n,a,e,t);Oa(t,e,n,s,o),Df(t,e,i,s,o),_g(t,e,l,r,i,s,o)}else Df(t,e,i,s,o),_g(t,e,n,r,i,s,o)}function Oa(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}Wq(t,l,r);var c=l.getTextPos();iT(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function Wq(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=lT(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Gq(t,e,n,r.lineWidth))}function Gq(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,c,d,g,m){t.getDocument().setLineWidth(u),t.getDocument().line(c,d,g,m,"S")}}function yT(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Df(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Oa(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;aT(t,e,n,r),vT(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Oa(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function vT(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Kq(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=fT(this,r),s=mT(this,i);return gT(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){iT(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Yc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Yc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Yc(this),s=hT(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var G1;function Yq(t,e){var n=fT(t,e),r=mT(t,n);gT(t,r)}try{if(typeof window<"u"&&window){var y3=window,v3=y3.jsPDF||((G1=y3.jspdf)===null||G1===void 0?void 0:G1.jsPDF);v3&&Kq(v3)}}catch(t){console.error("Could not apply autoTable plugin",t)}var Qq=Object.defineProperty,bg=Object.getOwnPropertySymbols,wT=Object.prototype.hasOwnProperty,_T=Object.prototype.propertyIsEnumerable,w3=(t,e,n)=>e in t?Qq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oy=(t,e)=>{for(var n in e||(e={}))wT.call(e,n)&&w3(t,n,e[n]);if(bg)for(var n of bg(e))_T.call(e,n)&&w3(t,n,e[n]);return t},Fy=(t,e)=>{var n={};for(var r in t)wT.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&bg)for(var r of bg(t))e.indexOf(r)<0&&_T.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Vu;(t=>{const e=class $t{constructor(l,u,c,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<$t.MIN_VERSION||l>$t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(c);if(this.drawCodewords(m),d==-1){let b=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const k=this.getPenaltyScore();k<b&&(d=x,b=k),this.applyMask(x)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const c=t.QrSegment.makeSegments(l);return $t.encodeSegments(c,u)}static encodeBinary(l,u){const c=t.QrSegment.makeBytes(l);return $t.encodeSegments([c],u)}static encodeSegments(l,u,c=1,d=40,g=-1,m=!0){if(!($t.MIN_VERSION<=c&&c<=d&&d<=$t.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,x;for(b=c;;b++){const I=$t.getNumDataCodewords(b,u)*8,O=o.getTotalBits(l,b);if(O<=I){x=O;break}if(b>=d)throw new RangeError("Data too long")}for(const I of[$t.Ecc.MEDIUM,$t.Ecc.QUARTILE,$t.Ecc.HIGH])m&&x<=$t.getNumDataCodewords(b,I)*8&&(u=I);let k=[];for(const I of l){n(I.mode.modeBits,4,k),n(I.numChars,I.mode.numCharCountBits(b),k);for(const O of I.getData())k.push(O)}i(k.length==x);const _=$t.getNumDataCodewords(b,u)*8;i(k.length<=_),n(0,Math.min(4,_-k.length),k),n(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let I=236;k.length<_;I^=253)n(I,8,k);let A=[];for(;A.length*8<k.length;)A.push(0);return k.forEach((I,O)=>A[O>>>3]|=I<<7-(O&7)),new $t(b,u,A,g)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(l[c],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;i(d>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(d,g));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(d,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(d,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(d,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),g=this.size-11+c%3,m=Math.floor(c/3);this.setFunctionModule(g,m,d),this.setFunctionModule(m,g,d)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const g=Math.max(Math.abs(d),Math.abs(c)),m=l+d,b=u+c;0<=m&&m<this.size&&0<=b&&b<this.size&&this.setFunctionModule(m,b,g!=2&&g!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=$t.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=$t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],g=$t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],m=Math.floor($t.getNumRawDataModules(u)/8),b=d-m%d,x=Math.floor(m/d);let k=[];const _=$t.reedSolomonComputeDivisor(g);for(let I=0,O=0;I<d;I++){let Q=l.slice(O,O+x-g+(I<b?0:1));O+=Q.length;const te=$t.reedSolomonComputeRemainder(Q,_);I<b&&Q.push(0),k.push(Q.concat(te))}let A=[];for(let I=0;I<k[0].length;I++)k.forEach((O,Q)=>{(I!=x-g||Q>=b)&&A.push(O[I])});return i(A.length==m),A}drawCodewords(l){if(l.length!=Math.floor($t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let g=0;g<2;g++){const m=c-g,x=(c+1&2)==0?this.size-1-d:d;!this.isFunction[x][m]&&u<l.length*8&&(this.modules[x][m]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(l){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let g=0;g<this.size;g++){let m=!1,b=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[g][k]==m?(b++,b==5?l+=$t.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),m||(l+=this.finderPenaltyCountPatterns(x)*$t.PENALTY_N3),m=this.modules[g][k],b=1);l+=this.finderPenaltyTerminateAndCount(m,b,x)*$t.PENALTY_N3}for(let g=0;g<this.size;g++){let m=!1,b=0,x=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][g]==m?(b++,b==5?l+=$t.PENALTY_N1:b>5&&l++):(this.finderPenaltyAddHistory(b,x),m||(l+=this.finderPenaltyCountPatterns(x)*$t.PENALTY_N3),m=this.modules[k][g],b=1);l+=this.finderPenaltyTerminateAndCount(m,b,x)*$t.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let m=0;m<this.size-1;m++){const b=this.modules[g][m];b==this.modules[g][m+1]&&b==this.modules[g+1][m]&&b==this.modules[g+1][m+1]&&(l+=$t.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((m,b)=>m+(b?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=d&&d<=9),l+=d*$t.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let d=this.size-7;c.length<l;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(l){if(l<$t.MIN_VERSION||l>$t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor($t.getNumRawDataModules(l)/8)-$t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*$t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<l;d++){for(let g=0;g<u.length;g++)u[g]=$t.reedSolomonMultiply(u[g],c),g+1<u.length&&(u[g]^=u[g+1]);c=$t.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(d=>0);for(const d of l){const g=d^c.shift();c.push(0),u.forEach((m,b)=>c[b]^=$t.reedSolomonMultiply(m,g))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(a>>>c&1)}function r(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const s=class sr{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new sr(sr.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!sr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const d=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+d),10),d*3+1,u),c+=d}return new sr(sr.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!sr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let d=sr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;d+=sr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(d,11,u)}return c<l.length&&n(sr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new sr(sr.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:sr.isNumeric(l)?[sr.makeNumeric(l)]:sr.isAlphanumeric(l)?[sr.makeAlphanumeric(l)]:[sr.makeBytes(sr.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new sr(sr.Mode.ECI,0,u)}static isNumeric(l){return sr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return sr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const d of l){const g=d.mode.numCharCountBits(u);if(d.numChars>=1<<g)return 1/0;c+=4+g+d.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(Vu||(Vu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Vu||(Vu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Vu||(Vu={}));var Pc=Vu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Xq={L:Pc.QrCode.Ecc.LOW,M:Pc.QrCode.Ecc.MEDIUM,Q:Pc.QrCode.Ecc.QUARTILE,H:Pc.QrCode.Ecc.HIGH},bT=128,xT="L",ST="#FFFFFF",ET="#000000",AT=!1,IT=1,Jq=4,Zq=0,e$=.1;function NT(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+e} ${i+e}h${a-s}v1H${s+e}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+e},${i+e} h1v1H${a+e}z`):n.push(`M${s+e},${i+e} h${a+1-s}v1H${s+e}z`);return}o&&s===null&&(s=a)})}),n.join("")}function TT(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function t$(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*e$),o=i/e,a=(r.width||s)*o,l=(r.height||s)*o,u=r.x==null?t.length/2-a/2:r.x*o,c=r.y==null?t.length/2-l/2:r.y*o,d=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let b=Math.floor(u),x=Math.floor(c),k=Math.ceil(a+u-b),_=Math.ceil(l+c-x);g={x:b,y:x,w:k,h:_}}const m=r.crossOrigin;return{x:u,y:c,h:l,w:a,excavation:g,opacity:d,crossOrigin:m}}function n$(t,e){return e!=null?Math.max(Math.floor(e),0):t?Jq:Zq}function CT({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:o,boostLevel:a}){let l=ar.useMemo(()=>{const b=(Array.isArray(t)?t:[t]).reduce((x,k)=>(x.push(...Pc.QrSegment.makeSegments(k)),x),[]);return Pc.QrCode.encodeSegments(b,Xq[e],n,void 0,void 0,a)},[t,e,n,a]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:g}=ar.useMemo(()=>{let m=l.getModules();const b=n$(r,i),x=m.length+b*2,k=t$(m,o,b,s);return{cells:m,margin:b,numCells:x,calculatedImageSettings:k}},[l,o,s,r,i]);return{qrcode:l,margin:c,cells:u,numCells:d,calculatedImageSettings:g}}var r$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),kT=ar.forwardRef(function(e,n){const r=e,{value:i,size:s=bT,level:o=xT,bgColor:a=ST,fgColor:l=ET,includeMargin:u=AT,minVersion:c=IT,boostLevel:d,marginSize:g,imageSettings:m}=r,x=Fy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=x,_=Fy(x,["style"]),A=m==null?void 0:m.src,I=ar.useRef(null),O=ar.useRef(null),Q=ar.useCallback(X=>{I.current=X,typeof n=="function"?n(X):n&&(n.current=X)},[n]),[te,j]=ar.useState(!1),{margin:C,cells:N,numCells:F,calculatedImageSettings:S}=CT({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:g,imageSettings:m,size:s});ar.useEffect(()=>{if(I.current!=null){const X=I.current,ue=X.getContext("2d");if(!ue)return;let ge=N;const ye=O.current,Z=S!=null&&ye!==null&&ye.complete&&ye.naturalHeight!==0&&ye.naturalWidth!==0;Z&&S.excavation!=null&&(ge=TT(N,S.excavation));const ce=window.devicePixelRatio||1;X.height=X.width=s*ce;const _e=s/F*ce;ue.scale(_e,_e),ue.fillStyle=a,ue.fillRect(0,0,F,F),ue.fillStyle=l,r$?ue.fill(new Path2D(NT(ge,C))):N.forEach(function(be,V){be.forEach(function(W,J){W&&ue.fillRect(J+C,V+C,1,1)})}),S&&(ue.globalAlpha=S.opacity),Z&&ue.drawImage(ye,S.x+C,S.y+C,S.w,S.h)}}),ar.useEffect(()=>{j(!1)},[A]);const P=Oy({height:s,width:s},k);let R=null;return A!=null&&(R=ar.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{j(!0)},ref:O,crossOrigin:S==null?void 0:S.crossOrigin})),ar.createElement(ar.Fragment,null,ar.createElement("canvas",Oy({style:P,height:s,width:s,ref:Q,role:"img"},_)),R)});kT.displayName="QRCodeCanvas";var i$=ar.forwardRef(function(e,n){const r=e,{value:i,size:s=bT,level:o=xT,bgColor:a=ST,fgColor:l=ET,includeMargin:u=AT,minVersion:c=IT,boostLevel:d,title:g,marginSize:m,imageSettings:b}=r,x=Fy(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:_,numCells:A,calculatedImageSettings:I}=CT({value:i,level:o,minVersion:c,boostLevel:d,includeMargin:u,marginSize:m,imageSettings:b,size:s});let O=_,Q=null;b!=null&&I!=null&&(I.excavation!=null&&(O=TT(_,I.excavation)),Q=ar.createElement("image",{href:b.src,height:I.h,width:I.w,x:I.x+k,y:I.y+k,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const te=NT(O,k);return ar.createElement("svg",Oy({height:s,width:s,viewBox:`0 0 ${A} ${A}`,ref:n,role:"img"},x),!!g&&ar.createElement("title",null,g),ar.createElement("path",{fill:a,d:`M0,0 h${A}v${A}H0z`,shapeRendering:"crispEdges"}),ar.createElement("path",{fill:l,d:te,shapeRendering:"crispEdges"}),Q)});i$.displayName="QRCodeSVG";const s$=()=>{const[t,e]=se.useState(null),[n,r]=se.useState(!1),[i,s]=se.useState(!1);se.useEffect(()=>{const l=window.matchMedia("(display-mode: standalone)");s(l.matches);const u=d=>{d.preventDefault(),e(d),r(!0)},c=()=>{r(!1),e(null)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",c),l.addEventListener("change",d=>{s(d.matches)}),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",c),l.removeEventListener("change",d=>{s(d.matches)})}},[]);const o=async()=>{if(!t)return;t.prompt();const{outcome:l}=await t.userChoice;l==="accepted"&&(e(null),r(!1))},a=()=>{r(!1)};return!n||i||!t?null:L.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg shadow-lg p-4 flex items-center justify-between gap-4 z-40 max-w-md mx-auto animate-slide-up",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(P8,{className:"w-5 h-5 flex-shrink-0"}),L.jsxs("div",{children:[L.jsx("p",{className:"font-semibold text-sm",children:"Instalar App"}),L.jsx("p",{className:"text-xs opacity-90",children:" SpeedCabs Zapotln"})]})]}),L.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[L.jsx("button",{onClick:o,className:"bg-white text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-lg font-semibold text-sm transition duration-200",children:"Instalar"}),L.jsx("button",{onClick:a,className:"text-white hover:bg-blue-700 p-2 rounded-lg transition duration-200",children:L.jsx(z8,{className:"w-5 h-5"})})]}),L.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})},Sn={baseFare:50,baseFareEspecial:60,waitingRate:3,distanceRates:[{min:0,max:3.99,price:50},{min:4,max:4.99,price:55},{min:5,max:5.99,price:60},{min:6,max:6.99,price:65},{min:7,max:7.99,price:70},{min:8,max:1/0,basePrice:80,extraRate:16}],paradaRapida:20,paradaServicio:50},nf=[{id:"normal",name:"Viaje Normal",description:"Tarifa por distancia recorrida"},{id:"walmart",name:"Ruta Walmart",description:"Centro  Walmart Guzmn",distanceKm:5.2,fixedPrice:60},{id:"tecnologico",name:"Ruta Tecnolgico",description:"Centro  Tec. Guzmn",distanceKm:5.9,fixedPrice:70},{id:"cristoRey",name:"Ruta Cristo Rey",description:"Centro  Cerro Cristo Rey",subTrips:[{id:"cristoRey-cano",name:"Cao",fixedPrice:60},{id:"cristoRey-mitad",name:"Mitad",fixedPrice:70},{id:"cristoRey-arriba",name:"Arriba",fixedPrice:80}]},{id:"colmena",name:"La Colmena",description:"Precio base $120",fixedPrice:120}],o$=(t,e)=>{const r=6356752314245e-6,i=1/298.257223563,s=t.latitude*Math.PI/180,o=e.latitude*Math.PI/180,l=(e.longitude-t.longitude)*Math.PI/180,u=Math.atan((1-i)*Math.tan(s)),c=Math.atan((1-i)*Math.tan(o)),d=Math.sin(u),g=Math.cos(u),m=Math.sin(c),b=Math.cos(c);let x=l,k,_=100,A,I,O,Q,te;do{const R=Math.sin(x),X=Math.cos(x);if(I=Math.sqrt(b*R*(b*R)+(g*m-d*b*X)*(g*m-d*b*X)),I===0)return 0;Q=d*m+g*b*X,te=Math.atan2(I,Q);const ue=g*b*R/I;A=1-ue*ue,O=Q-2*d*m/A,isNaN(O)&&(O=0);const ge=i/16*A*(4+i*(4-3*A));k=x,x=l+(1-ge)*i*ue*(te+ge*I*(O+ge*Q*(-1+2*O*O)))}while(Math.abs(x-k)>1e-12&&--_>0);if(_===0){const X=(e.latitude-t.latitude)*Math.PI/180,ue=(e.longitude-t.longitude)*Math.PI/180,ge=Math.sin(X/2)*Math.sin(X/2)+Math.cos(t.latitude*Math.PI/180)*Math.cos(e.latitude*Math.PI/180)*Math.sin(ue/2)*Math.sin(ue/2);return 6371e3*(2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge)))}const j=A*(6378137*6378137-r*r)/(r*r),C=1+j/16384*(4096+j*(-768+j*(320-175*j))),N=j/1024*(256+j*(-128+j*(74-47*j))),F=N*I*(O+N/4*(Q*(-1+2*O*O)-N/6*O*(-3+4*I*I)*(-3+4*O*O)));return r*C*(te-F)*1.15};function a$({isAdmin:t=!1}){const[e,n]=se.useState({distance:0,cost:Sn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1,rawDistance:0}),[r,i]=se.useState(null),[s,o]=se.useState(null),[a,l]=se.useState("requesting"),[u,c]=se.useState(nf[0]),[d,g]=se.useState(null);se.useState(!1),se.useState(!1);const[m,b]=se.useState(!1),[x,k]=se.useState(null),[_,A]=se.useState(!1);se.useState(""),se.useState(!1);const[I,O]=se.useState(0),[Q,te]=se.useState(!1),[j,C]=se.useState(!1),[N,F]=se.useState(!1),[S,P]=se.useState({active:!1,withCage:null,cost:0}),[R,X]=se.useState(!1),[ue,ge]=se.useState({active:!1,type:"recoger",cost:0});se.useState(!1);const[ye,Z]=se.useState(0),[ce,_e]=se.useState(0),[be,V]=se.useState(!1),[W,J]=se.useState({active:!1,ninos:0,adultos:0,cost:0}),[ne,ie]=se.useState(!1),[ae,ve]=se.useState(!1),[we,Ie]=se.useState(null),[De,ze]=se.useState(!1),Ve=se.useRef(null),[ot,H]=se.useState(!1),[Ue,St]=se.useState(!1),[at,Ne]=se.useState(0),[He,qe]=se.useState(!1),[dt,rt]=se.useState(!1),[Xt,Ct]=se.useState(""),[xt,Dt]=se.useState([]),[Vt,et]=se.useState([]),[kt,We]=se.useState(!1),[kn,Ft]=se.useState(!1),[Je,Rt]=se.useState(null),[en,tt]=se.useState(!1),[sn,ht]=se.useState(!1),[mt,on]=se.useState(!1),[Ke,ut]=se.useState("normal"),qt=se.useRef(!1),er=se.useRef(null),Un=se.useRef(null),oi=se.useRef(null),Ar=xe=>{if(d&&xe.id==="cristoRey")return d.fixedPrice;const Le=Ke==="especial"?Sn.baseFareEspecial:Sn.baseFare;return xe.fixedPrice||Le},gt=(xe,Le=!1)=>{_e(lt=>lt+1),Z(lt=>lt+xe),Le&&(n(lt=>({...lt,distance:0,rawDistance:0})),er.current=null),ie(!1)},Kn=se.useCallback((xe,Le,lt=!1,wt=ye)=>{const It=S.active?S.cost:0,Et=W.active?W.cost:0;if(lt&&we)return wt+70+Le*Sn.waitingRate+It+Et;if(u.id==="colmena"){let cn=120;if(xe>4.9){const tr=xe-4.9;cn=120+Math.ceil(tr)*10}return wt+cn+Le*Sn.waitingRate+It+Et}const un=(u.id!=="normal"||lt&&!we)&&xe>=3.7?5:0;let mn;if(ue.active)mn=ue.cost;else if(u.id==="cristoRey"&&d)mn=d.fixedPrice;else{const cn=Ke==="especial"?Sn.baseFareEspecial:Sn.baseFare;mn=u.fixedPrice||cn}let Oe=mn;if(u.id!=="normal"){if(xe>5){const cn=xe-5;Oe+=cn*10}}else for(const cn of Sn.distanceRates)if(xe>=cn.min&&xe<=cn.max){if(cn.extraRate&&xe>8){const tr=xe-8;Oe=cn.basePrice-Sn.baseFare+mn+tr*cn.extraRate}else{const tr=cn.price-Sn.baseFare;Oe=mn+tr}break}return wt+Oe+Le*Sn.waitingRate+It+Et+un},[u,d,S,ue,W,ye,we,Ke]),$r=xe=>{const Le=Math.floor(xe/60),lt=xe%60;return`${Le}:${lt.toString().padStart(2,"0")}`},Hr=se.useCallback(xe=>{if(i(xe),l("available"),qt.current&&!e.isPaused)if(er.current){const Le=o$(er.current,xe);if(Le>15){const wt=Le/1e3;n(It=>{const Et=It.rawDistance+wt,mn=Math.floor(Et)*.125,Oe=Math.max(0,Et-mn),cn=Math.floor(It.waitingTime/60);return{...It,rawDistance:Et,distance:Oe,cost:Kn(Oe,cn,ae)}}),er.current=xe}}else er.current=xe},[Kn,e.isPaused,ae]);se.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(xe=>{const Le={latitude:xe.coords.latitude,longitude:xe.coords.longitude,timestamp:Date.now()};i(Le),er.current=Le,l("available")},xe=>{xe.code===xe.PERMISSION_DENIED?l("denied"):l("unavailable")},{enableHighAccuracy:!0}):l("unavailable")},[]);const Wr=()=>{Un.current=Date.now(),oi.current=setInterval(()=>{if(Un.current){const xe=Math.floor((Date.now()-Un.current)/1e3),Le=I+xe;n(lt=>({...lt,waitingTime:Le}))}},1e3)},pn=()=>{if(oi.current&&(clearInterval(oi.current),oi.current=null),Un.current){const xe=Math.floor((Date.now()-Un.current)/1e3);O(Le=>Le+xe)}Un.current=null},Pn=()=>{if(r){qt.current=!0,er.current=null,O(0),n(Le=>({...Le,distance:0,rawDistance:0,waitingTime:0,isRunning:!0,isPaused:!1}));const xe=navigator.geolocation.watchPosition(Le=>{const lt={latitude:Le.coords.latitude,longitude:Le.coords.longitude,timestamp:Date.now()};Hr(lt)},Le=>console.error("GPS Error:",Le),{enableHighAccuracy:!0,maximumAge:500,timeout:1e4});o(xe)}},ur=()=>{n(xe=>{const Le=!xe.isPaused;return Le?Wr():pn(),{...xe,isPaused:Le}})},Dr=()=>{s&&(navigator.geolocation.clearWatch(s),o(null)),pn();const xe={tripType:u.name,distance:e.distance,waitingTime:e.waitingTime,cost:e.cost,timestamp:new Date().toLocaleString(),isSorianaActive:ae,petConfig:{...S},servicioEspecialConfig:{...ue},personasExtrasConfig:{...W},numeroParadas:ce,costoParadas:ye};k(xe),b(!0),qt.current=!1,O(0);const Le=nf[0];c(Le),g(null),n({distance:0,rawDistance:0,cost:Ke==="especial"?Sn.baseFareEspecial:Sn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1}),C(!1),P({active:!1,withCage:null,cost:0}),ge({active:!1,type:null,cost:0}),J({active:!1,ninos:0,adultos:0,cost:0}),ve(!1),Ie(null),Z(0),_e(0),ut("normal"),er.current=r},ns=()=>{De?(Ve.current&&(clearInterval(Ve.current),Ve.current=null),ze(!1)):(ze(!0),Ve.current=setInterval(()=>{n(xe=>{const Le=xe.distance+.1,lt=Math.floor(xe.waitingTime/60);return{...xe,distance:Le,rawDistance:Le,cost:Kn(Le,lt,ae)}})},1e3))};se.useEffect(()=>()=>{Ve.current&&clearInterval(Ve.current)},[]),se.useEffect(()=>{if(!e.isRunning){const xe=Math.floor(e.waitingTime/60);n(Le=>({...Le,cost:Kn(Le.distance,xe,ae)}))}},[u,d,e.isRunning,Kn,ae,e.distance,e.waitingTime]),se.useEffect(()=>{if(e.isRunning){const xe=Math.floor(e.waitingTime/60);n(Le=>({...Le,cost:Kn(Le.distance,xe,ae)}))}},[Kn,e.waitingTime,e.isRunning,ae]),se.useEffect(()=>{if(W.active||e.isRunning||S.active||ue.active||ae||ye>0){const xe=Math.floor(e.waitingTime/60);n(Le=>({...Le,cost:Kn(Le.distance,xe,ae)}))}},[Kn,W,S,ue,ae,ye,e.isRunning,e.distance,e.waitingTime]),se.useEffect(()=>{const xe=Math.floor(e.waitingTime/60);n(Le=>({...Le,cost:Kn(Le.distance,xe,ae)}))},[Ke,Kn,ae,e.distance,e.waitingTime]),se.useEffect(()=>{(async()=>{try{const Le=Ki.currentUser;if(Le){const lt=vs(Vs,"gananciasDiarias",Le.uid),wt=await hg(lt);if(wt.exists()){const It=wt.data();Ne(It.Total||0)}}}catch(Le){console.error("Error al cargar ganancias del da:",Le)}})()},[]),se.useEffect(()=>{(async()=>{try{const Le=Ki.currentUser;if(Le){const lt=vs(Vs,"usuarios",Le.uid),wt=await hg(lt);if(wt.exists()){const It=wt.data();Rt({email:It.email||"",nombre:It.nombre||"",telefono:It.telefono||"",idZello:It.idZello||"",vehiculo:It.vehiculo||"",placas:It.placas||"",createdAt:It.createdAt||null})}}}catch(Le){console.error("Error al cargar datos del usuario:",Le)}})()},[]);const ai=async()=>{try{const xe=Ki.currentUser;if(!xe)return;const Le=[],lt=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],wt=new Date,It=[];for(let Et=0;Et<12;Et++){const un=new Date(wt.getFullYear(),wt.getMonth()-Et,1),mn=`${lt[un.getMonth()]}_${un.getFullYear()}`;Le.push(mn)}for(const Et of Le)try{const un=vs(Vs,"bitacora_ganancias",xe.uid),mn=hf(un,Et),Oe=um(mn);(await hm(Oe)).empty||It.push(Et)}catch(un){console.error(`Error checking month ${Et}:`,un)}et(It)}catch(xe){console.error("Error loading available months:",xe)}},li=async xe=>{try{const Le=Ki.currentUser;if(Le&&xe){const lt=vs(Vs,"bitacora_ganancias",Le.uid),wt=hf(lt,xe),It=um(wt,my("dia","asc")),Et=await hm(It),un=[];Et.forEach(mn=>{const Oe=mn.data();un.push({dia:Oe.dia,ganancia:Oe.ganancia||0})}),Dt(un)}}catch(Le){console.error("Error al cargar datos mensuales:",Le),Dt([])}},Gr=(xe,Le=200)=>new Promise(lt=>{document.createElement("canvas");const wt=document.createElement("div");wt.style.position="absolute",wt.style.left="-9999px",document.body.appendChild(wt);const It=document.createElement("div");wt.appendChild(It),Zp(async()=>{const{createRoot:Et}=await Promise.resolve().then(()=>qP);return{createRoot:Et}},void 0).then(({createRoot:Et})=>{Et(It).render(ar.createElement(kT,{value:xe,size:Le,level:"H",includeMargin:!0})),setTimeout(()=>{const mn=It.querySelector("canvas");if(mn){const Oe=mn.toDataURL("image/png");document.body.removeChild(wt),lt(Oe)}else document.body.removeChild(wt),lt("")},100)})}),ui=async()=>{try{on(!0);const xe=Ki.currentUser;if(!xe){alert("Usuario no autenticado"),on(!1);return}const Le=new Date,lt=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],wt=[],It=[];for(let Ut=1;Ut<=3;Ut++){const gn=new Date(Le.getFullYear(),Le.getMonth()-Ut,1),Fr=`${lt[gn.getMonth()]}_${gn.getFullYear()}`,Ti=`${lt[gn.getMonth()].charAt(0).toUpperCase()+lt[gn.getMonth()].slice(1)} ${gn.getFullYear()}`;wt.push(Fr),It.push(Ti)}const Et=[];for(let Ut=0;Ut<wt.length;Ut++){const gn=wt[Ut];try{const Fr=vs(Vs,"bitacora_ganancias",xe.uid),Ti=hf(Fr,gn),ss=um(Ti,my("dia","asc")),os=await hm(ss),qi=[];let ci=0;os.forEach(Xl=>{const _t=Xl.data();qi.push({dia:_t.dia,ganancia:_t.ganancia||0}),ci+=_t.ganancia||0});const[ja,Zs]=gn.split("_"),hi=`${ja.charAt(0).toUpperCase()+ja.slice(1)} de ${Zs}`;Et.push({month:hi,days:qi,total:ci,hasData:!os.empty})}catch(Fr){console.error(`Error al cargar datos de ${gn}:`,Fr);const[Ti,ss]=gn.split("_"),os=`${Ti.charAt(0).toUpperCase()+Ti.slice(1)} de ${ss}`;Et.push({month:os,days:[],total:0,hasData:!1})}}const un=Et.filter(Ut=>Ut.hasData),mn=un.map(Ut=>Ut.month).join(", ");if(un.length<3){on(!1),ht(!1),tt(!1),alert(`No es posible generar la constancia: se requieren al menos 3 meses completos de historial.

Meses detectados: ${mn||"Ninguno"}`);return}const Oe=new ft,cn=Oe.internal.pageSize.getHeight(),tr=Oe.internal.pageSize.getWidth();let yt=20;const nr=new Date,Js="Ciudad Guzmn, Jalisco",So=nr.toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"});Oe.setTextColor(0,0,0),Oe.setFontSize(11),Oe.text(`${Js} a ${So}`,20,yt),yt+=15,Oe.setFontSize(11),Oe.setFont(void 0,"bold"),Oe.text("PRESENTE",20,yt),yt+=15,Oe.setFont(void 0,"normal"),Oe.setFontSize(10);const Mr=Oe.splitTextToSize("SpeedCabsZapotlan S.A.S de C.V., a travs de su Director General, Ernesto Ruiz Angeles, hace constar lo siguiente:",tr-40);Oe.text(Mr,20,yt),yt+=Mr.length*5+10;const Kr=(Je==null?void 0:Je.nombre)||"N/A",xn=(Je==null?void 0:Je.vehiculo)||"N/A",Ts=(Je==null?void 0:Je.placas)||"N/A";let Or="N/A";if(Je!=null&&Je.createdAt)try{Or=(Je.createdAt.toDate?Je.createdAt.toDate():new Date(Je.createdAt)).toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"})}catch{Or="N/A"}const tn=`${Kr}, con vehculo ${xn}, placas ${Ts}, trabaja actualmente en esta compaa utilizando uno de nuestros sistemas. ${Kr} ha prestado sus servicios a esta empresa desde ${Or}.`,Cs=Oe.splitTextToSize(tn,tr-40);Oe.text(Cs,20,yt),yt+=Cs.length*5+10;const cr=Et.reduce((Ut,gn)=>Ut+gn.total,0),En=cr/3;Oe.setFont(void 0,"bold"),Oe.setFontSize(11),Oe.text("RESUMEN DE INGRESOS NETOS",20,yt),yt+=10,Oe.setFont(void 0,"normal"),Oe.setFontSize(10),Et.forEach(Ut=>{const gn=Ut.month.charAt(0).toUpperCase()+Ut.month.slice(1);Oe.text(`- ${gn}: $${Ut.total.toFixed(2)} MXN`,30,yt),yt+=7}),yt+=5,Oe.setFont(void 0,"bold");const is=`Ingreso Promedio Mensual: $${En.toFixed(2)} MXN`;Oe.text(is,20,yt),yt+=7;const na=`Total 3 Meses: $${cr.toFixed(2)} MXN`;Oe.text(na,20,yt),yt+=15,Oe.setFont(void 0,"normal"),Oe.text("Se extiende la presente constancia para los fines que al interesado convengan.",20,yt),yt+=20,Oe.text("Atentamente,",20,yt),yt+=30,Oe.setLineWidth(.5),Oe.line(20,yt,100,yt),yt+=7,Oe.setFont(void 0,"bold"),Oe.text("Ernesto Ruiz Angeles",20,yt),yt+=5,Oe.setFont(void 0,"normal"),Oe.text("Director General",20,yt),yt+=5,Oe.text("SpeedCabsZapotlan S.A.S de C.V.",20,yt);const Ql=`${window.location.origin}/validar/${xe.uid}`,Ni=await Gr(Ql,200);if(Ni){const gn=tr-40-20,Fr=yt-50;Oe.addImage(Ni,"PNG",gn,Fr,40,40),Oe.setFontSize(8),Oe.setTextColor(100,100,100),Oe.text("Escanea para validar",gn+40/2,Fr+40+5,{align:"center"}),Oe.setTextColor(0,0,0)}const ra=()=>{const Ut=cn-15;Oe.setFontSize(8),Oe.setTextColor(100,100,100),Oe.setFont(void 0,"normal"),Oe.text("SpeedCabsZapotlan S.A.S de C.V. - Sistema de Gestin de Viajes",tr/2,Ut,{align:"center"}),Oe.setTextColor(0,0,0)};Oe.addPage(),yt=20,Oe.setFont(void 0,"bold"),Oe.setFontSize(12),Oe.text("DETALLE DE GANANCIAS POR MES Y DA",20,yt),yt+=15,Oe.setFont(void 0,"normal"),Oe.setFontSize(9),Et.forEach((Ut,gn)=>{yt>cn-40&&(ra(),Oe.addPage(),yt=20),Oe.setFont(void 0,"bold"),Oe.setFontSize(10);const Fr=Ut.month.charAt(0).toUpperCase()+Ut.month.slice(1);if(Oe.text(Fr,20,yt),yt+=8,Oe.setFont(void 0,"normal"),Oe.setFontSize(9),Ut.days.length>0){const Ti=Ut.days.map(ss=>[`${ss.dia}`,`$${ss.ganancia.toFixed(2)}`]);Yq(Oe,{head:[["Da","Ganancia (MXN)"]],body:Ti,startY:yt,styles:{fontSize:8},headStyles:{fillColor:[31,41,55],textColor:255},margin:{left:20,right:20}}),yt=Oe.lastAutoTable.finalY+10}Oe.setFont(void 0,"bold"),Oe.setFontSize(9),Oe.text(`Total ${Fr}: $${Ut.total.toFixed(2)} MXN`,20,yt),yt+=10}),ra();const ks=`Comprobante_Ingresos_${xe.uid}_${new Date().toISOString().split("T")[0]}.pdf`;Oe.save(ks),ht(!1),tt(!1),on(!1),alert("Comprobante de ingresos generado exitosamente")}catch(xe){console.error("Error al generar comprobante:",xe),alert("Error al generar el comprobante"),on(!1)}},Ir=(xe,Le)=>{J(lt=>{const wt=Math.max(0,lt[xe]+Le),It=xe==="adultos"?wt:lt.adultos,Et=xe==="ninos"?wt:lt.ninos,un=It*20+Et*10;return{active:It>0||Et>0,adultos:It,ninos:Et,cost:un}})},Ns=()=>e.isRunning?e.isPaused?"bg-yellow-400":"bg-green-500":a==="available"?"bg-blue-400":"bg-red-500",zi=()=>{if(e.isRunning)return e.isPaused?"EN PAUSA - ESPERANDO":"VIAJE EN CURSO";switch(a){case"available":return"GPS DISPONIBLE";case"requesting":return"BUSCANDO SEAL GPS...";case"denied":return"ACCESO GPS DENEGADO";case"unavailable":return"GPS NO DISPONIBLE";default:return"ESTADO DESCONOCIDO"}};return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 font-sans text-white",children:[L.jsx(s$,{}),L.jsxs("button",{onClick:()=>qe(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-green-600 hover:bg-green-500 text-white rounded-full shadow-lg flex items-center justify-center font-bold text-lg transition duration-200 z-40 border-2 border-green-400",children:["$",at.toFixed(0)]}),L.jsx("button",{onClick:()=>We(!0),className:"fixed bottom-24 right-6 w-16 h-16 bg-blue-700 hover:bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-blue-500",children:L.jsx(xp,{className:"w-8 h-8"})}),t&&L.jsx("button",{onClick:()=>St(!0),className:"fixed bottom-42 right-6 w-16 h-16 bg-gray-700 hover:bg-gray-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-red-500",title:"Panel de Administracin",children:L.jsx(sb,{className:"w-8 h-8"})}),L.jsxs("div",{className:"max-w-md mx-auto",children:[He&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-green-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ganancias del Da"}),L.jsx("button",{onClick:()=>qe(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsxs("div",{className:"bg-gray-700 border border-green-500/50 p-6 rounded-lg mb-6 text-center",children:[L.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Total Acumulado"}),L.jsxs("p",{className:"text-5xl font-extrabold text-green-400",children:["$",at.toFixed(0),L.jsx("span",{className:"text-lg text-gray-400 ml-2",children:"MXN"})]})]}),L.jsx("button",{onClick:async()=>{try{const xe=Ki.currentUser;if(xe&&at>0){const Le=new Date,wt=`${["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][Le.getMonth()]}_${Le.getFullYear()}`,It=vs(Vs,"bitacora_ganancias",xe.uid),Et=hf(It,wt);await aV(Et,{dia:Le.getDate(),fecha_cierre:fm(),ganancia:at});const un=vs(Vs,"gananciasDiarias",xe.uid);await fg(un,{Total:0})}Ne(0),qe(!1)}catch(xe){console.error("Error al guardar bitcora:",xe)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 rounded-xl transition duration-200 mb-2",children:"Terminar Da"}),L.jsx("button",{onClick:()=>qe(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),dt&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-2",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 w-full h-full shadow-2xl flex flex-col overflow-hidden",children:[L.jsxs("div",{className:"flex items-center justify-between mb-6",children:[L.jsx("h2",{className:"text-3xl font-bold text-white",children:"Ganancias Mensuales"}),L.jsx("button",{onClick:()=>{rt(!1),Ct(""),Dt([])},className:"text-gray-400 hover:text-white text-4xl",children:""})]}),L.jsxs("div",{className:"mb-6",children:[L.jsx("label",{className:"block text-gray-300 text-lg mb-2",children:"Selecciona el mes:"}),L.jsxs("select",{value:Xt,onChange:xe=>{Ct(xe.target.value),xe.target.value?li(xe.target.value):Dt([])},className:"w-full bg-gray-700 text-white p-4 rounded-lg border border-gray-600 text-lg",children:[L.jsx("option",{value:"",children:"-- Selecciona un mes --"}),Vt.map(xe=>L.jsx("option",{value:xe,children:xe.replace("_"," ").toUpperCase()},xe))]})]}),Xt&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"bg-gray-700 border border-blue-500/50 p-6 rounded-lg mb-6",children:[L.jsx("p",{className:"text-gray-300 text-xl mb-2 text-center",children:"Total del Mes"}),L.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 text-center",children:["$",xt.reduce((xe,Le)=>xe+Le.ganancia,0).toFixed(0),L.jsx("span",{className:"text-2xl text-gray-400 ml-2",children:"MXN"})]})]}),L.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 flex-1 overflow-hidden flex flex-col",children:[L.jsx("h3",{className:"text-white font-bold mb-4 text-center text-2xl",children:"Ganancias por Da"}),xt.length>0?L.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:L.jsx("div",{className:"grid grid-cols-3 gap-4",children:xt.map((xe,Le)=>L.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600 hover:border-blue-500 transition text-center",children:[L.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-2",children:L.jsx("span",{className:"text-white font-bold text-lg",children:xe.dia})}),L.jsxs("span",{className:"text-green-400 font-bold text-xl block",children:["$",xe.ganancia.toFixed(0)]})]},Le))})}):L.jsx("p",{className:"text-gray-400 text-center text-xs py-2",children:"No hay datos para este mes"})]})]}),L.jsx("button",{onClick:()=>{rt(!1),Ct(""),Dt([])},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 rounded-xl transition duration-200 mt-6 text-xl",children:"Cerrar"})]})}),kt&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(xp,{className:"w-6 h-6 text-blue-500 mr-2"}),L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel de Usuario"})]}),L.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Opciones de usuario"}),L.jsxs("div",{className:"space-y-3",children:[L.jsx("button",{onClick:()=>{We(!1),Ft(!0)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:L.jsxs("div",{className:"flex items-center justify-center",children:[L.jsx(xp,{className:"w-5 h-5 mr-2"}),"Ver Perfil"]})}),L.jsx("button",{onClick:async()=>{We(!1),await ai(),rt(!0)},className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:L.jsxs("div",{className:"flex items-center justify-center",children:[L.jsx(N8,{className:"w-5 h-5 mr-2"}),"Ganancias Mensuales"]})}),L.jsx("button",{onClick:()=>{We(!1),tt(!0)},className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:L.jsxs("div",{className:"flex items-center justify-center",children:[L.jsx(eb,{className:"w-5 h-5 mr-2"}),"Comprobante de Ingresos"]})}),L.jsx("button",{onClick:async()=>{try{await VM(Ki),We(!1)}catch(xe){console.error("Error al cerrar sesin:",xe)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:L.jsxs("div",{className:"flex items-center justify-center",children:[L.jsx(M8,{className:"w-5 h-5 mr-2"}),"Salir"]})})]}),L.jsx("button",{onClick:()=>We(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),en&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(eb,{className:"w-6 h-6 text-purple-500 mr-2"}),L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Comprobante de Ingresos"})]}),L.jsx("button",{onClick:()=>tt(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Se generar un comprobante de ingresos de los ltimos 3 meses"}),L.jsxs("div",{className:"space-y-3",children:[L.jsx("button",{onClick:()=>ht(!0),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Aceptar"}),L.jsx("button",{onClick:()=>tt(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cancelar"})]})]})}),sn&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Generando Comprobante"}),L.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Se descargar un documento PDF con tu comprobante de ingresos de los ltimos 3 meses"}),L.jsxs("div",{className:"space-y-3",children:[L.jsx("button",{onClick:ui,disabled:mt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${mt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:mt?"Generando...":"Confirmar y Descargar"}),L.jsx("button",{onClick:()=>{ht(!1),tt(!1)},disabled:mt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${mt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-500 text-white"}`,children:"Cancelar"})]})]})}),kn&&Je&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(xp,{className:"w-6 h-6 text-blue-500 mr-2"}),L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mi Perfil"})]}),L.jsx("button",{onClick:()=>Ft(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[L.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Nombre"}),L.jsx("p",{className:"text-white font-semibold text-lg",children:Je.nombre})]}),L.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[L.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Email"}),L.jsx("p",{className:"text-white font-semibold text-sm",children:Je.email})]}),L.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[L.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Telfono"}),L.jsx("p",{className:"text-white font-semibold text-lg",children:Je.telefono})]}),L.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[L.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"ID Zello"}),L.jsx("p",{className:"text-white font-semibold text-lg",children:Je.idZello})]})]}),L.jsx("button",{onClick:()=>Ft(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-6",children:"Cerrar"})]})}),Ue&&t&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-red-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(sb,{className:"w-6 h-6 text-red-500 mr-2"}),L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel Admin"})]}),L.jsx("button",{onClick:()=>St(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Funciones administrativas del sistema"}),L.jsxs("div",{className:"space-y-3",children:[L.jsx("button",{onClick:()=>{ns(),St(!1)},className:`w-full font-bold py-3 rounded-xl transition duration-200 text-sm ${De?"bg-green-600 hover:bg-green-500":"bg-yellow-600 hover:bg-yellow-500"} text-white`,children:L.jsxs("div",{className:"flex items-center justify-center",children:[L.jsx(q8,{className:"w-5 h-5 mr-2"}),De?"Detener Simulacin":"Iniciar Simulacin"]})}),L.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(T8,{className:"w-5 h-5 text-blue-400 mr-2"}),L.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Tipo de Ruta:"})]}),L.jsx("span",{className:"text-sm font-bold text-white",children:u.name})]})}),L.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(F8,{className:"w-5 h-5 text-blue-400 mr-2"}),L.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Zona Especial ($70)"})]}),L.jsx("button",{onClick:()=>ve(!ae),className:`px-4 py-1.5 rounded-full text-xs font-semibold transition ${ae?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:ae?"Activo":"Inactivo"})]})}),L.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver estadsticas generales"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Estadsticas"}),L.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver todos los viajes"),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Todos los Viajes"}),L.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Configuracin avanzada"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Configuracin Avanzada"})]}),L.jsx("button",{onClick:()=>St(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),ot&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsx("h2",{className:"text-2xl font-bold text-white",children:"Precios Forneos"}),L.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),L.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Consulta los precios para viajes forneos"}),L.jsx("a",{href:"https://precios.speedcabszapotlan.com",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg block text-center mb-3",children:"Abrir Precios Forneos"}),L.jsx("button",{onClick:()=>H(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),m&&x&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:L.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[L.jsxs("div",{className:"flex items-center justify-center mb-4",children:[L.jsx(tb,{className:"w-8 h-8 text-blue-400 mr-2"}),L.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Resumen del Viaje"})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("div",{className:"bg-gray-700 border border-gray-600 p-3 rounded-lg",children:L.jsx("div",{className:"text-center",children:L.jsx("span",{className:"text-blue-400 font-bold text-lg",children:x.tripType})})}),L.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[L.jsxs("div",{className:"flex justify-between items-center mb-2",children:[L.jsx("span",{className:"text-gray-300",children:"Distancia recorrida:"}),L.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[x.distance.toFixed(3)," km"]})]}),L.jsxs("div",{className:"flex justify-between items-center mb-2",children:[L.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),L.jsx("span",{className:"font-bold text-lg text-blue-400",children:$r(x.waitingTime)})]}),L.jsx("div",{className:"border-t border-gray-600 pt-3 mt-3",children:L.jsxs("div",{className:"space-y-2 mb-2",children:[(()=>{var Oe,cn,tr,yt;const Le=Math.floor(x.waitingTime/60)*Sn.waitingRate,lt=x.petConfig.active?x.petConfig.cost:0,wt=x.personasExtrasConfig.active?x.personasExtrasConfig.cost:0;if(x.isSorianaActive&&Math.abs(x.cost-(70+x.costoParadas+Le+lt+wt))<1)return L.jsxs(L.Fragment,{children:[x.numeroParadas>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[L.jsxs("span",{className:"text-blue-300",children:["Paradas (",x.numeroParadas,"):"]}),L.jsxs("span",{className:"text-white font-semibold",children:["$",x.costoParadas," MXN"]})]}),L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Zona especial (tarifa fija):"}),L.jsx("span",{className:"text-white font-semibold",children:"$70 MXN"})]}),Le>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",Le.toFixed(0)," MXN"]})]}),lt>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Mascota:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",lt," MXN"]})]}),wt>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",wt," MXN"]})]})]});let Et;x.servicioEspecialConfig.active?Et=x.servicioEspecialConfig.cost:x.tripType.includes("Cristo Rey")?Et=((tr=(cn=(Oe=nf.find(nr=>nr.name===x.tripType))==null?void 0:Oe.subTrips)==null?void 0:cn.find(nr=>nr.name===x.tripType))==null?void 0:tr.fixedPrice)||Sn.baseFare:Et=((yt=nf.find(nr=>nr.name===x.tripType))==null?void 0:yt.fixedPrice)||Sn.baseFare;let un=0;if(x.tripType.includes("Colmena"))x.distance>4.9&&x.distance-4.9;else if(x.tripType!=="Viaje Normal")x.distance>5&&x.distance-5;else for(const nr of Sn.distanceRates)if(x.distance>=nr.min&&x.distance<=nr.max){if(nr.extraRate&&x.distance>8){const Js=x.distance-8;nr.basePrice-Sn.baseFare+Et+Js*nr.extraRate}else nr.price-Sn.baseFare;break}(x.tripType!=="Viaje Normal"||x.isSorianaActive&&!x.costoParadas)&&x.distance>=3.7&&(un=5);const mn=x.cost-x.costoParadas-Le-lt-wt-un;return L.jsxs(L.Fragment,{children:[x.numeroParadas>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[L.jsxs("span",{className:"text-blue-300",children:["Paradas (",x.numeroParadas,"):"]}),L.jsxs("span",{className:"text-white font-semibold",children:["$",x.costoParadas," MXN"]})]}),L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Tarifa de ruta:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",mn.toFixed(2)," MXN"]})]}),Le>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",Le.toFixed(0)," MXN"]})]}),lt>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Mascota:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",lt," MXN"]})]}),wt>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",wt," MXN"]})]}),un>0&&L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"text-gray-300",children:"Cargo adicional (>3.7 km):"}),L.jsxs("span",{className:"text-white font-semibold",children:["$",un," MXN"]})]})]})})(),L.jsxs("div",{className:"flex justify-between items-center mt-3 border-t border-blue-500/50 pt-3",children:[L.jsx("span",{className:"text-xl text-white",children:"TOTAL:"}),L.jsxs("span",{className:"text-3xl font-extrabold text-blue-400",children:["$",x.cost.toFixed(0)]})]})]})})]}),L.jsx("button",{onClick:async()=>{const xe=at+x.cost;Ne(xe);try{const lt=Ki.currentUser;if(lt){const wt=vs(Vs,"gananciasDiarias",lt.uid);await fg(wt,{Total:xe})}}catch(lt){console.error("Error al guardar ganancias:",lt)}b(!1);const Le=nf[0];c(Le),g(null),n({distance:0,rawDistance:0,cost:Sn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1}),C(!1),P({active:!1,withCage:null,cost:0}),ge({active:!1,type:null,cost:0}),J({active:!1,ninos:0,adultos:0,cost:0}),ve(!1),Ie(null),Z(0),_e(0),ut("normal"),O(0)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg",children:"Cerrar"})]})]})}),L.jsxs("header",{className:"mb-6",children:[L.jsxs("h1",{className:"text-4xl font-extrabold text-white text-center mb-1 flex items-center justify-center",children:[L.jsx(I8,{className:"w-8 h-8 text-blue-400 mr-2"}),L.jsx(L8,{className:"w-8 h-8 text-blue-400 mr-2"}),"Recorrido GPS"]}),L.jsxs("div",{className:`text-center py-1.5 px-3 rounded-full text-sm font-semibold text-gray-900 ${Ns()}`,children:[L.jsx(O8,{className:"w-4 h-4 inline-block mr-1"}),zi()]}),L.jsx("div",{className:"mt-3 text-center",children:L.jsx("button",{onClick:()=>H(!0),className:"inline-block bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Foraneos"})})]}),L.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl mb-6 border border-gray-700",children:[L.jsxs("div",{className:"flex justify-between items-end mb-4",children:[L.jsxs("div",{className:"text-left",children:[L.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Distancia Recorrida"}),L.jsxs("p",{className:"text-4xl font-bold text-white leading-none",children:[e.distance.toFixed(3),L.jsx("span",{className:"text-lg font-normal text-gray-400 ml-1",children:"km"})]})]}),L.jsxs("div",{className:"text-right",children:[L.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Tiempo de Espera"}),L.jsx("p",{className:"text-2xl font-bold text-white leading-none",children:$r(e.waitingTime)})]})]}),L.jsxs("div",{className:"text-center bg-black/50 p-3 rounded-xl border border-blue-500/50",children:[L.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase block",children:"Tarifa Total"}),L.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 mt-1",children:["$",Math.ceil(e.cost).toFixed(0),L.jsx("span",{className:"text-xl font-normal text-gray-400 ml-1",children:"MXN"})]}),L.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(Tarifa Base: $",Ar(u).toFixed(2),")"]})]})]}),L.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:e.isRunning?L.jsxs(L.Fragment,{children:[L.jsxs("button",{onClick:ur,className:`flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${e.isPaused?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:[e.isPaused?L.jsx(rb,{className:"w-6 h-6 text-white"}):L.jsx(j8,{className:"w-6 h-6 text-white"}),L.jsx("span",{className:"text-xs mt-1 font-bold text-white",children:e.isPaused?"Reanudar":"Pausar"})]}),L.jsxs("button",{onClick:Dr,className:"col-span-2 flex flex-col items-center justify-center p-3 rounded-xl bg-red-600 hover:bg-red-500 text-white shadow-lg transition duration-200",children:[L.jsx(U8,{className:"w-6 h-6"}),L.jsx("span",{className:"text-xs mt-1 font-bold",children:"Finalizar"})]})]}):L.jsx(L.Fragment,{children:L.jsxs("button",{onClick:Pn,className:`col-span-3 flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${a==="available"?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"}`,disabled:a!=="available",children:[L.jsx(rb,{className:"w-8 h-8"}),L.jsx("span",{className:"text-md mt-1 font-bold",children:"INICIAR VIAJE"})]})})}),e.isRunning&&L.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700 relative",children:[L.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[L.jsx(tb,{className:"w-5 h-5 text-blue-400 mr-2"}),"Paradas"]}),L.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[L.jsx("span",{className:"text-gray-300",children:"Nmero de paradas:"}),L.jsx("span",{className:"font-bold text-white",children:ce})]}),L.jsxs("div",{className:"flex justify-between items-center text-sm mb-4",children:[L.jsx("span",{className:"text-gray-300",children:"Costo acumulado:"}),L.jsxs("span",{className:"font-bold text-blue-400",children:["$",ye.toFixed(0)," MXN"]})]}),L.jsx("button",{onClick:()=>ie(!0),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-xl transition duration-200",disabled:ne,children:"Aadir Parada"}),ne&&L.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4 rounded-xl z-10",children:L.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg w-full max-w-xs shadow-2xl border border-blue-500/50",children:[L.jsx("h4",{className:"text-lg font-bold text-white mb-3 text-center",children:"Tipo de Parada:"}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("button",{onClick:()=>gt(Sn.paradaRapida),className:"w-full flex items-center justify-between p-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold transition duration-150",children:[L.jsx(R8,{className:"w-5 h-5"}),L.jsx("span",{className:"text-sm",children:"Parada Rpida"}),L.jsxs("span",{className:"text-lg font-extrabold",children:["+$",Sn.paradaRapida]})]}),L.jsxs("button",{onClick:()=>gt(Sn.paradaServicio,!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-yellow-600 hover:bg-yellow-500 text-white font-bold transition duration-150",children:[L.jsx(V8,{className:"w-5 h-5"}),L.jsx("span",{className:"text-sm",children:"Parada con Servicio"}),L.jsxs("span",{className:"text-lg font-extrabold",children:["+$",Sn.paradaServicio]})]})]}),L.jsx("button",{onClick:()=>ie(!1),className:"w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white text-sm py-2 rounded-lg",children:"Cancelar"})]})})]}),L.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[L.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>te(xe=>!xe),children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(k8,{className:"w-5 h-5 text-blue-400 mr-2"}),L.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Servicios Adicionales"})]}),Q?L.jsx(Z_,{className:"w-5 h-5 text-white"}):L.jsx(J_,{className:"w-5 h-5 text-white"})]}),Q&&L.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("div",{className:"flex items-center",children:L.jsx("span",{className:"text-sm text-white",children:"Mascota"})}),L.jsx("button",{onClick:()=>F(xe=>!xe),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${S.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:S.active?"Activo":"Aadir"})]}),N&&L.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-xs text-gray-300",children:"Con jaula/transportadora?"}),L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>{P({active:!0,withCage:!0,cost:20}),F(!1)},className:`px-3 py-1 text-xs rounded-full ${S.withCage===!0?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"S ($20)"}),L.jsx("button",{onClick:()=>{P({active:!0,withCage:!1,cost:30}),F(!1)},className:`px-3 py-1 text-xs rounded-full ${S.withCage===!1?"bg-red-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"No ($30)"})]})]}),L.jsx("button",{onClick:()=>{P({active:!1,withCage:null,cost:0}),F(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("div",{className:"flex items-center",children:L.jsx("span",{className:"text-sm text-white",children:"Servicio Especial"})}),L.jsx("button",{onClick:()=>X(xe=>!xe),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ue.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:ue.active?"Activo":"Aadir"})]}),R&&L.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-xs text-gray-300",children:"Selecciona tipo de servicio:"}),L.jsxs("div",{className:"flex space-x-2",children:[L.jsx("button",{onClick:()=>{ge({active:!0,type:"recoger",cost:60}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ue.type==="recoger"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Recoger ($60)"}),L.jsx("button",{onClick:()=>{ge({active:!0,type:"comprar",cost:70}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ue.type==="comprar"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Comprar ($70)"})]})]}),L.jsx("button",{onClick:()=>{ge({active:!1,type:null,cost:0}),X(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("div",{className:"flex items-center",children:L.jsx("span",{className:"text-sm text-white",children:"Pasajeros Adicionales"})}),L.jsx("button",{onClick:()=>V(xe=>!xe),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${W.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:W.active?"Activo":"Aadir"})]}),be&&L.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-xs text-gray-300",children:"Adultos ($20 c/u):"}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>Ir("adultos",-1),className:`p-1 rounded-full transition ${W.adultos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.adultos===0||e.isRunning,children:L.jsx(nb,{className:"w-4 h-4 text-white"})}),L.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.adultos}),L.jsx("button",{onClick:()=>Ir("adultos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:L.jsx(ib,{className:"w-4 h-4 text-white"})})]})]}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-xs text-gray-300",children:"Nios ($10 c/u):"}),L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("button",{onClick:()=>Ir("ninos",-1),className:`p-1 rounded-full transition ${W.ninos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.ninos===0||e.isRunning,children:L.jsx(nb,{className:"w-4 h-4 text-white"})}),L.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.ninos}),L.jsx("button",{onClick:()=>Ir("ninos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:L.jsx(ib,{className:"w-4 h-4 text-white"})})]})]}),L.jsxs("p",{className:"text-right text-sm font-bold text-blue-400",children:["Costo adicional: $",W.cost," MXN"]}),L.jsx("button",{onClick:()=>V(!1),className:"w-full bg-blue-700 text-white text-xs py-1 rounded",children:"Guardar"})]})]})]}),L.jsx("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Tipo de Tarifa"}),L.jsxs("div",{className:"flex gap-4",children:[L.jsxs("label",{className:"flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:Ke==="normal",onChange:()=>ut("normal"),disabled:e.isRunning,className:"mr-2 w-4 h-4"}),L.jsx("span",{className:`text-sm ${Ke==="normal"?"text-green-400 font-bold":"text-gray-400"}`,children:"Normal ($50)"})]}),L.jsxs("label",{className:"flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:Ke==="especial",onChange:()=>ut("especial"),disabled:e.isRunning,className:"mr-2 w-4 h-4"}),L.jsx("span",{className:`text-sm ${Ke==="especial"?"text-blue-400 font-bold":"text-gray-400"}`,children:"Especial ($60)"})]})]})]})}),L.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[L.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>A(xe=>!xe),children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(D8,{className:"w-5 h-5 text-gray-400 mr-2"}),L.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Informacin de Tarifas"})]}),_?L.jsx(Z_,{className:"w-5 h-5 text-white"}):L.jsx(J_,{className:"w-5 h-5 text-white"})]}),_&&L.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3 text-sm text-gray-300",children:[L.jsxs("p",{className:"font-bold text-white",children:["Tarifa Base: $",Ke==="especial"?Sn.baseFareEspecial:Sn.baseFare," MXN (",Ke==="especial"?"Especial":"Normal",")"]}),L.jsxs("p",{className:"font-bold text-white",children:["Costo por Tiempo de Espera: $",Sn.waitingRate," MXN/min"]}),L.jsx("h4",{className:"font-bold text-blue-400 mt-3",children:"Tarifas por Distancia (Viaje Normal):"}),L.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:Sn.distanceRates.map((xe,Le)=>L.jsx("li",{children:xe.max===1/0?`> ${xe.min.toFixed(2)} km: Base $${xe.basePrice} + $${xe.extraRate}/km extra`:`${xe.min.toFixed(2)} - ${xe.max.toFixed(2)} km: $${xe.price} MXN`},Le))})]})]}),L.jsxs("footer",{className:"mt-6 text-center text-xs text-gray-500",children:[r&&L.jsxs("p",{children:["GPS: Lat ",r.latitude.toFixed(6),", Lon ",r.longitude.toFixed(6)]}),e.isRunning&&L.jsxs("p",{children:["Distancia Cruda: ",e.rawDistance.toFixed(3)," km"]})]})]})]})}const l$=({children:t})=>{const[e,n]=se.useState(null),[r,i]=se.useState(!0),[s,o]=se.useState(!1),[a,l]=se.useState({email:"",idZello:"",nombre:"",telefono:""}),[u,c]=se.useState(!1);se.useEffect(()=>{const b=jM(Ki,x=>{(async()=>x?await d(x):(n(null),i(!1)))()});return()=>b()},[]);const d=async b=>{try{const x=vs(Vs,"usuarios",b.uid);(await hg(x)).exists()?(await fg(x,{ultimaConexion:fm()},{merge:!0}),n(b),i(!1)):(l({email:b.email||"",idZello:"",nombre:b.displayName||"",telefono:""}),o(!0),i(!1))}catch(x){console.error("Error al verificar usuario:",x),n(b),i(!1)}},g=async b=>{if(b.preventDefault(),!!Ki.currentUser){c(!0);try{const x=vs(Vs,"usuarios",Ki.currentUser.uid);await fg(x,{uid:Ki.currentUser.uid,email:a.email,idZello:a.idZello,nombre:a.nombre,telefono:a.telefono,createdAt:fm(),ultimaConexion:fm()}),n(Ki.currentUser),o(!1)}catch(x){console.error("Error al registrar usuario:",x),alert("Error al registrar los datos. Por favor, intenta de nuevo.")}finally{c(!1)}}},m=async()=>{try{await sO(Ki,cV)}catch(b){console.error("Error al iniciar sesin:",b)}};return r?L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:L.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):s?L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[L.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-4",children:"Registro de Usuario"}),L.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Completa tus datos para continuar"}),L.jsxs("form",{onSubmit:g,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),L.jsx("input",{type:"email",value:a.email,onChange:b=>l({...a,email:b.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"ID Zello"}),L.jsx("input",{type:"text",value:a.idZello,onChange:b=>l({...a,idZello:b.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Tu ID de Zello"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Nombre"}),L.jsx("input",{type:"text",value:a.nombre,onChange:b=>l({...a,nombre:b.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nombre completo"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Telfono"}),L.jsx("input",{type:"tel",value:a.telefono,onChange:b=>l({...a,telefono:b.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nmero de telfono"})]}),L.jsx("button",{type:"submit",disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:u?"Registrando...":"Completar Registro"}),L.jsx("button",{type:"button",onClick:()=>o(!1),disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Cancelar"})]})]})}):e?L.jsx("div",{className:"relative",children:ar.isValidElement(t)&&typeof t.type!="string"?ar.cloneElement(t,{isAdmin:(e==null?void 0:e.email)==="trabajoonline88@gmail.com"}):t}):L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[L.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-6",children:"Recorrido GPS"}),L.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Inicia sesin para continuar"}),L.jsxs("button",{onClick:m,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 flex items-center justify-center gap-3",children:[L.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[L.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),L.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),L.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),L.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Iniciar sesin con Google"]})]})})},u$=()=>{const{id:t}=NR(),[e,n]=se.useState(!0),[r,i]=se.useState(null),[s,o]=se.useState(0),[a,l]=se.useState([]),[u,c]=se.useState("");return se.useEffect(()=>{(async()=>{if(!t){c("ID de conductor no proporcionado"),n(!1);return}try{const g=vs(Vs,"usuarios",t),m=await hg(g);if(!m.exists()){c("Conductor no encontrado"),n(!1);return}const b=m.data();i({nombre:b.nombre||"N/A",telefono:b.telefono||"N/A"});const x=new Date,k=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],_=[],A=[];for(let Q=1;Q<=3;Q++){const te=new Date(x.getFullYear(),x.getMonth()-Q,1),j=`${k[te.getMonth()]}_${te.getFullYear()}`,C=`${k[te.getMonth()].charAt(0).toUpperCase()+k[te.getMonth()].slice(1)} ${te.getFullYear()}`;_.push(j),A.push(C)}l(A);let I=0,O=0;for(const Q of _)try{const te=vs(Vs,"bitacora_ganancias",t),j=hf(te,Q),C=um(j,my("dia","asc")),N=await hm(C);N.empty||(N.forEach(F=>{const S=F.data();I+=S.ganancia||0}),O++)}catch(te){console.error(`Error al cargar datos de ${Q}:`,te)}O>0&&o(I/3),n(!1)}catch(g){console.error("Error al validar comprobante:",g),c("Error al cargar los datos"),n(!1)}})()},[t]),e?L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:L.jsx("div",{className:"text-white text-xl",children:"Cargando datos de validacin..."})}):u||!r?L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-red-500 max-w-md w-full",children:[L.jsx("div",{className:"flex items-center justify-center mb-4",children:L.jsx(B8,{className:"w-16 h-16 text-red-500"})}),L.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-4",children:"Comprobante No Vlido"}),L.jsx("p",{className:"text-gray-300 text-center mb-4",children:u}),L.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Por favor, verifica que el cdigo QR sea vlido y pertenezca a un comprobante oficial de SpeedCabsZapotlan S.A.S de C.V."})]})}):L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-green-500 max-w-2xl w-full",children:[L.jsx("div",{className:"flex items-center justify-center mb-6",children:L.jsx(C8,{className:"w-20 h-20 text-green-500"})}),L.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:"Comprobante Vlido"}),L.jsx("p",{className:"text-green-400 text-center mb-8 text-lg font-semibold",children:" Verificado Oficialmente"}),L.jsxs("div",{className:"bg-gray-700 p-6 rounded-xl mb-6 border border-gray-600",children:[L.jsx("h2",{className:"text-xl font-bold text-white mb-4 border-b border-gray-600 pb-2",children:"Informacin del Conductor"}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-gray-400 font-medium",children:"Nombre:"}),L.jsx("span",{className:"text-white font-bold text-lg",children:r.nombre})]}),L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{className:"text-gray-400 font-medium",children:"Telfono:"}),L.jsx("span",{className:"text-white",children:r.telefono})]})]})]}),L.jsxs("div",{className:"bg-gray-700 p-6 rounded-xl mb-6 border border-gray-600",children:[L.jsx("h2",{className:"text-xl font-bold text-white mb-4 border-b border-gray-600 pb-2",children:"Ingresos Promedio"}),L.jsxs("div",{className:"bg-green-900/30 p-4 rounded-lg border border-green-500/50 mb-4",children:[L.jsx("p",{className:"text-gray-300 text-sm mb-2 text-center",children:"Promedio Mensual (ltimos 3 meses)"}),L.jsxs("p",{className:"text-4xl font-extrabold text-green-400 text-center",children:["$",s.toFixed(2),L.jsx("span",{className:"text-lg text-gray-400 ml-2",children:"MXN"})]})]}),L.jsxs("div",{className:"text-gray-400 text-sm",children:[L.jsx("p",{className:"mb-2",children:L.jsx("span",{className:"font-medium text-white",children:"Perodo evaluado:"})}),L.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:a.map((d,g)=>L.jsx("li",{className:"text-gray-300",children:d},g))})]})]}),L.jsxs("div",{className:"bg-blue-900/30 p-6 rounded-xl border border-blue-500/50",children:[L.jsxs("p",{className:"text-blue-300 text-center text-sm leading-relaxed",children:["Esta informacin coincide con los registros oficiales de",L.jsx("span",{className:"font-bold text-white",children:" SpeedCabsZapotlan S.A.S de C.V."})]}),L.jsx("p",{className:"text-gray-400 text-center text-xs mt-3",children:"Documento verificado mediante cdigo QR oficial"})]}),L.jsx("div",{className:"mt-6 text-center",children:L.jsx("p",{className:"text-gray-500 text-xs",children:"Este comprobante es vlido nicamente si se accede mediante el cdigo QR oficial proporcionado en el documento impreso."})})]})})};Rv(document.getElementById("root")).render(L.jsx(se.StrictMode,{children:L.jsx(f8,{children:L.jsxs(zR,{children:[L.jsx(B2,{path:"/validar/:id",element:L.jsx(u$,{})}),L.jsx(B2,{path:"/",element:L.jsx(l$,{children:L.jsx(a$,{})})})]})})}));export{_n as _,h$ as c,gC as g};
